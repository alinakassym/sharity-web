(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var f1={exports:{}},Pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function yT(){if(o0)return Pl;o0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:h,ref:o!==void 0?o:null,props:u}}return Pl.Fragment=t,Pl.jsx=n,Pl.jsxs=n,Pl}var l0;function _T(){return l0||(l0=1,f1.exports=yT()),f1.exports}var j=_T(),d1={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function vT(){if(u0)return It;u0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function C(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,$={};function G(D,tt,ct){this.props=D,this.context=tt,this.refs=$,this.updater=ct||P}G.prototype.isReactComponent={},G.prototype.setState=function(D,tt){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,tt,"setState")},G.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function rt(){}rt.prototype=G.prototype;function et(D,tt,ct){this.props=D,this.context=tt,this.refs=$,this.updater=ct||P}var it=et.prototype=new rt;it.constructor=et,Q(it,G.prototype),it.isPureReactComponent=!0;var Et=Array.isArray,at={H:null,A:null,T:null,S:null,V:null},vt=Object.prototype.hasOwnProperty;function x(D,tt,ct,ot,pt,Ot){return ct=Ot.ref,{$$typeof:s,type:D,key:tt,ref:ct!==void 0?ct:null,props:Ot}}function A(D,tt){return x(D.type,tt,void 0,void 0,void 0,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function N(D){var tt={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ct){return tt[ct]})}var V=/\/+/g;function L(D,tt){return typeof D=="object"&&D!==null&&D.key!=null?N(""+D.key):tt.toString(36)}function I(){}function he(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(I,I):(D.status="pending",D.then(function(tt){D.status==="pending"&&(D.status="fulfilled",D.value=tt)},function(tt){D.status==="pending"&&(D.status="rejected",D.reason=tt)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ie(D,tt,ct,ot,pt){var Ot=typeof D;(Ot==="undefined"||Ot==="boolean")&&(D=null);var St=!1;if(D===null)St=!0;else switch(Ot){case"bigint":case"string":case"number":St=!0;break;case"object":switch(D.$$typeof){case s:case t:St=!0;break;case E:return St=D._init,ie(St(D._payload),tt,ct,ot,pt)}}if(St)return pt=pt(D),St=ot===""?"."+L(D,0):ot,Et(pt)?(ct="",St!=null&&(ct=St.replace(V,"$&/")+"/"),ie(pt,tt,ct,"",function(Bn){return Bn})):pt!=null&&(R(pt)&&(pt=A(pt,ct+(pt.key==null||D&&D.key===pt.key?"":(""+pt.key).replace(V,"$&/")+"/")+St)),tt.push(pt)),1;St=0;var Ue=ot===""?".":ot+":";if(Et(D))for(var Kt=0;Kt<D.length;Kt++)ot=D[Kt],Ot=Ue+L(ot,Kt),St+=ie(ot,tt,ct,Ot,pt);else if(Kt=C(D),typeof Kt=="function")for(D=Kt.call(D),Kt=0;!(ot=D.next()).done;)ot=ot.value,Ot=Ue+L(ot,Kt++),St+=ie(ot,tt,ct,Ot,pt);else if(Ot==="object"){if(typeof D.then=="function")return ie(he(D),tt,ct,ot,pt);throw tt=String(D),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return St}function Y(D,tt,ct){if(D==null)return D;var ot=[],pt=0;return ie(D,ot,"","",function(Ot){return tt.call(ct,Ot,pt++)}),ot}function lt(D){if(D._status===-1){var tt=D._result;tt=tt(),tt.then(function(ct){(D._status===0||D._status===-1)&&(D._status=1,D._result=ct)},function(ct){(D._status===0||D._status===-1)&&(D._status=2,D._result=ct)}),D._status===-1&&(D._status=0,D._result=tt)}if(D._status===1)return D._result.default;throw D._result}var yt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function kt(){}return It.Children={map:Y,forEach:function(D,tt,ct){Y(D,function(){tt.apply(this,arguments)},ct)},count:function(D){var tt=0;return Y(D,function(){tt++}),tt},toArray:function(D){return Y(D,function(tt){return tt})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},It.Component=G,It.Fragment=n,It.Profiler=o,It.PureComponent=et,It.StrictMode=r,It.Suspense=g,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=at,It.__COMPILER_RUNTIME={__proto__:null,c:function(D){return at.H.useMemoCache(D)}},It.cache=function(D){return function(){return D.apply(null,arguments)}},It.cloneElement=function(D,tt,ct){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ot=Q({},D.props),pt=D.key,Ot=void 0;if(tt!=null)for(St in tt.ref!==void 0&&(Ot=void 0),tt.key!==void 0&&(pt=""+tt.key),tt)!vt.call(tt,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&tt.ref===void 0||(ot[St]=tt[St]);var St=arguments.length-2;if(St===1)ot.children=ct;else if(1<St){for(var Ue=Array(St),Kt=0;Kt<St;Kt++)Ue[Kt]=arguments[Kt+2];ot.children=Ue}return x(D.type,pt,void 0,void 0,Ot,ot)},It.createContext=function(D){return D={$$typeof:h,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},It.createElement=function(D,tt,ct){var ot,pt={},Ot=null;if(tt!=null)for(ot in tt.key!==void 0&&(Ot=""+tt.key),tt)vt.call(tt,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(pt[ot]=tt[ot]);var St=arguments.length-2;if(St===1)pt.children=ct;else if(1<St){for(var Ue=Array(St),Kt=0;Kt<St;Kt++)Ue[Kt]=arguments[Kt+2];pt.children=Ue}if(D&&D.defaultProps)for(ot in St=D.defaultProps,St)pt[ot]===void 0&&(pt[ot]=St[ot]);return x(D,Ot,void 0,void 0,null,pt)},It.createRef=function(){return{current:null}},It.forwardRef=function(D){return{$$typeof:m,render:D}},It.isValidElement=R,It.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:lt}},It.memo=function(D,tt){return{$$typeof:p,type:D,compare:tt===void 0?null:tt}},It.startTransition=function(D){var tt=at.T,ct={};at.T=ct;try{var ot=D(),pt=at.S;pt!==null&&pt(ct,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(kt,yt)}catch(Ot){yt(Ot)}finally{at.T=tt}},It.unstable_useCacheRefresh=function(){return at.H.useCacheRefresh()},It.use=function(D){return at.H.use(D)},It.useActionState=function(D,tt,ct){return at.H.useActionState(D,tt,ct)},It.useCallback=function(D,tt){return at.H.useCallback(D,tt)},It.useContext=function(D){return at.H.useContext(D)},It.useDebugValue=function(){},It.useDeferredValue=function(D,tt){return at.H.useDeferredValue(D,tt)},It.useEffect=function(D,tt,ct){var ot=at.H;if(typeof ct=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ot.useEffect(D,tt)},It.useId=function(){return at.H.useId()},It.useImperativeHandle=function(D,tt,ct){return at.H.useImperativeHandle(D,tt,ct)},It.useInsertionEffect=function(D,tt){return at.H.useInsertionEffect(D,tt)},It.useLayoutEffect=function(D,tt){return at.H.useLayoutEffect(D,tt)},It.useMemo=function(D,tt){return at.H.useMemo(D,tt)},It.useOptimistic=function(D,tt){return at.H.useOptimistic(D,tt)},It.useReducer=function(D,tt,ct){return at.H.useReducer(D,tt,ct)},It.useRef=function(D){return at.H.useRef(D)},It.useState=function(D){return at.H.useState(D)},It.useSyncExternalStore=function(D,tt,ct){return at.H.useSyncExternalStore(D,tt,ct)},It.useTransition=function(){return at.H.useTransition()},It.version="19.1.1",It}var c0;function um(){return c0||(c0=1,d1.exports=vT()),d1.exports}var K=um(),m1={exports:{}},Ll={},g1={exports:{}},p1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function ET(){return h0||(h0=1,(function(s){function t(Y,lt){var yt=Y.length;Y.push(lt);t:for(;0<yt;){var kt=yt-1>>>1,D=Y[kt];if(0<o(D,lt))Y[kt]=lt,Y[yt]=D,yt=kt;else break t}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var lt=Y[0],yt=Y.pop();if(yt!==lt){Y[0]=yt;t:for(var kt=0,D=Y.length,tt=D>>>1;kt<tt;){var ct=2*(kt+1)-1,ot=Y[ct],pt=ct+1,Ot=Y[pt];if(0>o(ot,yt))pt<D&&0>o(Ot,ot)?(Y[kt]=Ot,Y[pt]=yt,kt=pt):(Y[kt]=ot,Y[ct]=yt,kt=ct);else if(pt<D&&0>o(Ot,yt))Y[kt]=Ot,Y[pt]=yt,kt=pt;else break t}}return lt}function o(Y,lt){var yt=Y.sortIndex-lt.sortIndex;return yt!==0?yt:Y.id-lt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();s.unstable_now=function(){return h.now()-m}}var g=[],p=[],E=1,b=null,C=3,P=!1,Q=!1,$=!1,G=!1,rt=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function Et(Y){for(var lt=n(p);lt!==null;){if(lt.callback===null)r(p);else if(lt.startTime<=Y)r(p),lt.sortIndex=lt.expirationTime,t(g,lt);else break;lt=n(p)}}function at(Y){if($=!1,Et(Y),!Q)if(n(g)!==null)Q=!0,vt||(vt=!0,L());else{var lt=n(p);lt!==null&&ie(at,lt.startTime-Y)}}var vt=!1,x=-1,A=5,R=-1;function N(){return G?!0:!(s.unstable_now()-R<A)}function V(){if(G=!1,vt){var Y=s.unstable_now();R=Y;var lt=!0;try{t:{Q=!1,$&&($=!1,et(x),x=-1),P=!0;var yt=C;try{e:{for(Et(Y),b=n(g);b!==null&&!(b.expirationTime>Y&&N());){var kt=b.callback;if(typeof kt=="function"){b.callback=null,C=b.priorityLevel;var D=kt(b.expirationTime<=Y);if(Y=s.unstable_now(),typeof D=="function"){b.callback=D,Et(Y),lt=!0;break e}b===n(g)&&r(g),Et(Y)}else r(g);b=n(g)}if(b!==null)lt=!0;else{var tt=n(p);tt!==null&&ie(at,tt.startTime-Y),lt=!1}}break t}finally{b=null,C=yt,P=!1}lt=void 0}}finally{lt?L():vt=!1}}}var L;if(typeof it=="function")L=function(){it(V)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,he=I.port2;I.port1.onmessage=V,L=function(){he.postMessage(null)}}else L=function(){rt(V,0)};function ie(Y,lt){x=rt(function(){Y(s.unstable_now())},lt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Y){Y.callback=null},s.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Y?Math.floor(1e3/Y):5},s.unstable_getCurrentPriorityLevel=function(){return C},s.unstable_next=function(Y){switch(C){case 1:case 2:case 3:var lt=3;break;default:lt=C}var yt=C;C=lt;try{return Y()}finally{C=yt}},s.unstable_requestPaint=function(){G=!0},s.unstable_runWithPriority=function(Y,lt){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var yt=C;C=Y;try{return lt()}finally{C=yt}},s.unstable_scheduleCallback=function(Y,lt,yt){var kt=s.unstable_now();switch(typeof yt=="object"&&yt!==null?(yt=yt.delay,yt=typeof yt=="number"&&0<yt?kt+yt:kt):yt=kt,Y){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=yt+D,Y={id:E++,callback:lt,priorityLevel:Y,startTime:yt,expirationTime:D,sortIndex:-1},yt>kt?(Y.sortIndex=yt,t(p,Y),n(g)===null&&Y===n(p)&&($?(et(x),x=-1):$=!0,ie(at,yt-kt))):(Y.sortIndex=D,t(g,Y),Q||P||(Q=!0,vt||(vt=!0,L()))),Y},s.unstable_shouldYield=N,s.unstable_wrapCallback=function(Y){var lt=C;return function(){var yt=C;C=lt;try{return Y.apply(this,arguments)}finally{C=yt}}}})(p1)),p1}var f0;function TT(){return f0||(f0=1,g1.exports=ET()),g1.exports}var y1={exports:{}},Ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function bT(){if(d0)return Ye;d0=1;var s=um();function t(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:p,implementation:E}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ye.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(g,p,null,E)},Ye.flushSync=function(g){var p=h.T,E=r.p;try{if(h.T=null,r.p=2,g)return g()}finally{h.T=p,r.p=E,r.d.f()}},Ye.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},Ye.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Ye.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,b=m(E,p.crossOrigin),C=typeof p.integrity=="string"?p.integrity:void 0,P=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:C,fetchPriority:P}):E==="script"&&r.d.X(g,{crossOrigin:b,integrity:C,fetchPriority:P,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ye.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},Ye.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,b=m(E,p.crossOrigin);r.d.L(g,E,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ye.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=m(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},Ye.requestFormReset=function(g){r.d.r(g)},Ye.unstable_batchedUpdates=function(g,p){return g(p)},Ye.useFormState=function(g,p,E){return h.H.useFormState(g,p,E)},Ye.useFormStatus=function(){return h.H.useHostTransitionStatus()},Ye.version="19.1.1",Ye}var m0;function ST(){if(m0)return y1.exports;m0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),y1.exports=bT(),y1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function AT(){if(g0)return Ll;g0=1;var s=TT(),t=um(),n=ST();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function h(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(r(188))}function g(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),e;if(d===l)return m(f),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,T=f.child;T;){if(T===a){v=!0,a=f,l=d;break}if(T===l){v=!0,l=f,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=f;break}if(T===l){v=!0,l=d,a=f;break}T=T.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function p(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=p(e),i!==null)return i;e=e.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),rt=Symbol.for("react.provider"),et=Symbol.for("react.consumer"),it=Symbol.for("react.context"),Et=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),vt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function he(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Q:return"Fragment";case G:return"Profiler";case $:return"StrictMode";case at:return"Suspense";case vt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case P:return"Portal";case it:return(e.displayName||"Context")+".Provider";case et:return(e._context.displayName||"Context")+".Consumer";case Et:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return i=e.displayName||null,i!==null?i:he(e.type)||"Memo";case A:i=e._payload,e=e._init;try{return he(e(i))}catch{}}return null}var ie=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt={pending:!1,data:null,method:null,action:null},kt=[],D=-1;function tt(e){return{current:e}}function ct(e){0>D||(e.current=kt[D],kt[D]=null,D--)}function ot(e,i){D++,kt[D]=e.current,e.current=i}var pt=tt(null),Ot=tt(null),St=tt(null),Ue=tt(null);function Kt(e,i){switch(ot(St,i),ot(Ot,e),ot(pt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Py(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Py(i),e=Ly(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ct(pt),ot(pt,e)}function Bn(){ct(pt),ct(Ot),ct(St)}function xo(e){e.memoizedState!==null&&ot(Ue,e);var i=pt.current,a=Ly(i,e.type);i!==a&&(ot(Ot,e),ot(pt,a))}function ia(e){Ot.current===e&&(ct(pt),ct(Ot)),Ue.current===e&&(ct(Ue),Dl._currentValue=yt)}var ra=Object.prototype.hasOwnProperty,Zr=s.unstable_scheduleCallback,sa=s.unstable_cancelCallback,df=s.unstable_shouldYield,Do=s.unstable_requestPaint,an=s.unstable_now,Du=s.unstable_getCurrentPriorityLevel,we=s.unstable_ImmediatePriority,Me=s.unstable_UserBlockingPriority,Ei=s.unstable_NormalPriority,mf=s.unstable_LowPriority,Vo=s.unstable_IdlePriority,gf=s.log,$r=s.unstable_setDisableYieldValue,$i=null,Ge=null;function Tn(e){if(typeof gf=="function"&&$r(e),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode($i,e)}catch{}}var Je=Math.clz32?Math.clz32:Mu,pf=Math.log,Vu=Math.LN2;function Mu(e){return e>>>=0,e===0?32:31-(pf(e)/Vu|0)|0}var $n=256,Ji=4194304;function Un(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function bn(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?f=Un(l):(v&=T,v!==0?f=Un(v):a||(a=T&~e,a!==0&&(f=Un(a))))):(T=l&~d,T!==0?f=Un(T):v!==0?f=Un(v):a||(a=l&~e,a!==0&&(f=Un(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Wi(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function aa(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mo(){var e=$n;return $n<<=1,($n&4194048)===0&&($n=256),e}function tr(){var e=Ji;return Ji<<=1,(Ji&62914560)===0&&(Ji=4194304),e}function oa(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function ge(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Nu(e,i,a,l,f,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,w=e.expirationTimes,z=e.hiddenUpdates;for(a=v&~a;0<a;){var X=31-Je(a),J=1<<X;T[X]=0,w[X]=-1;var q=z[X];if(q!==null)for(z[X]=null,X=0;X<q.length;X++){var H=q[X];H!==null&&(H.lane&=-536870913)}a&=~J}l!==0&&er(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function er(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Je(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function nr(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-Je(a),f=1<<l;f&i|e[l]&i&&(e[l]|=i),a&=~f}}function No(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ti(){var e=lt.p;return e!==0?e:(e=window.event,e===void 0?32:e0(e.type))}function yf(e,i){var a=lt.p;try{return lt.p=e,i()}finally{lt.p=a}}var Jn=Math.random().toString(36).slice(2),pe="__reactFiber$"+Jn,ke="__reactProps$"+Jn,bi="__reactContainer$"+Jn,Jr="__reactEvents$"+Jn,Wr="__reactListeners$"+Jn,_f="__reactHandles$"+Jn,kn="__reactResources$"+Jn,ir="__reactMarker$"+Jn;function la(e){delete e[pe],delete e[ke],delete e[Jr],delete e[Wr],delete e[_f]}function Wn(e){var i=e[pe];if(i)return i;for(var a=e.parentNode;a;){if(i=a[bi]||a[pe]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=zy(e);e!==null;){if(a=e[pe])return a;e=zy(e)}return i}e=a,a=e.parentNode}return null}function ti(e){if(e=e[pe]||e[bi]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function rr(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function sr(e){var i=e[kn];return i||(i=e[kn]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ye(e){e[ir]=!0}var Ou=new Set,ts={};function ei(e,i){ni(e,i),ni(e+"Capture",i)}function ni(e,i){for(ts[e]=i,e=0;e<i.length;e++)Ou.add(i[e])}var es=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ii={},ua={};function vf(e){return ra.call(ua,e)?!0:ra.call(ii,e)?!1:es.test(e)?ua[e]=!0:(ii[e]=!0,!1)}function ns(e,i,a){if(vf(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function is(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Sn(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var rs,ca;function Si(e){if(rs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);rs=i&&i[1]||"",ca=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rs+e+ca}var ha=!1;function fa(e,i){if(!e||ha)return"";ha=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(H){var q=H}Reflect.construct(e,[],J)}else{try{J.call()}catch(H){q=H}e.call(J.prototype)}}else{try{throw Error()}catch(H){q=H}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var w=v.split(`
`),z=T.split(`
`);for(f=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;if(l===w.length||f===z.length)for(l=w.length-1,f=z.length-1;1<=l&&0<=f&&w[l]!==z[f];)f--;for(;1<=l&&0<=f;l--,f--)if(w[l]!==z[f]){if(l!==1||f!==1)do if(l--,f--,0>f||w[l]!==z[f]){var X=`
`+w[l].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=l&&0<=f);break}}}finally{ha=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Si(a):""}function Ef(e){switch(e.tag){case 26:case 27:case 5:return Si(e.type);case 16:return Si("Lazy");case 13:return Si("Suspense");case 19:return Si("SuspenseList");case 0:case 15:return fa(e.type,!1);case 11:return fa(e.type.render,!1);case 1:return fa(e.type,!0);case 31:return Si("Activity");default:return""}}function zn(e){try{var i="";do i+=Ef(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function oe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ar(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ss(e){var i=ar(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return f.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function or(e){e._valueTracker||(e._valueTracker=ss(e))}function Qt(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=ar(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function Ai(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var as=/[\n"\\]/g;function Ne(e){return e.replace(as,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Po(e,i,a,l,f,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+oe(i)):e.value!==""+oe(i)&&(e.value=""+oe(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?Bo(e,v,oe(i)):a!=null?Bo(e,v,oe(a)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+oe(T):e.removeAttribute("name")}function Lo(e,i,a,l,f,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+oe(a):"",i=i!=null?""+oe(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Bo(e,i,a){i==="number"&&Ai(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function lr(e,i,a,l){if(e=e.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=i.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+oe(a),i=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}i!==null||e[f].disabled||(i=e[f])}i!==null&&(i.selected=!0)}}function Pu(e,i,a){if(i!=null&&(i=""+oe(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+oe(a):""}function Lu(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(ie(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=oe(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function An(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Ci=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Ci.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function ko(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Uo(e,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Uo(e,d,i[d])}function da(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jn(e){return Uu.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var zo=null;function jo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ur=null,We=null;function ku(e){var i=ti(e);if(i&&(e=i.stateNode)){var a=e[ke]||null;t:switch(e=i.stateNode,i.type){case"input":if(Po(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ne(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var f=l[ke]||null;if(!f)throw Error(r(90));Po(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Qt(l)}break t;case"textarea":Pu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&lr(e,!!a.multiple,i,!1)}}}var os=!1;function ls(e,i,a){if(os)return e(i,a);os=!0;try{var l=e(i);return l}finally{if(os=!1,(ur!==null||We!==null)&&(Ic(),ur&&(i=ur,e=We,We=ur=null,ku(i),e)))for(i=0;i<e.length;i++)ku(e[i])}}function cr(e,i){var a=e.stateNode;if(a===null)return null;var l=a[ke]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ri=!1;if(tn)try{var hr={};Object.defineProperty(hr,"passive",{get:function(){Ri=!0}}),window.addEventListener("test",hr,hr),window.removeEventListener("test",hr,hr)}catch{Ri=!1}var Cn=null,te=null,ma=null;function zu(){if(ma)return ma;var e,i=te,a=i.length,l,f="value"in Cn?Cn.value:Cn.textContent,d=f.length;for(e=0;e<a&&i[e]===f[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===f[d-l];l++);return ma=f.slice(e,1<l?1-l:void 0)}function us(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function cs(){return!0}function qo(){return!1}function Ie(e){function i(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?cs:qo,this.isPropagationStopped=qo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),i}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hs=Ie(Ke),fs=E({},Ke,{view:0,detail:0}),ds=Ie(fs),ga,ms,ri,gs=E({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_a,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ri&&(ri&&e.type==="mousemove"?(ga=e.screenX-ri.screenX,ms=e.screenY-ri.screenY):ms=ga=0,ri=e),ga)},movementY:function(e){return"movementY"in e?e.movementY:ms}}),ps=Ie(gs),Tf=E({},gs,{dataTransfer:0}),ju=Ie(Tf),ys=E({},fs,{relatedTarget:0}),pa=Ie(ys),qu=E({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),Ho=Ie(qu),Fo=E({},Ke,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hu=Ie(Fo),ya=E({},Ke,{data:0}),Go=Ie(ya),Fu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ku(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Gu[e])?!!i[e]:!1}function _a(){return Ku}var Qu=E({},fs,{key:function(e){if(e.key){var i=Fu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=us(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wi[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_a,charCode:function(e){return e.type==="keypress"?us(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?us(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),va=Ie(Qu),en=E({},gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ko=Ie(en),Yu=E({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_a}),fr=Ie(Yu),c=E({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),y=Ie(c),_=E({},gs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),S=Ie(_),k=E({},Ke,{newState:0,oldState:0}),F=Ie(k),st=[9,13,27,32],Ct=tn&&"CompositionEvent"in window,ne=null;tn&&"documentMode"in document&&(ne=document.documentMode);var qt=tn&&"TextEvent"in window&&!ne,_e=tn&&(!Ct||ne&&8<ne&&11>=ne),cn=" ",si=!1;function qn(e,i){switch(e){case"keyup":return st.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fn=!1;function Qo(e,i){switch(e){case"compositionend":return Hn(i);case"keypress":return i.which!==32?null:(si=!0,cn);case"textInput":return e=i.data,e===cn&&si?null:e;default:return null}}function FE(e,i){if(Fn)return e==="compositionend"||!Ct&&qn(e,i)?(e=zu(),ma=te=Cn=null,Fn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _e&&i.locale!=="ko"?null:i.data;default:return null}}var GE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xm(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!GE[e.type]:i==="textarea"}function Zm(e,i,a,l){ur?We?We.push(l):We=[l]:ur=l,i=Oc(i,"onChange"),0<i.length&&(a=new hs("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Yo=null,Xo=null;function KE(e){Dy(e,0)}function Xu(e){var i=rr(e);if(Qt(i))return e}function $m(e,i){if(e==="change")return i}var Jm=!1;if(tn){var bf;if(tn){var Sf="oninput"in document;if(!Sf){var Wm=document.createElement("div");Wm.setAttribute("oninput","return;"),Sf=typeof Wm.oninput=="function"}bf=Sf}else bf=!1;Jm=bf&&(!document.documentMode||9<document.documentMode)}function tg(){Yo&&(Yo.detachEvent("onpropertychange",eg),Xo=Yo=null)}function eg(e){if(e.propertyName==="value"&&Xu(Xo)){var i=[];Zm(i,Xo,e,jo(e)),ls(KE,i)}}function QE(e,i,a){e==="focusin"?(tg(),Yo=i,Xo=a,Yo.attachEvent("onpropertychange",eg)):e==="focusout"&&tg()}function YE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xu(Xo)}function XE(e,i){if(e==="click")return Xu(i)}function ZE(e,i){if(e==="input"||e==="change")return Xu(i)}function $E(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var hn=typeof Object.is=="function"?Object.is:$E;function Zo(e,i){if(hn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ra.call(i,f)||!hn(e[f],i[f]))return!1}return!0}function ng(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ig(e,i){var a=ng(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=ng(a)}}function rg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?rg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function sg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Ai(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Ai(e.document)}return i}function Af(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var JE=tn&&"documentMode"in document&&11>=document.documentMode,Ea=null,Cf=null,$o=null,Rf=!1;function ag(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Rf||Ea==null||Ea!==Ai(l)||(l=Ea,"selectionStart"in l&&Af(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$o&&Zo($o,l)||($o=l,l=Oc(Cf,"onSelect"),0<l.length&&(i=new hs("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Ea)))}function _s(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ta={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionrun:_s("Transition","TransitionRun"),transitionstart:_s("Transition","TransitionStart"),transitioncancel:_s("Transition","TransitionCancel"),transitionend:_s("Transition","TransitionEnd")},wf={},og={};tn&&(og=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function vs(e){if(wf[e])return wf[e];if(!Ta[e])return e;var i=Ta[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in og)return wf[e]=i[a];return e}var lg=vs("animationend"),ug=vs("animationiteration"),cg=vs("animationstart"),WE=vs("transitionrun"),t4=vs("transitionstart"),e4=vs("transitioncancel"),hg=vs("transitionend"),fg=new Map,If="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");If.push("scrollEnd");function Gn(e,i){fg.set(e,i),ei(i,[e])}var dg=new WeakMap;function Rn(e,i){if(typeof e=="object"&&e!==null){var a=dg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:zn(i)},dg.set(e,i),i)}return{value:e,source:i,stack:zn(i)}}var wn=[],ba=0,xf=0;function Zu(){for(var e=ba,i=xf=ba=0;i<e;){var a=wn[i];wn[i++]=null;var l=wn[i];wn[i++]=null;var f=wn[i];wn[i++]=null;var d=wn[i];if(wn[i++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&mg(a,f,d)}}function $u(e,i,a,l){wn[ba++]=e,wn[ba++]=i,wn[ba++]=a,wn[ba++]=l,xf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Df(e,i,a,l){return $u(e,i,a,l),Ju(e)}function Sa(e,i){return $u(e,null,null,i),Ju(e)}function mg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&i!==null&&(f=31-Je(a),e=d.hiddenUpdates,l=e[f],l===null?e[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function Ju(e){if(50<bl)throw bl=0,Ld=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Aa={};function n4(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,i,a,l){return new n4(e,i,a,l)}function Vf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ii(e,i){var a=e.alternate;return a===null?(a=fn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function gg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Wu(e,i,a,l,f,d){var v=0;if(l=e,typeof e=="function")Vf(e)&&(v=1);else if(typeof e=="string")v=rT(e,a,pt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=fn(31,a,i,f),e.elementType=R,e.lanes=d,e;case Q:return Es(a.children,f,d,i);case $:v=8,f|=24;break;case G:return e=fn(12,a,i,f|2),e.elementType=G,e.lanes=d,e;case at:return e=fn(13,a,i,f),e.elementType=at,e.lanes=d,e;case vt:return e=fn(19,a,i,f),e.elementType=vt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rt:case it:v=10;break t;case et:v=9;break t;case Et:v=11;break t;case x:v=14;break t;case A:v=16,l=null;break t}v=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return i=fn(v,a,i,f),i.elementType=e,i.type=l,i.lanes=d,i}function Es(e,i,a,l){return e=fn(7,e,l,i),e.lanes=a,e}function Mf(e,i,a){return e=fn(6,e,null,i),e.lanes=a,e}function Nf(e,i,a){return i=fn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Ca=[],Ra=0,tc=null,ec=0,In=[],xn=0,Ts=null,xi=1,Di="";function bs(e,i){Ca[Ra++]=ec,Ca[Ra++]=tc,tc=e,ec=i}function pg(e,i,a){In[xn++]=xi,In[xn++]=Di,In[xn++]=Ts,Ts=e;var l=xi;e=Di;var f=32-Je(l)-1;l&=~(1<<f),a+=1;var d=32-Je(i)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,xi=1<<32-Je(i)+f|a<<f|l,Di=d+e}else xi=1<<d|a<<f|l,Di=e}function Of(e){e.return!==null&&(bs(e,1),pg(e,1,0))}function Pf(e){for(;e===tc;)tc=Ca[--Ra],Ca[Ra]=null,ec=Ca[--Ra],Ca[Ra]=null;for(;e===Ts;)Ts=In[--xn],In[xn]=null,Di=In[--xn],In[xn]=null,xi=In[--xn],In[xn]=null}var nn=null,fe=null,jt=!1,Ss=null,ai=!1,Lf=Error(r(519));function As(e){var i=Error(r(418,""));throw tl(Rn(i,e)),Lf}function yg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[pe]=e,i[ke]=l,a){case"dialog":Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":case"embed":Mt("load",i);break;case"video":case"audio":for(a=0;a<Al.length;a++)Mt(Al[a],i);break;case"source":Mt("error",i);break;case"img":case"image":case"link":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"input":Mt("invalid",i),Lo(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),or(i);break;case"select":Mt("invalid",i);break;case"textarea":Mt("invalid",i),Lu(i,l.value,l.defaultValue,l.children),or(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Oy(i.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",i),Mt("toggle",i)),l.onScroll!=null&&Mt("scroll",i),l.onScrollEnd!=null&&Mt("scrollend",i),l.onClick!=null&&(i.onclick=Pc),i=!0):i=!1,i||As(e)}function _g(e){for(nn=e.return;nn;)switch(nn.tag){case 5:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:nn=nn.return}}function Jo(e){if(e!==nn)return!1;if(!jt)return _g(e),jt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Jd(e.type,e.memoizedProps)),a=!a),a&&fe&&As(e),_g(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){fe=Qn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}fe=null}}else i===27?(i=fe,Ir(e.type)?(e=n1,n1=null,fe=e):fe=i):fe=nn?Qn(e.stateNode.nextSibling):null;return!0}function Wo(){fe=nn=null,jt=!1}function vg(){var e=Ss;return e!==null&&(un===null?un=e:un.push.apply(un,e),Ss=null),e}function tl(e){Ss===null?Ss=[e]:Ss.push(e)}var Bf=tt(null),Cs=null,Vi=null;function dr(e,i,a){ot(Bf,i._currentValue),i._currentValue=a}function Mi(e){e._currentValue=Bf.current,ct(Bf)}function Uf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function kf(e,i,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=f;for(var w=0;w<i.length;w++)if(T.context===i[w]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Uf(d.return,a,e),l||(v=null);break t}d=T.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(r(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Uf(v,a,e),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===e){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function el(e,i,a,l){e=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var T=f.type;hn(f.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(f===Ue.current){if(v=f.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Dl):e=[Dl])}f=f.return}e!==null&&kf(i,e,a,l),i.flags|=262144}function nc(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Rs(e){Cs=e,Vi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qe(e){return Eg(Cs,e)}function ic(e,i){return Cs===null&&Rs(e),Eg(e,i)}function Eg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Vi===null){if(e===null)throw Error(r(308));Vi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Vi=Vi.next=i;return a}var i4=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},r4=s.unstable_scheduleCallback,s4=s.unstable_NormalPriority,xe={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zf(){return{controller:new i4,data:new Map,refCount:0}}function nl(e){e.refCount--,e.refCount===0&&r4(s4,function(){e.controller.abort()})}var il=null,jf=0,wa=0,Ia=null;function a4(e,i){if(il===null){var a=il=[];jf=0,wa=Hd(),Ia={status:"pending",value:void 0,then:function(l){a.push(l)}}}return jf++,i.then(Tg,Tg),i}function Tg(){if(--jf===0&&il!==null){Ia!==null&&(Ia.status="fulfilled");var e=il;il=null,wa=0,Ia=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function o4(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var bg=Y.S;Y.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&a4(e,i),bg!==null&&bg(e,i)};var ws=tt(null);function qf(){var e=ws.current;return e!==null?e:ee.pooledCache}function rc(e,i){i===null?ot(ws,ws.current):ot(ws,i.pool)}function Sg(){var e=qf();return e===null?null:{parent:xe._currentValue,pool:e}}var rl=Error(r(460)),Ag=Error(r(474)),sc=Error(r(542)),Hf={then:function(){}};function Cg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ac(){}function Rg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(ac,ac),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ig(e),e;default:if(typeof i.status=="string")i.then(ac,ac);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ig(e),e}throw sl=i,rl}}var sl=null;function wg(){if(sl===null)throw Error(r(459));var e=sl;return sl=null,e}function Ig(e){if(e===rl||e===sc)throw Error(r(483))}var mr=!1;function Ff(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function gr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function pr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=Ju(e),mg(e,null,a),i}return $u(e,l,i,a),Ju(e)}function al(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,nr(e,a)}}function Kf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Qf=!1;function ol(){if(Qf){var e=Ia;if(e!==null)throw e}}function ll(e,i,a,l){Qf=!1;var f=e.updateQueue;mr=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var w=T,z=w.next;w.next=null,v===null?d=z:v.next=z,v=w;var X=e.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==v&&(T===null?X.firstBaseUpdate=z:T.next=z,X.lastBaseUpdate=w))}if(d!==null){var J=f.baseState;v=0,X=z=w=null,T=d;do{var q=T.lane&-536870913,H=q!==T.lane;if(H?(Lt&q)===q:(l&q)===q){q!==0&&q===wa&&(Qf=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var At=e,Tt=T;q=i;var Zt=a;switch(Tt.tag){case 1:if(At=Tt.payload,typeof At=="function"){J=At.call(Zt,J,q);break t}J=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=Tt.payload,q=typeof At=="function"?At.call(Zt,J,q):At,q==null)break t;J=E({},J,q);break t;case 2:mr=!0}}q=T.callback,q!==null&&(e.flags|=64,H&&(e.flags|=8192),H=f.callbacks,H===null?f.callbacks=[q]:H.push(q))}else H={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(z=X=H,w=J):X=X.next=H,v|=q;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;H=T,T=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);X===null&&(w=J),f.baseState=w,f.firstBaseUpdate=z,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),Ar|=v,e.lanes=v,e.memoizedState=J}}function xg(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function Dg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)xg(a[e],i)}var xa=tt(null),oc=tt(0);function Vg(e,i){e=ki,ot(oc,e),ot(xa,i),ki=e|i.baseLanes}function Yf(){ot(oc,ki),ot(xa,xa.current)}function Xf(){ki=oc.current,ct(xa),ct(oc)}var yr=0,xt=null,Yt=null,be=null,lc=!1,Da=!1,Is=!1,uc=0,ul=0,Va=null,l4=0;function ve(){throw Error(r(321))}function Zf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!hn(e[a],i[a]))return!1;return!0}function $f(e,i,a,l,f,d){return yr=d,xt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=e===null||e.memoizedState===null?mp:gp,Is=!1,d=a(l,f),Is=!1,Da&&(d=Ng(i,a,l,f)),Mg(e),d}function Mg(e){Y.H=gc;var i=Yt!==null&&Yt.next!==null;if(yr=0,be=Yt=xt=null,lc=!1,ul=0,Va=null,i)throw Error(r(300));e===null||Oe||(e=e.dependencies,e!==null&&nc(e)&&(Oe=!0))}function Ng(e,i,a,l){xt=e;var f=0;do{if(Da&&(Va=null),ul=0,Da=!1,25<=f)throw Error(r(301));if(f+=1,be=Yt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=g4,d=i(a,l)}while(Da);return d}function u4(){var e=Y.H,i=e.useState()[0];return i=typeof i.then=="function"?cl(i):i,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(xt.flags|=1024),i}function Jf(){var e=uc!==0;return uc=0,e}function Wf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function td(e){if(lc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}lc=!1}yr=0,be=Yt=xt=null,Da=!1,ul=uc=0,Va=null}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?xt.memoizedState=be=e:be=be.next=e,be}function Se(){if(Yt===null){var e=xt.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var i=be===null?xt.memoizedState:be.next;if(i!==null)be=i,Yt=e;else{if(e===null)throw xt.alternate===null?Error(r(467)):Error(r(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},be===null?xt.memoizedState=be=e:be=be.next=e}return be}function ed(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(e){var i=ul;return ul+=1,Va===null&&(Va=[]),e=Rg(Va,e,i),i=xt,(be===null?i.memoizedState:be.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?mp:gp),e}function cc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return cl(e);if(e.$$typeof===it)return Qe(e)}throw Error(r(438,String(e)))}function nd(e){var i=null,a=xt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=xt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ed(),xt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=N;return i.index++,a}function Ni(e,i){return typeof i=="function"?i(e):i}function hc(e){var i=Se();return id(i,Yt,e)}function id(e,i,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}i.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{i=f.next;var T=v=null,w=null,z=i,X=!1;do{var J=z.lane&-536870913;if(J!==z.lane?(Lt&J)===J:(yr&J)===J){var q=z.revertLane;if(q===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),J===wa&&(X=!0);else if((yr&q)===q){z=z.next,q===wa&&(X=!0);continue}else J={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(T=w=J,v=d):w=w.next=J,xt.lanes|=q,Ar|=q;J=z.action,Is&&a(d,J),d=z.hasEagerState?z.eagerState:a(d,J)}else q={lane:J,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(T=w=q,v=d):w=w.next=q,xt.lanes|=J,Ar|=J;z=z.next}while(z!==null&&z!==i);if(w===null?v=d:w.next=T,!hn(d,e.memoizedState)&&(Oe=!0,X&&(a=Ia,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=w,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function rd(e){var i=Se(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=e(d,v.action),v=v.next;while(v!==f);hn(d,i.memoizedState)||(Oe=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Og(e,i,a){var l=xt,f=Se(),d=jt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var v=!hn((Yt||f).memoizedState,a);v&&(f.memoizedState=a,Oe=!0),f=f.queue;var T=Bg.bind(null,l,f,e);if(hl(2048,8,T,[e]),f.getSnapshot!==i||v||be!==null&&be.memoizedState.tag&1){if(l.flags|=2048,Ma(9,fc(),Lg.bind(null,l,f,a,i),null),ee===null)throw Error(r(349));d||(yr&124)!==0||Pg(l,i,a)}return a}function Pg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=xt.updateQueue,i===null?(i=ed(),xt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Lg(e,i,a,l){i.value=a,i.getSnapshot=l,Ug(i)&&kg(e)}function Bg(e,i,a){return a(function(){Ug(i)&&kg(e)})}function Ug(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!hn(e,a)}catch{return!0}}function kg(e){var i=Sa(e,2);i!==null&&yn(i,e,2)}function sd(e){var i=on();if(typeof e=="function"){var a=e;if(e=a(),Is){Tn(!0);try{a()}finally{Tn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:e},i}function zg(e,i,a,l){return e.baseState=a,id(e,Yt,typeof l=="function"?l:Ni)}function c4(e,i,a,l,f){if(mc(e))throw Error(r(485));if(e=i.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,jg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function jg(e,i){var a=i.action,l=i.payload,f=e.state;if(i.isTransition){var d=Y.T,v={};Y.T=v;try{var T=a(f,l),w=Y.S;w!==null&&w(v,T),qg(e,i,T)}catch(z){ad(e,i,z)}finally{Y.T=d}}else try{d=a(f,l),qg(e,i,d)}catch(z){ad(e,i,z)}}function qg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Hg(e,i,l)},function(l){return ad(e,i,l)}):Hg(e,i,a)}function Hg(e,i,a){i.status="fulfilled",i.value=a,Fg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,jg(e,a)))}function ad(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Fg(i),i=i.next;while(i!==l)}e.action=null}function Fg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Gg(e,i){return i}function Kg(e,i){if(jt){var a=ee.formState;if(a!==null){t:{var l=xt;if(jt){if(fe){e:{for(var f=fe,d=ai;f.nodeType!==8;){if(!d){f=null;break e}if(f=Qn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){fe=Qn(f.nextSibling),l=f.data==="F!";break t}}As(l)}l=!1}l&&(i=a[0])}}return a=on(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gg,lastRenderedState:i},a.queue=l,a=hp.bind(null,xt,l),l.dispatch=a,l=sd(!1),d=hd.bind(null,xt,!1,l.queue),l=on(),f={state:i,dispatch:null,action:e,pending:null},l.queue=f,a=c4.bind(null,xt,f,d,a),f.dispatch=a,l.memoizedState=e,[i,a,!1]}function Qg(e){var i=Se();return Yg(i,Yt,e)}function Yg(e,i,a){if(i=id(e,i,Gg)[0],e=hc(Ni)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=cl(i)}catch(v){throw v===rl?sc:v}else l=i;i=Se();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(xt.flags|=2048,Ma(9,fc(),h4.bind(null,f,a),null)),[l,d,e]}function h4(e,i){e.action=i}function Xg(e){var i=Se(),a=Yt;if(a!==null)return Yg(i,a,e);Se(),i=i.memoizedState,a=Se();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ma(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=xt.updateQueue,i===null&&(i=ed(),xt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function fc(){return{destroy:void 0,resource:void 0}}function Zg(){return Se().memoizedState}function dc(e,i,a,l){var f=on();l=l===void 0?null:l,xt.flags|=e,f.memoizedState=Ma(1|i,fc(),a,l)}function hl(e,i,a,l){var f=Se();l=l===void 0?null:l;var d=f.memoizedState.inst;Yt!==null&&l!==null&&Zf(l,Yt.memoizedState.deps)?f.memoizedState=Ma(i,d,a,l):(xt.flags|=e,f.memoizedState=Ma(1|i,d,a,l))}function $g(e,i){dc(8390656,8,e,i)}function Jg(e,i){hl(2048,8,e,i)}function Wg(e,i){return hl(4,2,e,i)}function tp(e,i){return hl(4,4,e,i)}function ep(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function np(e,i,a){a=a!=null?a.concat([e]):null,hl(4,4,ep.bind(null,i,e),a)}function od(){}function ip(e,i){var a=Se();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Zf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function rp(e,i){var a=Se();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Zf(i,l[1]))return l[0];if(l=e(),Is){Tn(!0);try{e()}finally{Tn(!1)}}return a.memoizedState=[l,i],l}function ld(e,i,a){return a===void 0||(yr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=oy(),xt.lanes|=e,Ar|=e,a)}function sp(e,i,a,l){return hn(a,i)?a:xa.current!==null?(e=ld(e,a,l),hn(e,i)||(Oe=!0),e):(yr&42)===0?(Oe=!0,e.memoizedState=a):(e=oy(),xt.lanes|=e,Ar|=e,i)}function ap(e,i,a,l,f){var d=lt.p;lt.p=d!==0&&8>d?d:8;var v=Y.T,T={};Y.T=T,hd(e,!1,i,a);try{var w=f(),z=Y.S;if(z!==null&&z(T,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var X=o4(w,l);fl(e,i,X,pn(e))}else fl(e,i,l,pn(e))}catch(J){fl(e,i,{then:function(){},status:"rejected",reason:J},pn())}finally{lt.p=d,Y.T=v}}function f4(){}function ud(e,i,a,l){if(e.tag!==5)throw Error(r(476));var f=op(e).queue;ap(e,f,i,yt,a===null?f4:function(){return lp(e),a(l)})}function op(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:yt,baseState:yt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:yt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function lp(e){var i=op(e).next.queue;fl(e,i,{},pn())}function cd(){return Qe(Dl)}function up(){return Se().memoizedState}function cp(){return Se().memoizedState}function d4(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=pn();e=gr(a);var l=pr(i,e,a);l!==null&&(yn(l,i,a),al(l,i,a)),i={cache:zf()},e.payload=i;return}i=i.return}}function m4(e,i,a){var l=pn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},mc(e)?fp(i,a):(a=Df(e,i,a,l),a!==null&&(yn(a,e,l),dp(a,i,l)))}function hp(e,i,a){var l=pn();fl(e,i,a,l)}function fl(e,i,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(mc(e))fp(i,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(f.hasEagerState=!0,f.eagerState=T,hn(T,v))return $u(e,i,f,0),ee===null&&Zu(),!1}catch{}finally{}if(a=Df(e,i,f,l),a!==null)return yn(a,e,l),dp(a,i,l),!0}return!1}function hd(e,i,a,l){if(l={lane:2,revertLane:Hd(),action:l,hasEagerState:!1,eagerState:null,next:null},mc(e)){if(i)throw Error(r(479))}else i=Df(e,a,l,2),i!==null&&yn(i,e,2)}function mc(e){var i=e.alternate;return e===xt||i!==null&&i===xt}function fp(e,i){Da=lc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function dp(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,nr(e,a)}}var gc={readContext:Qe,use:cc,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve},mp={readContext:Qe,use:cc,useCallback:function(e,i){return on().memoizedState=[e,i===void 0?null:i],e},useContext:Qe,useEffect:$g,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,dc(4194308,4,ep.bind(null,i,e),a)},useLayoutEffect:function(e,i){return dc(4194308,4,e,i)},useInsertionEffect:function(e,i){dc(4,2,e,i)},useMemo:function(e,i){var a=on();i=i===void 0?null:i;var l=e();if(Is){Tn(!0);try{e()}finally{Tn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=on();if(a!==void 0){var f=a(i);if(Is){Tn(!0);try{a(i)}finally{Tn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=m4.bind(null,xt,e),[l.memoizedState,e]},useRef:function(e){var i=on();return e={current:e},i.memoizedState=e},useState:function(e){e=sd(e);var i=e.queue,a=hp.bind(null,xt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:od,useDeferredValue:function(e,i){var a=on();return ld(a,e,i)},useTransition:function(){var e=sd(!1);return e=ap.bind(null,xt,e.queue,!0,!1),on().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=xt,f=on();if(jt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),ee===null)throw Error(r(349));(Lt&124)!==0||Pg(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,$g(Bg.bind(null,l,d,e),[e]),l.flags|=2048,Ma(9,fc(),Lg.bind(null,l,d,a,i),null),a},useId:function(){var e=on(),i=ee.identifierPrefix;if(jt){var a=Di,l=xi;a=(l&~(1<<32-Je(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=uc++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=l4++,i="«"+i+"r"+a.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:cd,useFormState:Kg,useActionState:Kg,useOptimistic:function(e){var i=on();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=hd.bind(null,xt,!0,a),a.dispatch=i,[e,i]},useMemoCache:nd,useCacheRefresh:function(){return on().memoizedState=d4.bind(null,xt)}},gp={readContext:Qe,use:cc,useCallback:ip,useContext:Qe,useEffect:Jg,useImperativeHandle:np,useInsertionEffect:Wg,useLayoutEffect:tp,useMemo:rp,useReducer:hc,useRef:Zg,useState:function(){return hc(Ni)},useDebugValue:od,useDeferredValue:function(e,i){var a=Se();return sp(a,Yt.memoizedState,e,i)},useTransition:function(){var e=hc(Ni)[0],i=Se().memoizedState;return[typeof e=="boolean"?e:cl(e),i]},useSyncExternalStore:Og,useId:up,useHostTransitionStatus:cd,useFormState:Qg,useActionState:Qg,useOptimistic:function(e,i){var a=Se();return zg(a,Yt,e,i)},useMemoCache:nd,useCacheRefresh:cp},g4={readContext:Qe,use:cc,useCallback:ip,useContext:Qe,useEffect:Jg,useImperativeHandle:np,useInsertionEffect:Wg,useLayoutEffect:tp,useMemo:rp,useReducer:rd,useRef:Zg,useState:function(){return rd(Ni)},useDebugValue:od,useDeferredValue:function(e,i){var a=Se();return Yt===null?ld(a,e,i):sp(a,Yt.memoizedState,e,i)},useTransition:function(){var e=rd(Ni)[0],i=Se().memoizedState;return[typeof e=="boolean"?e:cl(e),i]},useSyncExternalStore:Og,useId:up,useHostTransitionStatus:cd,useFormState:Xg,useActionState:Xg,useOptimistic:function(e,i){var a=Se();return Yt!==null?zg(a,Yt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:nd,useCacheRefresh:cp},Na=null,dl=0;function pc(e){var i=dl;return dl+=1,Na===null&&(Na=[]),Rg(Na,e,i)}function ml(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function yc(e,i){throw i.$$typeof===b?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function pp(e){var i=e._init;return i(e._payload)}function yp(e){function i(O,M){if(e){var U=O.deletions;U===null?(O.deletions=[M],O.flags|=16):U.push(M)}}function a(O,M){if(!e)return null;for(;M!==null;)i(O,M),M=M.sibling;return null}function l(O){for(var M=new Map;O!==null;)O.key!==null?M.set(O.key,O):M.set(O.index,O),O=O.sibling;return M}function f(O,M){return O=Ii(O,M),O.index=0,O.sibling=null,O}function d(O,M,U){return O.index=U,e?(U=O.alternate,U!==null?(U=U.index,U<M?(O.flags|=67108866,M):U):(O.flags|=67108866,M)):(O.flags|=1048576,M)}function v(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function T(O,M,U,Z){return M===null||M.tag!==6?(M=Mf(U,O.mode,Z),M.return=O,M):(M=f(M,U),M.return=O,M)}function w(O,M,U,Z){var ft=U.type;return ft===Q?X(O,M,U.props.children,Z,U.key):M!==null&&(M.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===A&&pp(ft)===M.type)?(M=f(M,U.props),ml(M,U),M.return=O,M):(M=Wu(U.type,U.key,U.props,null,O.mode,Z),ml(M,U),M.return=O,M)}function z(O,M,U,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=Nf(U,O.mode,Z),M.return=O,M):(M=f(M,U.children||[]),M.return=O,M)}function X(O,M,U,Z,ft){return M===null||M.tag!==7?(M=Es(U,O.mode,Z,ft),M.return=O,M):(M=f(M,U),M.return=O,M)}function J(O,M,U){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Mf(""+M,O.mode,U),M.return=O,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case C:return U=Wu(M.type,M.key,M.props,null,O.mode,U),ml(U,M),U.return=O,U;case P:return M=Nf(M,O.mode,U),M.return=O,M;case A:var Z=M._init;return M=Z(M._payload),J(O,M,U)}if(ie(M)||L(M))return M=Es(M,O.mode,U,null),M.return=O,M;if(typeof M.then=="function")return J(O,pc(M),U);if(M.$$typeof===it)return J(O,ic(O,M),U);yc(O,M)}return null}function q(O,M,U,Z){var ft=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ft!==null?null:T(O,M,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case C:return U.key===ft?w(O,M,U,Z):null;case P:return U.key===ft?z(O,M,U,Z):null;case A:return ft=U._init,U=ft(U._payload),q(O,M,U,Z)}if(ie(U)||L(U))return ft!==null?null:X(O,M,U,Z,null);if(typeof U.then=="function")return q(O,M,pc(U),Z);if(U.$$typeof===it)return q(O,M,ic(O,U),Z);yc(O,U)}return null}function H(O,M,U,Z,ft){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return O=O.get(U)||null,T(M,O,""+Z,ft);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case C:return O=O.get(Z.key===null?U:Z.key)||null,w(M,O,Z,ft);case P:return O=O.get(Z.key===null?U:Z.key)||null,z(M,O,Z,ft);case A:var Dt=Z._init;return Z=Dt(Z._payload),H(O,M,U,Z,ft)}if(ie(Z)||L(Z))return O=O.get(U)||null,X(M,O,Z,ft,null);if(typeof Z.then=="function")return H(O,M,U,pc(Z),ft);if(Z.$$typeof===it)return H(O,M,U,ic(M,Z),ft);yc(M,Z)}return null}function At(O,M,U,Z){for(var ft=null,Dt=null,gt=M,bt=M=0,Le=null;gt!==null&&bt<U.length;bt++){gt.index>bt?(Le=gt,gt=null):Le=gt.sibling;var zt=q(O,gt,U[bt],Z);if(zt===null){gt===null&&(gt=Le);break}e&&gt&&zt.alternate===null&&i(O,gt),M=d(zt,M,bt),Dt===null?ft=zt:Dt.sibling=zt,Dt=zt,gt=Le}if(bt===U.length)return a(O,gt),jt&&bs(O,bt),ft;if(gt===null){for(;bt<U.length;bt++)gt=J(O,U[bt],Z),gt!==null&&(M=d(gt,M,bt),Dt===null?ft=gt:Dt.sibling=gt,Dt=gt);return jt&&bs(O,bt),ft}for(gt=l(gt);bt<U.length;bt++)Le=H(gt,O,bt,U[bt],Z),Le!==null&&(e&&Le.alternate!==null&&gt.delete(Le.key===null?bt:Le.key),M=d(Le,M,bt),Dt===null?ft=Le:Dt.sibling=Le,Dt=Le);return e&&gt.forEach(function(Nr){return i(O,Nr)}),jt&&bs(O,bt),ft}function Tt(O,M,U,Z){if(U==null)throw Error(r(151));for(var ft=null,Dt=null,gt=M,bt=M=0,Le=null,zt=U.next();gt!==null&&!zt.done;bt++,zt=U.next()){gt.index>bt?(Le=gt,gt=null):Le=gt.sibling;var Nr=q(O,gt,zt.value,Z);if(Nr===null){gt===null&&(gt=Le);break}e&&gt&&Nr.alternate===null&&i(O,gt),M=d(Nr,M,bt),Dt===null?ft=Nr:Dt.sibling=Nr,Dt=Nr,gt=Le}if(zt.done)return a(O,gt),jt&&bs(O,bt),ft;if(gt===null){for(;!zt.done;bt++,zt=U.next())zt=J(O,zt.value,Z),zt!==null&&(M=d(zt,M,bt),Dt===null?ft=zt:Dt.sibling=zt,Dt=zt);return jt&&bs(O,bt),ft}for(gt=l(gt);!zt.done;bt++,zt=U.next())zt=H(gt,O,bt,zt.value,Z),zt!==null&&(e&&zt.alternate!==null&&gt.delete(zt.key===null?bt:zt.key),M=d(zt,M,bt),Dt===null?ft=zt:Dt.sibling=zt,Dt=zt);return e&&gt.forEach(function(pT){return i(O,pT)}),jt&&bs(O,bt),ft}function Zt(O,M,U,Z){if(typeof U=="object"&&U!==null&&U.type===Q&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case C:t:{for(var ft=U.key;M!==null;){if(M.key===ft){if(ft=U.type,ft===Q){if(M.tag===7){a(O,M.sibling),Z=f(M,U.props.children),Z.return=O,O=Z;break t}}else if(M.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===A&&pp(ft)===M.type){a(O,M.sibling),Z=f(M,U.props),ml(Z,U),Z.return=O,O=Z;break t}a(O,M);break}else i(O,M);M=M.sibling}U.type===Q?(Z=Es(U.props.children,O.mode,Z,U.key),Z.return=O,O=Z):(Z=Wu(U.type,U.key,U.props,null,O.mode,Z),ml(Z,U),Z.return=O,O=Z)}return v(O);case P:t:{for(ft=U.key;M!==null;){if(M.key===ft)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){a(O,M.sibling),Z=f(M,U.children||[]),Z.return=O,O=Z;break t}else{a(O,M);break}else i(O,M);M=M.sibling}Z=Nf(U,O.mode,Z),Z.return=O,O=Z}return v(O);case A:return ft=U._init,U=ft(U._payload),Zt(O,M,U,Z)}if(ie(U))return At(O,M,U,Z);if(L(U)){if(ft=L(U),typeof ft!="function")throw Error(r(150));return U=ft.call(U),Tt(O,M,U,Z)}if(typeof U.then=="function")return Zt(O,M,pc(U),Z);if(U.$$typeof===it)return Zt(O,M,ic(O,U),Z);yc(O,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,M!==null&&M.tag===6?(a(O,M.sibling),Z=f(M,U),Z.return=O,O=Z):(a(O,M),Z=Mf(U,O.mode,Z),Z.return=O,O=Z),v(O)):a(O,M)}return function(O,M,U,Z){try{dl=0;var ft=Zt(O,M,U,Z);return Na=null,ft}catch(gt){if(gt===rl||gt===sc)throw gt;var Dt=fn(29,gt,null,O.mode);return Dt.lanes=Z,Dt.return=O,Dt}finally{}}}var Oa=yp(!0),_p=yp(!1),Dn=tt(null),oi=null;function _r(e){var i=e.alternate;ot(De,De.current&1),ot(Dn,e),oi===null&&(i===null||xa.current!==null||i.memoizedState!==null)&&(oi=e)}function vp(e){if(e.tag===22){if(ot(De,De.current),ot(Dn,e),oi===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(oi=e)}}else vr()}function vr(){ot(De,De.current),ot(Dn,Dn.current)}function Oi(e){ct(Dn),oi===e&&(oi=null),ct(De)}var De=tt(0);function _c(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||e1(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function fd(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var dd={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=pn(),f=gr(l);f.payload=i,a!=null&&(f.callback=a),i=pr(e,f,l),i!==null&&(yn(i,e,l),al(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=pn(),f=gr(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=pr(e,f,l),i!==null&&(yn(i,e,l),al(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=pn(),l=gr(a);l.tag=2,i!=null&&(l.callback=i),i=pr(e,l,a),i!==null&&(yn(i,e,a),al(i,e,a))}};function Ep(e,i,a,l,f,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Zo(a,l)||!Zo(f,d):!0}function Tp(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&dd.enqueueReplaceState(i,i.state,null)}function xs(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=E({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}var vc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function bp(e){vc(e)}function Sp(e){console.error(e)}function Ap(e){vc(e)}function Ec(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Cp(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function md(e,i,a){return a=gr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ec(e,i)},a}function Rp(e){return e=gr(e),e.tag=3,e}function wp(e,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){Cp(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Cp(i,a,l),typeof f!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function p4(e,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&el(i,a,f,!0),a=Dn.current,a!==null){switch(a.tag){case 13:return oi===null?Ud():a.alternate===null&&de===0&&(de=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Hf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),zd(e,l,f)),!1;case 22:return a.flags|=65536,l===Hf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),zd(e,l,f)),!1}throw Error(r(435,a.tag))}return zd(e,l,f),Ud(),!1}if(jt)return i=Dn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Lf&&(e=Error(r(422),{cause:l}),tl(Rn(e,a)))):(l!==Lf&&(i=Error(r(423),{cause:l}),tl(Rn(i,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=Rn(l,a),f=md(e.stateNode,l,f),Kf(e,f),de!==4&&(de=2)),!1;var d=Error(r(520),{cause:l});if(d=Rn(d,a),Tl===null?Tl=[d]:Tl.push(d),de!==4&&(de=2),i===null)return!0;l=Rn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=md(a.stateNode,l,e),Kf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Cr===null||!Cr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Rp(f),wp(f,e,a,l),Kf(a,f),!1}a=a.return}while(a!==null);return!1}var Ip=Error(r(461)),Oe=!1;function ze(e,i,a,l){i.child=e===null?_p(i,null,a,l):Oa(i,e.child,a,l)}function xp(e,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Rs(i),l=$f(e,i,a,v,d,f),T=Jf(),e!==null&&!Oe?(Wf(e,i,f),Pi(e,i,f)):(jt&&T&&Of(i),i.flags|=1,ze(e,i,l,f),i.child)}function Dp(e,i,a,l,f){if(e===null){var d=a.type;return typeof d=="function"&&!Vf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Vp(e,i,d,l,f)):(e=Wu(a.type,null,l,i,i.mode,f),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!bd(e,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(v,l)&&e.ref===i.ref)return Pi(e,i,f)}return i.flags|=1,e=Ii(d,l),e.ref=i.ref,e.return=i,i.child=e}function Vp(e,i,a,l,f){if(e!==null){var d=e.memoizedProps;if(Zo(d,l)&&e.ref===i.ref)if(Oe=!1,i.pendingProps=l=d,bd(e,f))(e.flags&131072)!==0&&(Oe=!0);else return i.lanes=e.lanes,Pi(e,i,f)}return gd(e,i,a,l,f)}function Mp(e,i,a){var l=i.pendingProps,f=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(f=i.child=e.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Np(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&rc(i,d!==null?d.cachePool:null),d!==null?Vg(i,d):Yf(),vp(i);else return i.lanes=i.childLanes=536870912,Np(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(rc(i,d.cachePool),Vg(i,d),vr(),i.memoizedState=null):(e!==null&&rc(i,null),Yf(),vr());return ze(e,i,f,a),i.child}function Np(e,i,a,l){var f=qf();return f=f===null?null:{parent:xe._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},e!==null&&rc(i,null),Yf(),vp(i),e!==null&&el(e,i,l,!0),null}function Tc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function gd(e,i,a,l,f){return Rs(i),a=$f(e,i,a,l,void 0,f),l=Jf(),e!==null&&!Oe?(Wf(e,i,f),Pi(e,i,f)):(jt&&l&&Of(i),i.flags|=1,ze(e,i,a,f),i.child)}function Op(e,i,a,l,f,d){return Rs(i),i.updateQueue=null,a=Ng(i,l,a,f),Mg(e),l=Jf(),e!==null&&!Oe?(Wf(e,i,d),Pi(e,i,d)):(jt&&l&&Of(i),i.flags|=1,ze(e,i,a,d),i.child)}function Pp(e,i,a,l,f){if(Rs(i),i.stateNode===null){var d=Aa,v=a.contextType;typeof v=="object"&&v!==null&&(d=Qe(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=dd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Ff(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Qe(v):Aa,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(fd(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&dd.enqueueReplaceState(d,d.state,null),ll(i,l,d,f),ol(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,w=xs(a,T);d.props=w;var z=d.context,X=a.contextType;v=Aa,typeof X=="object"&&X!==null&&(v=Qe(X));var J=a.getDerivedStateFromProps;X=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==v)&&Tp(i,d,l,v),mr=!1;var q=i.memoizedState;d.state=q,ll(i,l,d,f),ol(),z=i.memoizedState,T||q!==z||mr?(typeof J=="function"&&(fd(i,a,J,l),z=i.memoizedState),(w=mr||Ep(i,a,w,l,q,z,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=v,l=w):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Gf(e,i),v=i.memoizedProps,X=xs(a,v),d.props=X,J=i.pendingProps,q=d.context,z=a.contextType,w=Aa,typeof z=="object"&&z!==null&&(w=Qe(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||q!==w)&&Tp(i,d,l,w),mr=!1,q=i.memoizedState,d.state=q,ll(i,l,d,f),ol();var H=i.memoizedState;v!==J||q!==H||mr||e!==null&&e.dependencies!==null&&nc(e.dependencies)?(typeof T=="function"&&(fd(i,a,T,l),H=i.memoizedState),(X=mr||Ep(i,a,X,l,q,H,w)||e!==null&&e.dependencies!==null&&nc(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,w)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&q===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&q===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=w,l=X):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&q===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&q===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Tc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Oa(i,e.child,null,f),i.child=Oa(i,null,a,f)):ze(e,i,a,f),i.memoizedState=d.state,e=i.child):e=Pi(e,i,f),e}function Lp(e,i,a,l){return Wo(),i.flags|=256,ze(e,i,a,l),i.child}var pd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yd(e){return{baseLanes:e,cachePool:Sg()}}function _d(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Vn),e}function Bp(e,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(De.current&2)!==0),v&&(f=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(jt){if(f?_r(i):vr(),jt){var T=fe,w;if(w=T){t:{for(w=T,T=ai;w.nodeType!==8;){if(!T){T=null;break t}if(w=Qn(w.nextSibling),w===null){T=null;break t}}T=w}T!==null?(i.memoizedState={dehydrated:T,treeContext:Ts!==null?{id:xi,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},w=fn(18,null,null,0),w.stateNode=T,w.return=i,i.child=w,nn=i,fe=null,w=!0):w=!1}w||As(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return e1(T)?i.lanes=32:i.lanes=536870912,null;Oi(i)}return T=l.children,l=l.fallback,f?(vr(),f=i.mode,T=bc({mode:"hidden",children:T},f),l=Es(l,f,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,f=i.child,f.memoizedState=yd(a),f.childLanes=_d(e,v,a),i.memoizedState=pd,l):(_r(i),vd(i,T))}if(w=e.memoizedState,w!==null&&(T=w.dehydrated,T!==null)){if(d)i.flags&256?(_r(i),i.flags&=-257,i=Ed(e,i,a)):i.memoizedState!==null?(vr(),i.child=e.child,i.flags|=128,i=null):(vr(),f=l.fallback,T=i.mode,l=bc({mode:"visible",children:l.children},T),f=Es(f,T,a,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,Oa(i,e.child,null,a),l=i.child,l.memoizedState=yd(a),l.childLanes=_d(e,v,a),i.memoizedState=pd,i=f);else if(_r(i),e1(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(r(419)),l.stack="",l.digest=v,tl({value:l,source:null,stack:null}),i=Ed(e,i,a)}else if(Oe||el(e,i,a,!1),v=(a&e.childLanes)!==0,Oe||v){if(v=ee,v!==null&&(l=a&-a,l=(l&42)!==0?1:No(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==w.retryLane))throw w.retryLane=l,Sa(e,l),yn(v,e,l),Ip;T.data==="$?"||Ud(),i=Ed(e,i,a)}else T.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=w.treeContext,fe=Qn(T.nextSibling),nn=i,jt=!0,Ss=null,ai=!1,e!==null&&(In[xn++]=xi,In[xn++]=Di,In[xn++]=Ts,xi=e.id,Di=e.overflow,Ts=i),i=vd(i,l.children),i.flags|=4096);return i}return f?(vr(),f=l.fallback,T=i.mode,w=e.child,z=w.sibling,l=Ii(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,z!==null?f=Ii(z,f):(f=Es(f,T,a,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,T=e.child.memoizedState,T===null?T=yd(a):(w=T.cachePool,w!==null?(z=xe._currentValue,w=w.parent!==z?{parent:z,pool:z}:w):w=Sg(),T={baseLanes:T.baseLanes|a,cachePool:w}),f.memoizedState=T,f.childLanes=_d(e,v,a),i.memoizedState=pd,l):(_r(i),a=e.child,e=a.sibling,a=Ii(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function vd(e,i){return i=bc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function bc(e,i){return e=fn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ed(e,i,a){return Oa(i,e.child,null,a),e=vd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Up(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Uf(e.return,i,a)}function Td(e,i,a,l,f){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function kp(e,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;if(ze(e,i,l.children,a),l=De.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Up(e,a,i);else if(e.tag===19)Up(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(ot(De,l),f){case"forwards":for(a=i.child,f=null;a!==null;)e=a.alternate,e!==null&&_c(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Td(i,!1,f,a,d);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(e=f.alternate,e!==null&&_c(e)===null){i.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}Td(i,!0,a,null,d);break;case"together":Td(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Pi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Ar|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(el(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=Ii(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ii(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function bd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&nc(e)))}function y4(e,i,a){switch(i.tag){case 3:Kt(i,i.stateNode.containerInfo),dr(i,xe,e.memoizedState.cache),Wo();break;case 27:case 5:xo(i);break;case 4:Kt(i,i.stateNode.containerInfo);break;case 10:dr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(_r(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Bp(e,i,a):(_r(i),e=Pi(e,i,a),e!==null?e.sibling:null);_r(i);break;case 19:var f=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(el(e,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return kp(e,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ot(De,De.current),l)break;return null;case 22:case 23:return i.lanes=0,Mp(e,i,a);case 24:dr(i,xe,e.memoizedState.cache)}return Pi(e,i,a)}function zp(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Oe=!0;else{if(!bd(e,a)&&(i.flags&128)===0)return Oe=!1,y4(e,i,a);Oe=(e.flags&131072)!==0}else Oe=!1,jt&&(i.flags&1048576)!==0&&pg(i,ec,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")Vf(l)?(e=xs(l,e),i.tag=1,i=Pp(null,i,l,e,a)):(i.tag=0,i=gd(null,i,l,e,a));else{if(l!=null){if(f=l.$$typeof,f===Et){i.tag=11,i=xp(null,i,l,e,a);break t}else if(f===x){i.tag=14,i=Dp(null,i,l,e,a);break t}}throw i=he(l)||l,Error(r(306,i,""))}}return i;case 0:return gd(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=xs(l,i.pendingProps),Pp(e,i,l,f,a);case 3:t:{if(Kt(i,i.stateNode.containerInfo),e===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Gf(e,i),ll(i,l,null,a);var v=i.memoizedState;if(l=v.cache,dr(i,xe,l),l!==d.cache&&kf(i,[xe],a,!0),ol(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Lp(e,i,l,a);break t}else if(l!==f){f=Rn(Error(r(424)),i),tl(f),i=Lp(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(fe=Qn(e.firstChild),nn=i,jt=!0,Ss=null,ai=!0,a=_p(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Wo(),l===f){i=Pi(e,i,a);break t}ze(e,i,l,a)}i=i.child}return i;case 26:return Tc(e,i),e===null?(a=Fy(i.type,null,i.pendingProps,null))?i.memoizedState=a:jt||(a=i.type,e=i.pendingProps,l=Lc(St.current).createElement(a),l[pe]=i,l[ke]=e,qe(l,a,e),ye(l),i.stateNode=l):i.memoizedState=Fy(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return xo(i),e===null&&jt&&(l=i.stateNode=jy(i.type,i.pendingProps,St.current),nn=i,ai=!0,f=fe,Ir(i.type)?(n1=f,fe=Qn(l.firstChild)):fe=f),ze(e,i,i.pendingProps.children,a),Tc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&jt&&((f=l=fe)&&(l=G4(l,i.type,i.pendingProps,ai),l!==null?(i.stateNode=l,nn=i,fe=Qn(l.firstChild),ai=!1,f=!0):f=!1),f||As(i)),xo(i),f=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,Jd(f,d)?l=null:v!==null&&Jd(f,v)&&(i.flags|=32),i.memoizedState!==null&&(f=$f(e,i,u4,null,null,a),Dl._currentValue=f),Tc(e,i),ze(e,i,l,a),i.child;case 6:return e===null&&jt&&((e=a=fe)&&(a=K4(a,i.pendingProps,ai),a!==null?(i.stateNode=a,nn=i,fe=null,e=!0):e=!1),e||As(i)),null;case 13:return Bp(e,i,a);case 4:return Kt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Oa(i,null,l,a):ze(e,i,l,a),i.child;case 11:return xp(e,i,i.type,i.pendingProps,a);case 7:return ze(e,i,i.pendingProps,a),i.child;case 8:return ze(e,i,i.pendingProps.children,a),i.child;case 12:return ze(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,dr(i,i.type,l.value),ze(e,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Rs(i),f=Qe(f),l=l(f),i.flags|=1,ze(e,i,l,a),i.child;case 14:return Dp(e,i,i.type,i.pendingProps,a);case 15:return Vp(e,i,i.type,i.pendingProps,a);case 19:return kp(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=bc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ii(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Mp(e,i,a);case 24:return Rs(i),l=Qe(xe),e===null?(f=qf(),f===null&&(f=ee,d=zf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},Ff(i),dr(i,xe,f)):((e.lanes&a)!==0&&(Gf(e,i),ll(i,null,null,a),ol()),f=e.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),dr(i,xe,l)):(l=d.cache,dr(i,xe,l),l!==f.cache&&kf(i,[xe],a,!0))),ze(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Li(e){e.flags|=4}function jp(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Xy(i)){if(i=Dn.current,i!==null&&((Lt&4194048)===Lt?oi!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||i!==oi))throw sl=Hf,Ag;e.flags|=8192}}function Sc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?tr():536870912,e.lanes|=i,Ua|=i)}function gl(e,i){if(!jt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function le(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function _4(e,i,a){var l=i.pendingProps;switch(Pf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(i),null;case 1:return le(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Mi(xe),Bn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Jo(i)?Li(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,vg())),le(i),null;case 26:return a=i.memoizedState,e===null?(Li(i),a!==null?(le(i),jp(i,a)):(le(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Li(i),le(i),jp(i,a)):(le(i),i.flags&=-16777217):(e.memoizedProps!==l&&Li(i),le(i),i.flags&=-16777217),null;case 27:ia(i),a=St.current;var f=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Li(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return le(i),null}e=pt.current,Jo(i)?yg(i):(e=jy(f,l,a),i.stateNode=e,Li(i))}return le(i),null;case 5:if(ia(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Li(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return le(i),null}if(e=pt.current,Jo(i))yg(i);else{switch(f=Lc(St.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}e[pe]=i,e[ke]=l;t:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break t;for(;f.sibling===null;){if(f.return===null||f.return===i)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=e;t:switch(qe(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Li(i)}}return le(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Li(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(e=St.current,Jo(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,f=nn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[pe]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Oy(e.nodeValue,a)),e||As(i)}else e=Lc(e).createTextNode(l),e[pe]=i,i.stateNode=e}return le(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Jo(i),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[pe]=i}else Wo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;le(i),f=!1}else f=vg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Oi(i),i):(Oi(i),null)}if(Oi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Sc(i,i.updateQueue),le(i),null;case 4:return Bn(),e===null&&Qd(i.stateNode.containerInfo),le(i),null;case 10:return Mi(i.type),le(i),null;case 19:if(ct(De),f=i.memoizedState,f===null)return le(i),null;if(l=(i.flags&128)!==0,d=f.rendering,d===null)if(l)gl(f,!1);else{if(de!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=_c(e),d!==null){for(i.flags|=128,gl(f,!1),e=d.updateQueue,i.updateQueue=e,Sc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)gg(a,e),a=a.sibling;return ot(De,De.current&1|2),i.child}e=e.sibling}f.tail!==null&&an()>Rc&&(i.flags|=128,l=!0,gl(f,!1),i.lanes=4194304)}else{if(!l)if(e=_c(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,Sc(i,e),gl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!jt)return le(i),null}else 2*an()-f.renderingStartTime>Rc&&a!==536870912&&(i.flags|=128,l=!0,gl(f,!1),i.lanes=4194304);f.isBackwards?(d.sibling=i.child,i.child=d):(e=f.last,e!==null?e.sibling=d:i.child=d,f.last=d)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=an(),i.sibling=null,e=De.current,ot(De,l?e&1|2:e&1),i):(le(i),null);case 22:case 23:return Oi(i),Xf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(le(i),i.subtreeFlags&6&&(i.flags|=8192)):le(i),a=i.updateQueue,a!==null&&Sc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&ct(ws),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Mi(xe),le(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function v4(e,i){switch(Pf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Mi(xe),Bn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ia(i),null;case 13:if(Oi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Wo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return ct(De),null;case 4:return Bn(),null;case 10:return Mi(i.type),null;case 22:case 23:return Oi(i),Xf(),e!==null&&ct(ws),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Mi(xe),null;case 25:return null;default:return null}}function qp(e,i){switch(Pf(i),i.tag){case 3:Mi(xe),Bn();break;case 26:case 27:case 5:ia(i);break;case 4:Bn();break;case 13:Oi(i);break;case 19:ct(De);break;case 10:Mi(i.type);break;case 22:case 23:Oi(i),Xf(),e!==null&&ct(ws);break;case 24:Mi(xe)}}function pl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(T){Wt(i,i.return,T)}}function Er(e,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,f=i;var w=a,z=T;try{z()}catch(X){Wt(f,w,X)}}}l=l.next}while(l!==d)}}catch(X){Wt(i,i.return,X)}}function Hp(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Dg(i,a)}catch(l){Wt(e,e.return,l)}}}function Fp(e,i,a){a.props=xs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Wt(e,i,l)}}function yl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){Wt(e,i,f)}}function li(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Wt(e,i,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Wt(e,i,f)}else a.current=null}function Gp(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Wt(e,e.return,f)}}function Sd(e,i,a){try{var l=e.stateNode;z4(l,e.type,a,i),l[ke]=i}catch(f){Wt(e,e.return,f)}}function Kp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ir(e.type)||e.tag===4}function Ad(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Kp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ir(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Pc));else if(l!==4&&(l===27&&Ir(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Cd(e,i,a),e=e.sibling;e!==null;)Cd(e,i,a),e=e.sibling}function Ac(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Ir(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ac(e,i,a),e=e.sibling;e!==null;)Ac(e,i,a),e=e.sibling}function Qp(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);qe(i,l,a),i[pe]=e,i[ke]=a}catch(d){Wt(e,e.return,d)}}var Bi=!1,Ee=!1,Rd=!1,Yp=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function E4(e,i){if(e=e.containerInfo,Zd=qc,e=sg(e),Af(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,w=-1,z=0,X=0,J=e,q=null;e:for(;;){for(var H;J!==a||f!==0&&J.nodeType!==3||(T=v+f),J!==d||l!==0&&J.nodeType!==3||(w=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(H=J.firstChild)!==null;)q=J,J=H;for(;;){if(J===e)break e;if(q===a&&++z===f&&(T=v),q===d&&++X===l&&(w=v),(H=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=H}a=T===-1||w===-1?null:{start:T,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for($d={focusedElem:e,selectionRange:a},qc=!1,Pe=i;Pe!==null;)if(i=Pe,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Pe=e;else for(;Pe!==null;){switch(i=Pe,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var At=xs(a.type,f,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(At,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Tt){Wt(a,a.return,Tt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)t1(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":t1(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,Pe=e;break}Pe=i.return}}function Xp(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Tr(e,a),l&4&&pl(5,a);break;case 1:if(Tr(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){Wt(a,a.return,v)}else{var f=xs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(f,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Wt(a,a.return,v)}}l&64&&Hp(a),l&512&&yl(a,a.return);break;case 3:if(Tr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Dg(e,i)}catch(v){Wt(a,a.return,v)}}break;case 27:i===null&&l&4&&Qp(a);case 26:case 5:Tr(e,a),i===null&&l&4&&Gp(a),l&512&&yl(a,a.return);break;case 12:Tr(e,a);break;case 13:Tr(e,a),l&4&&Jp(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=x4.bind(null,a),Q4(e,a))));break;case 22:if(l=a.memoizedState!==null||Bi,!l){i=i!==null&&i.memoizedState!==null||Ee,f=Bi;var d=Ee;Bi=l,(Ee=i)&&!d?br(e,a,(a.subtreeFlags&8772)!==0):Tr(e,a),Bi=f,Ee=d}break;case 30:break;default:Tr(e,a)}}function Zp(e){var i=e.alternate;i!==null&&(e.alternate=null,Zp(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&la(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var re=null,ln=!1;function Ui(e,i,a){for(a=a.child;a!==null;)$p(e,i,a),a=a.sibling}function $p(e,i,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount($i,a)}catch{}switch(a.tag){case 26:Ee||li(a,i),Ui(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ee||li(a,i);var l=re,f=ln;Ir(a.type)&&(re=a.stateNode,ln=!1),Ui(e,i,a),Rl(a.stateNode),re=l,ln=f;break;case 5:Ee||li(a,i);case 6:if(l=re,f=ln,re=null,Ui(e,i,a),re=l,ln=f,re!==null)if(ln)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(a.stateNode)}catch(d){Wt(a,i,d)}else try{re.removeChild(a.stateNode)}catch(d){Wt(a,i,d)}break;case 18:re!==null&&(ln?(e=re,ky(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ol(e)):ky(re,a.stateNode));break;case 4:l=re,f=ln,re=a.stateNode.containerInfo,ln=!0,Ui(e,i,a),re=l,ln=f;break;case 0:case 11:case 14:case 15:Ee||Er(2,a,i),Ee||Er(4,a,i),Ui(e,i,a);break;case 1:Ee||(li(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Fp(a,i,l)),Ui(e,i,a);break;case 21:Ui(e,i,a);break;case 22:Ee=(l=Ee)||a.memoizedState!==null,Ui(e,i,a),Ee=l;break;default:Ui(e,i,a)}}function Jp(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ol(e)}catch(a){Wt(i,i.return,a)}}function T4(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Yp),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Yp),i;default:throw Error(r(435,e.tag))}}function wd(e,i){var a=T4(e);i.forEach(function(l){var f=D4.bind(null,e,l);a.has(l)||(a.add(l),l.then(f,f))})}function dn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=e,v=i,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(Ir(T.type)){re=T.stateNode,ln=!1;break t}break;case 5:re=T.stateNode,ln=!1;break t;case 3:case 4:re=T.stateNode.containerInfo,ln=!0;break t}T=T.return}if(re===null)throw Error(r(160));$p(d,v,f),re=null,ln=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Wp(i,e),i=i.sibling}var Kn=null;function Wp(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(i,e),mn(e),l&4&&(Er(3,e,e.return),pl(3,e),Er(5,e,e.return));break;case 1:dn(i,e),mn(e),l&512&&(Ee||a===null||li(a,a.return)),l&64&&Bi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Kn;if(dn(i,e),mn(e),l&512&&(Ee||a===null||li(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[ir]||d[pe]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),qe(d,l,a),d[pe]=e,ye(d),l=d;break t;case"link":var v=Qy("link","href",f).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=f.createElement(l),qe(d,l,a),f.head.appendChild(d);break;case"meta":if(v=Qy("meta","content",f).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=f.createElement(l),qe(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[pe]=e,ye(d),l=d}e.stateNode=l}else Yy(f,e.type,e.stateNode);else e.stateNode=Ky(f,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Yy(f,e.type,e.stateNode):Ky(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Sd(e,e.memoizedProps,a.memoizedProps)}break;case 27:dn(i,e),mn(e),l&512&&(Ee||a===null||li(a,a.return)),a!==null&&l&4&&Sd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(dn(i,e),mn(e),l&512&&(Ee||a===null||li(a,a.return)),e.flags&32){f=e.stateNode;try{An(f,"")}catch(H){Wt(e,e.return,H)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,Sd(e,f,a!==null?a.memoizedProps:f)),l&1024&&(Rd=!0);break;case 6:if(dn(i,e),mn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(H){Wt(e,e.return,H)}}break;case 3:if(kc=null,f=Kn,Kn=Bc(i.containerInfo),dn(i,e),Kn=f,mn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ol(i.containerInfo)}catch(H){Wt(e,e.return,H)}Rd&&(Rd=!1,ty(e));break;case 4:l=Kn,Kn=Bc(e.stateNode.containerInfo),dn(i,e),mn(e),Kn=l;break;case 12:dn(i,e),mn(e);break;case 13:dn(i,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Nd=an()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,wd(e,l)));break;case 22:f=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,z=Bi,X=Ee;if(Bi=z||f,Ee=X||w,dn(i,e),Ee=X,Bi=z,mn(e),l&8192)t:for(i=e.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||w||Bi||Ee||Ds(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){w=a=i;try{if(d=w.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=w.stateNode;var J=w.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(H){Wt(w,w.return,H)}}}else if(i.tag===6){if(a===null){w=i;try{w.stateNode.nodeValue=f?"":w.memoizedProps}catch(H){Wt(w,w.return,H)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,wd(e,a))));break;case 19:dn(i,e),mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,wd(e,l)));break;case 30:break;case 21:break;default:dn(i,e),mn(e)}}function mn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(Kp(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=Ad(e);Ac(e,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(An(v,""),a.flags&=-33);var T=Ad(e);Ac(e,T,v);break;case 3:case 4:var w=a.stateNode.containerInfo,z=Ad(e);Cd(e,z,w);break;default:throw Error(r(161))}}catch(X){Wt(e,e.return,X)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function ty(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;ty(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Tr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Xp(e,i.alternate,i),i=i.sibling}function Ds(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Er(4,i,i.return),Ds(i);break;case 1:li(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Fp(i,i.return,a),Ds(i);break;case 27:Rl(i.stateNode);case 26:case 5:li(i,i.return),Ds(i);break;case 22:i.memoizedState===null&&Ds(i);break;case 30:Ds(i);break;default:Ds(i)}e=e.sibling}}function br(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:br(f,d,a),pl(4,d);break;case 1:if(br(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(z){Wt(l,l.return,z)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var w=f.shared.hiddenCallbacks;if(w!==null)for(f.shared.hiddenCallbacks=null,f=0;f<w.length;f++)xg(w[f],T)}catch(z){Wt(l,l.return,z)}}a&&v&64&&Hp(d),yl(d,d.return);break;case 27:Qp(d);case 26:case 5:br(f,d,a),a&&l===null&&v&4&&Gp(d),yl(d,d.return);break;case 12:br(f,d,a);break;case 13:br(f,d,a),a&&v&4&&Jp(f,d);break;case 22:d.memoizedState===null&&br(f,d,a),yl(d,d.return);break;case 30:break;default:br(f,d,a)}i=i.sibling}}function Id(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&nl(a))}function xd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&nl(e))}function ui(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ey(e,i,a,l),i=i.sibling}function ey(e,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ui(e,i,a,l),f&2048&&pl(9,i);break;case 1:ui(e,i,a,l);break;case 3:ui(e,i,a,l),f&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&nl(e)));break;case 12:if(f&2048){ui(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Wt(i,i.return,w)}}else ui(e,i,a,l);break;case 13:ui(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ui(e,i,a,l):_l(e,i):d._visibility&2?ui(e,i,a,l):(d._visibility|=2,Pa(e,i,a,l,(i.subtreeFlags&10256)!==0)),f&2048&&Id(v,i);break;case 24:ui(e,i,a,l),f&2048&&xd(i.alternate,i);break;default:ui(e,i,a,l)}}function Pa(e,i,a,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,T=a,w=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:Pa(d,v,T,w,f),pl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?Pa(d,v,T,w,f):_l(d,v):(X._visibility|=2,Pa(d,v,T,w,f)),f&&z&2048&&Id(v.alternate,v);break;case 24:Pa(d,v,T,w,f),f&&z&2048&&xd(v.alternate,v);break;default:Pa(d,v,T,w,f)}i=i.sibling}}function _l(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,f=l.flags;switch(l.tag){case 22:_l(a,l),f&2048&&Id(l.alternate,l);break;case 24:_l(a,l),f&2048&&xd(l.alternate,l);break;default:_l(a,l)}i=i.sibling}}var vl=8192;function La(e){if(e.subtreeFlags&vl)for(e=e.child;e!==null;)ny(e),e=e.sibling}function ny(e){switch(e.tag){case 26:La(e),e.flags&vl&&e.memoizedState!==null&&aT(Kn,e.memoizedState,e.memoizedProps);break;case 5:La(e);break;case 3:case 4:var i=Kn;Kn=Bc(e.stateNode.containerInfo),La(e),Kn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=vl,vl=16777216,La(e),vl=i):La(e));break;default:La(e)}}function iy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function El(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pe=l,sy(l,e)}iy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ry(e),e=e.sibling}function ry(e){switch(e.tag){case 0:case 11:case 15:El(e),e.flags&2048&&Er(9,e,e.return);break;case 3:El(e);break;case 12:El(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Cc(e)):El(e);break;default:El(e)}}function Cc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pe=l,sy(l,e)}iy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Er(8,i,i.return),Cc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Cc(i));break;default:Cc(i)}e=e.sibling}}function sy(e,i){for(;Pe!==null;){var a=Pe;switch(a.tag){case 0:case 11:case 15:Er(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pe=l;else t:for(a=e;Pe!==null;){l=Pe;var f=l.sibling,d=l.return;if(Zp(l),l===a){Pe=null;break t}if(f!==null){f.return=d,Pe=f;break t}Pe=d}}}var b4={getCacheForType:function(e){var i=Qe(xe),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},S4=typeof WeakMap=="function"?WeakMap:Map,Ht=0,ee=null,Vt=null,Lt=0,Ft=0,gn=null,Sr=!1,Ba=!1,Dd=!1,ki=0,de=0,Ar=0,Vs=0,Vd=0,Vn=0,Ua=0,Tl=null,un=null,Md=!1,Nd=0,Rc=1/0,wc=null,Cr=null,je=0,Rr=null,ka=null,za=0,Od=0,Pd=null,ay=null,bl=0,Ld=null;function pn(){if((Ht&2)!==0&&Lt!==0)return Lt&-Lt;if(Y.T!==null){var e=wa;return e!==0?e:Hd()}return Ti()}function oy(){Vn===0&&(Vn=(Lt&536870912)===0||jt?Mo():536870912);var e=Dn.current;return e!==null&&(e.flags|=32),Vn}function yn(e,i,a){(e===ee&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(ja(e,0),wr(e,Lt,Vn,!1)),ge(e,a),((Ht&2)===0||e!==ee)&&(e===ee&&((Ht&2)===0&&(Vs|=a),de===4&&wr(e,Lt,Vn,!1)),ci(e))}function ly(e,i,a){if((Ht&6)!==0)throw Error(r(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Wi(e,i),f=l?R4(e,i):kd(e,i,!0),d=l;do{if(f===0){Ba&&!l&&wr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!A4(a)){f=kd(e,i,!1),d=!1;continue}if(f===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var T=e;f=Tl;var w=T.current.memoizedState.isDehydrated;if(w&&(ja(T,v).flags|=256),v=kd(T,v,!1),v!==2){if(Dd&&!w){T.errorRecoveryDisabledLanes|=d,Vs|=d,f=4;break t}d=un,un=f,d!==null&&(un===null?un=d:un.push.apply(un,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){ja(e,0),wr(e,i,0,!0);break}t:{switch(l=e,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:wr(l,i,Vn,!Sr);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(f=Nd+300-an(),10<f)){if(wr(l,i,Vn,!Sr),bn(l,0,!0)!==0)break t;l.timeoutHandle=By(uy.bind(null,l,a,un,wc,Md,i,Vn,Vs,Ua,Sr,d,2,-0,0),f);break t}uy(l,a,un,wc,Md,i,Vn,Vs,Ua,Sr,d,0,-0,0)}}break}while(!0);ci(e)}function uy(e,i,a,l,f,d,v,T,w,z,X,J,q,H){if(e.timeoutHandle=-1,J=i.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(xl={stylesheets:null,count:0,unsuspend:sT},ny(i),J=oT(),J!==null)){e.cancelPendingCommit=J(py.bind(null,e,i,d,a,l,f,v,T,w,X,1,q,H)),wr(e,d,v,!z);return}py(e,i,d,a,l,f,v,T,w)}function A4(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!hn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function wr(e,i,a,l){i&=~Vd,i&=~Vs,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var f=i;0<f;){var d=31-Je(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&er(e,a,i)}function Ic(){return(Ht&6)===0?(Sl(0),!1):!0}function Bd(){if(Vt!==null){if(Ft===0)var e=Vt.return;else e=Vt,Vi=Cs=null,td(e),Na=null,dl=0,e=Vt;for(;e!==null;)qp(e.alternate,e),e=e.return;Vt=null}}function ja(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,q4(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Bd(),ee=e,Vt=a=Ii(e.current,null),Lt=i,Ft=0,gn=null,Sr=!1,Ba=Wi(e,i),Dd=!1,Ua=Vn=Vd=Vs=Ar=de=0,un=Tl=null,Md=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var f=31-Je(l),d=1<<f;i|=e[f],l&=~d}return ki=i,Zu(),a}function cy(e,i){xt=null,Y.H=gc,i===rl||i===sc?(i=wg(),Ft=3):i===Ag?(i=wg(),Ft=4):Ft=i===Ip?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,gn=i,Vt===null&&(de=1,Ec(e,Rn(i,e.current)))}function hy(){var e=Y.H;return Y.H=gc,e===null?gc:e}function fy(){var e=Y.A;return Y.A=b4,e}function Ud(){de=4,Sr||(Lt&4194048)!==Lt&&Dn.current!==null||(Ba=!0),(Ar&134217727)===0&&(Vs&134217727)===0||ee===null||wr(ee,Lt,Vn,!1)}function kd(e,i,a){var l=Ht;Ht|=2;var f=hy(),d=fy();(ee!==e||Lt!==i)&&(wc=null,ja(e,i)),i=!1;var v=de;t:do try{if(Ft!==0&&Vt!==null){var T=Vt,w=gn;switch(Ft){case 8:Bd(),v=6;break t;case 3:case 2:case 9:case 6:Dn.current===null&&(i=!0);var z=Ft;if(Ft=0,gn=null,qa(e,T,w,z),a&&Ba){v=0;break t}break;default:z=Ft,Ft=0,gn=null,qa(e,T,w,z)}}C4(),v=de;break}catch(X){cy(e,X)}while(!0);return i&&e.shellSuspendCounter++,Vi=Cs=null,Ht=l,Y.H=f,Y.A=d,Vt===null&&(ee=null,Lt=0,Zu()),v}function C4(){for(;Vt!==null;)dy(Vt)}function R4(e,i){var a=Ht;Ht|=2;var l=hy(),f=fy();ee!==e||Lt!==i?(wc=null,Rc=an()+500,ja(e,i)):Ba=Wi(e,i);t:do try{if(Ft!==0&&Vt!==null){i=Vt;var d=gn;e:switch(Ft){case 1:Ft=0,gn=null,qa(e,i,d,1);break;case 2:case 9:if(Cg(d)){Ft=0,gn=null,my(i);break}i=function(){Ft!==2&&Ft!==9||ee!==e||(Ft=7),ci(e)},d.then(i,i);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Cg(d)?(Ft=0,gn=null,my(i)):(Ft=0,gn=null,qa(e,i,d,7));break;case 5:var v=null;switch(Vt.tag){case 26:v=Vt.memoizedState;case 5:case 27:var T=Vt;if(!v||Xy(v)){Ft=0,gn=null;var w=T.sibling;if(w!==null)Vt=w;else{var z=T.return;z!==null?(Vt=z,xc(z)):Vt=null}break e}}Ft=0,gn=null,qa(e,i,d,5);break;case 6:Ft=0,gn=null,qa(e,i,d,6);break;case 8:Bd(),de=6;break t;default:throw Error(r(462))}}w4();break}catch(X){cy(e,X)}while(!0);return Vi=Cs=null,Y.H=l,Y.A=f,Ht=a,Vt!==null?0:(ee=null,Lt=0,Zu(),de)}function w4(){for(;Vt!==null&&!df();)dy(Vt)}function dy(e){var i=zp(e.alternate,e,ki);e.memoizedProps=e.pendingProps,i===null?xc(e):Vt=i}function my(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Op(a,i,i.pendingProps,i.type,void 0,Lt);break;case 11:i=Op(a,i,i.pendingProps,i.type.render,i.ref,Lt);break;case 5:td(i);default:qp(a,i),i=Vt=gg(i,ki),i=zp(a,i,ki)}e.memoizedProps=e.pendingProps,i===null?xc(e):Vt=i}function qa(e,i,a,l){Vi=Cs=null,td(i),Na=null,dl=0;var f=i.return;try{if(p4(e,f,i,a,Lt)){de=1,Ec(e,Rn(a,e.current)),Vt=null;return}}catch(d){if(f!==null)throw Vt=f,d;de=1,Ec(e,Rn(a,e.current)),Vt=null;return}i.flags&32768?(jt||l===1?e=!0:Ba||(Lt&536870912)!==0?e=!1:(Sr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),gy(i,e)):xc(i)}function xc(e){var i=e;do{if((i.flags&32768)!==0){gy(i,Sr);return}e=i.return;var a=_4(i.alternate,i,ki);if(a!==null){Vt=a;return}if(i=i.sibling,i!==null){Vt=i;return}Vt=i=e}while(i!==null);de===0&&(de=5)}function gy(e,i){do{var a=v4(e.alternate,e);if(a!==null){a.flags&=32767,Vt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Vt=e;return}Vt=e=a}while(e!==null);de=6,Vt=null}function py(e,i,a,l,f,d,v,T,w){e.cancelPendingCommit=null;do Dc();while(je!==0);if((Ht&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=xf,Nu(e,a,d,v,T,w),e===ee&&(Vt=ee=null,Lt=0),ka=i,Rr=e,za=a,Od=d,Pd=f,ay=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,V4(Ei,function(){return Ty(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,f=lt.p,lt.p=2,v=Ht,Ht|=4;try{E4(e,i,a)}finally{Ht=v,lt.p=f,Y.T=l}}je=1,yy(),_y(),vy()}}function yy(){if(je===1){je=0;var e=Rr,i=ka,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=lt.p;lt.p=2;var f=Ht;Ht|=4;try{Wp(i,e);var d=$d,v=sg(e.containerInfo),T=d.focusedElem,w=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&rg(T.ownerDocument.documentElement,T)){if(w!==null&&Af(T)){var z=w.start,X=w.end;if(X===void 0&&(X=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(X,T.value.length);else{var J=T.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var H=q.getSelection(),At=T.textContent.length,Tt=Math.min(w.start,At),Zt=w.end===void 0?Tt:Math.min(w.end,At);!H.extend&&Tt>Zt&&(v=Zt,Zt=Tt,Tt=v);var O=ig(T,Tt),M=ig(T,Zt);if(O&&M&&(H.rangeCount!==1||H.anchorNode!==O.node||H.anchorOffset!==O.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var U=J.createRange();U.setStart(O.node,O.offset),H.removeAllRanges(),Tt>Zt?(H.addRange(U),H.extend(M.node,M.offset)):(U.setEnd(M.node,M.offset),H.addRange(U))}}}}for(J=[],H=T;H=H.parentNode;)H.nodeType===1&&J.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var Z=J[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}qc=!!Zd,$d=Zd=null}finally{Ht=f,lt.p=l,Y.T=a}}e.current=i,je=2}}function _y(){if(je===2){je=0;var e=Rr,i=ka,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=lt.p;lt.p=2;var f=Ht;Ht|=4;try{Xp(e,i.alternate,i)}finally{Ht=f,lt.p=l,Y.T=a}}je=3}}function vy(){if(je===4||je===3){je=0,Do();var e=Rr,i=ka,a=za,l=ay;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?je=5:(je=0,ka=Rr=null,Ey(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Cr=null),Oo(a),i=i.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot($i,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,f=lt.p,lt.p=2,Y.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{Y.T=i,lt.p=f}}(za&3)!==0&&Dc(),ci(e),f=e.pendingLanes,(a&4194090)!==0&&(f&42)!==0?e===Ld?bl++:(bl=0,Ld=e):bl=0,Sl(0)}}function Ey(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,nl(i)))}function Dc(e){return yy(),_y(),vy(),Ty()}function Ty(){if(je!==5)return!1;var e=Rr,i=Od;Od=0;var a=Oo(za),l=Y.T,f=lt.p;try{lt.p=32>a?32:a,Y.T=null,a=Pd,Pd=null;var d=Rr,v=za;if(je=0,ka=Rr=null,za=0,(Ht&6)!==0)throw Error(r(331));var T=Ht;if(Ht|=4,ry(d.current),ey(d,d.current,v,a),Ht=T,Sl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot($i,d)}catch{}return!0}finally{lt.p=f,Y.T=l,Ey(e,i)}}function by(e,i,a){i=Rn(a,i),i=md(e.stateNode,i,2),e=pr(e,i,2),e!==null&&(ge(e,2),ci(e))}function Wt(e,i,a){if(e.tag===3)by(e,e,a);else for(;i!==null;){if(i.tag===3){by(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Cr===null||!Cr.has(l))){e=Rn(a,e),a=Rp(2),l=pr(i,a,2),l!==null&&(wp(a,l,i,e),ge(l,2),ci(l));break}}i=i.return}}function zd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new S4;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Dd=!0,f.add(a),e=I4.bind(null,e,i,a),i.then(e,e))}function I4(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ee===e&&(Lt&a)===a&&(de===4||de===3&&(Lt&62914560)===Lt&&300>an()-Nd?(Ht&2)===0&&ja(e,0):Vd|=a,Ua===Lt&&(Ua=0)),ci(e)}function Sy(e,i){i===0&&(i=tr()),e=Sa(e,i),e!==null&&(ge(e,i),ci(e))}function x4(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Sy(e,a)}function D4(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),Sy(e,a)}function V4(e,i){return Zr(e,i)}var Vc=null,Ha=null,jd=!1,Mc=!1,qd=!1,Ms=0;function ci(e){e!==Ha&&e.next===null&&(Ha===null?Vc=Ha=e:Ha=Ha.next=e),Mc=!0,jd||(jd=!0,N4())}function Sl(e,i){if(!qd&&Mc){qd=!0;do for(var a=!1,l=Vc;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Je(42|e)+1)-1,d&=f&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,wy(l,d))}else d=Lt,d=bn(l,l===ee?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Wi(l,d)||(a=!0,wy(l,d));l=l.next}while(a);qd=!1}}function M4(){Ay()}function Ay(){Mc=jd=!1;var e=0;Ms!==0&&(j4()&&(e=Ms),Ms=0);for(var i=an(),a=null,l=Vc;l!==null;){var f=l.next,d=Cy(l,i);d===0?(l.next=null,a===null?Vc=f:a.next=f,f===null&&(Ha=a)):(a=l,(e!==0||(d&3)!==0)&&(Mc=!0)),l=f}Sl(e)}function Cy(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Je(d),T=1<<v,w=f[v];w===-1?((T&a)===0||(T&l)!==0)&&(f[v]=aa(T,i)):w<=i&&(e.expiredLanes|=T),d&=~T}if(i=ee,a=Lt,a=bn(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&sa(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Wi(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&sa(l),Oo(a)){case 2:case 8:a=Me;break;case 32:a=Ei;break;case 268435456:a=Vo;break;default:a=Ei}return l=Ry.bind(null,e),a=Zr(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&sa(l),e.callbackPriority=2,e.callbackNode=null,2}function Ry(e,i){if(je!==0&&je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Dc()&&e.callbackNode!==a)return null;var l=Lt;return l=bn(e,e===ee?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(ly(e,l,i),Cy(e,an()),e.callbackNode!=null&&e.callbackNode===a?Ry.bind(null,e):null)}function wy(e,i){if(Dc())return null;ly(e,i,!0)}function N4(){H4(function(){(Ht&6)!==0?Zr(we,M4):Ay()})}function Hd(){return Ms===0&&(Ms=Mo()),Ms}function Iy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:jn(""+e)}function xy(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function O4(e,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=Iy((f[ke]||null).action),v=l.submitter;v&&(i=(i=v[ke]||null)?Iy(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new hs("action","action",null,l,f);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ms!==0){var w=v?xy(f,v):new FormData(f);ud(a,{pending:!0,data:w,method:f.method,action:d},null,w)}}else typeof d=="function"&&(T.preventDefault(),w=v?xy(f,v):new FormData(f),ud(a,{pending:!0,data:w,method:f.method,action:d},d,w))},currentTarget:f}]})}}for(var Fd=0;Fd<If.length;Fd++){var Gd=If[Fd],P4=Gd.toLowerCase(),L4=Gd[0].toUpperCase()+Gd.slice(1);Gn(P4,"on"+L4)}Gn(lg,"onAnimationEnd"),Gn(ug,"onAnimationIteration"),Gn(cg,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(WE,"onTransitionRun"),Gn(t4,"onTransitionStart"),Gn(e4,"onTransitionCancel"),Gn(hg,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function Dy(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],w=T.instance,z=T.currentTarget;if(T=T.listener,w!==d&&f.isPropagationStopped())break t;d=T,f.currentTarget=z;try{d(f)}catch(X){vc(X)}f.currentTarget=null,d=w}else for(v=0;v<l.length;v++){if(T=l[v],w=T.instance,z=T.currentTarget,T=T.listener,w!==d&&f.isPropagationStopped())break t;d=T,f.currentTarget=z;try{d(f)}catch(X){vc(X)}f.currentTarget=null,d=w}}}}function Mt(e,i){var a=i[Jr];a===void 0&&(a=i[Jr]=new Set);var l=e+"__bubble";a.has(l)||(Vy(i,e,2,!1),a.add(l))}function Kd(e,i,a){var l=0;i&&(l|=4),Vy(a,e,l,i)}var Nc="_reactListening"+Math.random().toString(36).slice(2);function Qd(e){if(!e[Nc]){e[Nc]=!0,Ou.forEach(function(a){a!=="selectionchange"&&(B4.has(a)||Kd(a,!1,e),Kd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Nc]||(i[Nc]=!0,Kd("selectionchange",!1,i))}}function Vy(e,i,a,l){switch(e0(i)){case 2:var f=cT;break;case 8:f=hT;break;default:f=o1}a=f.bind(null,i,a,e),f=void 0,!Ri||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(i,a,{capture:!0,passive:f}):e.addEventListener(i,a,!0):f!==void 0?e.addEventListener(i,a,{passive:f}):e.addEventListener(i,a,!1)}function Yd(e,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===f)break;if(v===4)for(v=l.return;v!==null;){var w=v.tag;if((w===3||w===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;T!==null;){if(v=Wn(T),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){l=d=v;continue t}T=T.parentNode}}l=l.return}ls(function(){var z=d,X=jo(a),J=[];t:{var q=fg.get(e);if(q!==void 0){var H=hs,At=e;switch(e){case"keypress":if(us(a)===0)break t;case"keydown":case"keyup":H=va;break;case"focusin":At="focus",H=pa;break;case"focusout":At="blur",H=pa;break;case"beforeblur":case"afterblur":H=pa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=ps;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=fr;break;case lg:case ug:case cg:H=Ho;break;case hg:H=y;break;case"scroll":case"scrollend":H=ds;break;case"wheel":H=S;break;case"copy":case"cut":case"paste":H=Hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ko;break;case"toggle":case"beforetoggle":H=F}var Tt=(i&4)!==0,Zt=!Tt&&(e==="scroll"||e==="scrollend"),O=Tt?q!==null?q+"Capture":null:q;Tt=[];for(var M=z,U;M!==null;){var Z=M;if(U=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||U===null||O===null||(Z=cr(M,O),Z!=null&&Tt.push(Cl(M,Z,U))),Zt)break;M=M.return}0<Tt.length&&(q=new H(q,At,null,a,X),J.push({event:q,listeners:Tt}))}}if((i&7)===0){t:{if(q=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",q&&a!==zo&&(At=a.relatedTarget||a.fromElement)&&(Wn(At)||At[bi]))break t;if((H||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,H?(At=a.relatedTarget||a.toElement,H=z,At=At?Wn(At):null,At!==null&&(Zt=u(At),Tt=At.tag,At!==Zt||Tt!==5&&Tt!==27&&Tt!==6)&&(At=null)):(H=null,At=z),H!==At)){if(Tt=ps,Z="onMouseLeave",O="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(Tt=Ko,Z="onPointerLeave",O="onPointerEnter",M="pointer"),Zt=H==null?q:rr(H),U=At==null?q:rr(At),q=new Tt(Z,M+"leave",H,a,X),q.target=Zt,q.relatedTarget=U,Z=null,Wn(X)===z&&(Tt=new Tt(O,M+"enter",At,a,X),Tt.target=U,Tt.relatedTarget=Zt,Z=Tt),Zt=Z,H&&At)e:{for(Tt=H,O=At,M=0,U=Tt;U;U=Fa(U))M++;for(U=0,Z=O;Z;Z=Fa(Z))U++;for(;0<M-U;)Tt=Fa(Tt),M--;for(;0<U-M;)O=Fa(O),U--;for(;M--;){if(Tt===O||O!==null&&Tt===O.alternate)break e;Tt=Fa(Tt),O=Fa(O)}Tt=null}else Tt=null;H!==null&&My(J,q,H,Tt,!1),At!==null&&Zt!==null&&My(J,Zt,At,Tt,!0)}}t:{if(q=z?rr(z):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var ft=$m;else if(Xm(q))if(Jm)ft=ZE;else{ft=YE;var Dt=QE}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&da(z.elementType)&&(ft=$m):ft=XE;if(ft&&(ft=ft(e,z))){Zm(J,ft,a,X);break t}Dt&&Dt(e,q,z),e==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&Bo(q,"number",q.value)}switch(Dt=z?rr(z):window,e){case"focusin":(Xm(Dt)||Dt.contentEditable==="true")&&(Ea=Dt,Cf=z,$o=null);break;case"focusout":$o=Cf=Ea=null;break;case"mousedown":Rf=!0;break;case"contextmenu":case"mouseup":case"dragend":Rf=!1,ag(J,a,X);break;case"selectionchange":if(JE)break;case"keydown":case"keyup":ag(J,a,X)}var gt;if(Ct)t:{switch(e){case"compositionstart":var bt="onCompositionStart";break t;case"compositionend":bt="onCompositionEnd";break t;case"compositionupdate":bt="onCompositionUpdate";break t}bt=void 0}else Fn?qn(e,a)&&(bt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(bt="onCompositionStart");bt&&(_e&&a.locale!=="ko"&&(Fn||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&Fn&&(gt=zu()):(Cn=X,te="value"in Cn?Cn.value:Cn.textContent,Fn=!0)),Dt=Oc(z,bt),0<Dt.length&&(bt=new Go(bt,e,null,a,X),J.push({event:bt,listeners:Dt}),gt?bt.data=gt:(gt=Hn(a),gt!==null&&(bt.data=gt)))),(gt=qt?Qo(e,a):FE(e,a))&&(bt=Oc(z,"onBeforeInput"),0<bt.length&&(Dt=new Go("onBeforeInput","beforeinput",null,a,X),J.push({event:Dt,listeners:bt}),Dt.data=gt)),O4(J,e,z,a,X)}Dy(J,i)})}function Cl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Oc(e,i){for(var a=i+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=cr(e,a),f!=null&&l.unshift(Cl(e,f,d)),f=cr(e,i),f!=null&&l.push(Cl(e,f,d))),e.tag===3)return l;e=e.return}return[]}function Fa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function My(e,i,a,l,f){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,w=T.alternate,z=T.stateNode;if(T=T.tag,w!==null&&w===l)break;T!==5&&T!==26&&T!==27||z===null||(w=z,f?(z=cr(a,d),z!=null&&v.unshift(Cl(a,z,w))):f||(z=cr(a,d),z!=null&&v.push(Cl(a,z,w)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var U4=/\r\n?/g,k4=/\u0000|\uFFFD/g;function Ny(e){return(typeof e=="string"?e:""+e).replace(U4,`
`).replace(k4,"")}function Oy(e,i){return i=Ny(i),Ny(e)===i}function Pc(){}function Xt(e,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||An(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&An(e,""+l);break;case"className":is(e,"class",l);break;case"tabIndex":is(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":is(e,a,l);break;case"style":ko(e,l,d);break;case"data":if(i!=="object"){is(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=jn(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Xt(e,i,"name",f.name,f,null),Xt(e,i,"formEncType",f.formEncType,f,null),Xt(e,i,"formMethod",f.formMethod,f,null),Xt(e,i,"formTarget",f.formTarget,f,null)):(Xt(e,i,"encType",f.encType,f,null),Xt(e,i,"method",f.method,f,null),Xt(e,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=jn(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Pc);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=jn(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),ns(e,"popover",l);break;case"xlinkActuate":Sn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Sn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Sn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Sn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Sn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Sn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ns(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Bu.get(a)||a,ns(e,a,l))}}function Xd(e,i,a,l,f,d){switch(a){case"style":ko(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?An(e,l):(typeof l=="number"||typeof l=="bigint")&&An(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Pc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ts.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=e[ke]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ns(e,a,l)}}}function qe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Xt(e,i,d,v,a,null)}}f&&Xt(e,i,"srcSet",a.srcSet,a,null),l&&Xt(e,i,"src",a.src,a,null);return;case"input":Mt("invalid",e);var T=d=v=f=null,w=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":v=X;break;case"checked":w=X;break;case"defaultChecked":z=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,i));break;default:Xt(e,i,l,X,a,null)}}Lo(e,d,T,w,z,v,f,!1),or(e);return;case"select":Mt("invalid",e),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Xt(e,i,f,T,a,null)}i=d,a=v,e.multiple=!!l,i!=null?lr(e,!!l,i,!1):a!=null&&lr(e,!!l,a,!0);return;case"textarea":Mt("invalid",e),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:Xt(e,i,v,T,a,null)}Lu(e,l,f,d),or(e);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(e,i,w,l,a,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<Al.length;l++)Mt(Al[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Xt(e,i,z,l,a,null)}return;default:if(da(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Xd(e,i,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Xt(e,i,T,l,a,null))}function z4(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,T=null,w=null,z=null,X=null;for(H in a){var J=a[H];if(a.hasOwnProperty(H)&&J!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":w=J;default:l.hasOwnProperty(H)||Xt(e,i,H,null,l,J)}}for(var q in l){var H=l[q];if(J=a[q],l.hasOwnProperty(q)&&(H!=null||J!=null))switch(q){case"type":d=H;break;case"name":f=H;break;case"checked":z=H;break;case"defaultChecked":X=H;break;case"value":v=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==J&&Xt(e,i,q,H,l,J)}}Po(e,v,T,w,z,X,d,f);return;case"select":H=v=T=q=null;for(d in a)if(w=a[d],a.hasOwnProperty(d)&&w!=null)switch(d){case"value":break;case"multiple":H=w;default:l.hasOwnProperty(d)||Xt(e,i,d,null,l,w)}for(f in l)if(d=l[f],w=a[f],l.hasOwnProperty(f)&&(d!=null||w!=null))switch(f){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==w&&Xt(e,i,f,d,l,w)}i=T,a=v,l=H,q!=null?lr(e,!!a,q,!1):!!l!=!!a&&(i!=null?lr(e,!!a,i,!0):lr(e,!!a,a?[]:"",!1));return;case"textarea":H=q=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xt(e,i,T,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":q=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&Xt(e,i,v,f,l,d)}Pu(e,q,H);return;case"option":for(var At in a)if(q=a[At],a.hasOwnProperty(At)&&q!=null&&!l.hasOwnProperty(At))switch(At){case"selected":e.selected=!1;break;default:Xt(e,i,At,null,l,q)}for(w in l)if(q=l[w],H=a[w],l.hasOwnProperty(w)&&q!==H&&(q!=null||H!=null))switch(w){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Xt(e,i,w,q,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in a)q=a[Tt],a.hasOwnProperty(Tt)&&q!=null&&!l.hasOwnProperty(Tt)&&Xt(e,i,Tt,null,l,q);for(z in l)if(q=l[z],H=a[z],l.hasOwnProperty(z)&&q!==H&&(q!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,i));break;default:Xt(e,i,z,q,l,H)}return;default:if(da(i)){for(var Zt in a)q=a[Zt],a.hasOwnProperty(Zt)&&q!==void 0&&!l.hasOwnProperty(Zt)&&Xd(e,i,Zt,void 0,l,q);for(X in l)q=l[X],H=a[X],!l.hasOwnProperty(X)||q===H||q===void 0&&H===void 0||Xd(e,i,X,q,l,H);return}}for(var O in a)q=a[O],a.hasOwnProperty(O)&&q!=null&&!l.hasOwnProperty(O)&&Xt(e,i,O,null,l,q);for(J in l)q=l[J],H=a[J],!l.hasOwnProperty(J)||q===H||q==null&&H==null||Xt(e,i,J,q,l,H)}var Zd=null,$d=null;function Lc(e){return e.nodeType===9?e:e.ownerDocument}function Py(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ly(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Jd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Wd=null;function j4(){var e=window.event;return e&&e.type==="popstate"?e===Wd?!1:(Wd=e,!0):(Wd=null,!1)}var By=typeof setTimeout=="function"?setTimeout:void 0,q4=typeof clearTimeout=="function"?clearTimeout:void 0,Uy=typeof Promise=="function"?Promise:void 0,H4=typeof queueMicrotask=="function"?queueMicrotask:typeof Uy<"u"?function(e){return Uy.resolve(null).then(e).catch(F4)}:By;function F4(e){setTimeout(function(){throw e})}function Ir(e){return e==="head"}function ky(e,i){var a=i,l=0,f=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&Rl(v.documentElement),a&2&&Rl(v.body),a&4)for(a=v.head,Rl(a),v=a.firstChild;v;){var T=v.nextSibling,w=v.nodeName;v[ir]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(f===0){e.removeChild(d),Ol(i);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Ol(i)}function t1(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":t1(a),la(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function G4(e,i,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ir])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Qn(e.nextSibling),e===null)break}return null}function K4(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Qn(e.nextSibling),e===null))return null;return e}function e1(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Q4(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Qn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var n1=null;function zy(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function jy(e,i,a){switch(i=Lc(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Rl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);la(e)}var Mn=new Map,qy=new Set;function Bc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var zi=lt.d;lt.d={f:Y4,r:X4,D:Z4,C:$4,L:J4,m:W4,X:eT,S:tT,M:nT};function Y4(){var e=zi.f(),i=Ic();return e||i}function X4(e){var i=ti(e);i!==null&&i.tag===5&&i.type==="form"?lp(i):zi.r(e)}var Ga=typeof document>"u"?null:document;function Hy(e,i,a){var l=Ga;if(l&&typeof i=="string"&&i){var f=Ne(i);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),qy.has(f)||(qy.add(f),e={rel:e,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),qe(i,"link",e),ye(i),l.head.appendChild(i)))}}function Z4(e){zi.D(e),Hy("dns-prefetch",e,null)}function $4(e,i){zi.C(e,i),Hy("preconnect",e,i)}function J4(e,i,a){zi.L(e,i,a);var l=Ga;if(l&&e&&i){var f='link[rel="preload"][as="'+Ne(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Ne(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Ne(a.imageSizes)+'"]')):f+='[href="'+Ne(e)+'"]';var d=f;switch(i){case"style":d=Ka(e);break;case"script":d=Qa(e)}Mn.has(d)||(e=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Mn.set(d,e),l.querySelector(f)!==null||i==="style"&&l.querySelector(wl(d))||i==="script"&&l.querySelector(Il(d))||(i=l.createElement("link"),qe(i,"link",e),ye(i),l.head.appendChild(i)))}}function W4(e,i){zi.m(e,i);var a=Ga;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Ne(l)+'"][href="'+Ne(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Qa(e)}if(!Mn.has(d)&&(e=E({rel:"modulepreload",href:e},i),Mn.set(d,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(d)))return}l=a.createElement("link"),qe(l,"link",e),ye(l),a.head.appendChild(l)}}}function tT(e,i,a){zi.S(e,i,a);var l=Ga;if(l&&e){var f=sr(l).hoistableStyles,d=Ka(e);i=i||"default";var v=f.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(wl(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Mn.get(d))&&i1(e,a);var w=v=l.createElement("link");ye(w),qe(w,"link",e),w._p=new Promise(function(z,X){w.onload=z,w.onerror=X}),w.addEventListener("load",function(){T.loading|=1}),w.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Uc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},f.set(d,v)}}}function eT(e,i){zi.X(e,i);var a=Ga;if(a&&e){var l=sr(a).hoistableScripts,f=Qa(e),d=l.get(f);d||(d=a.querySelector(Il(f)),d||(e=E({src:e,async:!0},i),(i=Mn.get(f))&&r1(e,i),d=a.createElement("script"),ye(d),qe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function nT(e,i){zi.M(e,i);var a=Ga;if(a&&e){var l=sr(a).hoistableScripts,f=Qa(e),d=l.get(f);d||(d=a.querySelector(Il(f)),d||(e=E({src:e,async:!0,type:"module"},i),(i=Mn.get(f))&&r1(e,i),d=a.createElement("script"),ye(d),qe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Fy(e,i,a,l){var f=(f=St.current)?Bc(f):null;if(!f)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ka(a.href),a=sr(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ka(a.href);var d=sr(f).hoistableStyles,v=d.get(e);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=f.querySelector(wl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Mn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(e,a),d||iT(f,e,a,v.state))),i&&l===null)throw Error(r(528,""));return v}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Qa(a),a=sr(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ka(e){return'href="'+Ne(e)+'"'}function wl(e){return'link[rel="stylesheet"]['+e+"]"}function Gy(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function iT(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),qe(i,"link",a),ye(i),e.head.appendChild(i))}function Qa(e){return'[src="'+Ne(e)+'"]'}function Il(e){return"script[async]"+e}function Ky(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+Ne(a.href)+'"]');if(l)return i.instance=l,ye(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ye(l),qe(l,"style",f),Uc(l,a.precedence,e),i.instance=l;case"stylesheet":f=Ka(a.href);var d=e.querySelector(wl(f));if(d)return i.state.loading|=4,i.instance=d,ye(d),d;l=Gy(a),(f=Mn.get(f))&&i1(l,f),d=(e.ownerDocument||e).createElement("link"),ye(d);var v=d;return v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),qe(d,"link",l),i.state.loading|=4,Uc(d,a.precedence,e),i.instance=d;case"script":return d=Qa(a.src),(f=e.querySelector(Il(d)))?(i.instance=f,ye(f),f):(l=a,(f=Mn.get(d))&&(l=E({},a),r1(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),ye(f),qe(f,"link",l),e.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Uc(l,a.precedence,e));return i.instance}function Uc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function i1(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function r1(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var kc=null;function Qy(e,i,a){if(kc===null){var l=new Map,f=kc=new Map;f.set(a,l)}else f=kc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[ir]||d[pe]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function Yy(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function rT(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Xy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var xl=null;function sT(){}function aT(e,i,a){if(xl===null)throw Error(r(475));var l=xl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Ka(a.href),d=e.querySelector(wl(f));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=zc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,ye(d);return}d=e.ownerDocument||e,a=Gy(a),(f=Mn.get(f))&&i1(a,f),d=d.createElement("link"),ye(d);var v=d;v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),qe(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=zc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function oT(){if(xl===null)throw Error(r(475));var e=xl;return e.stylesheets&&e.count===0&&s1(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&s1(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function zc(){if(this.count--,this.count===0){if(this.stylesheets)s1(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var jc=null;function s1(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,jc=new Map,i.forEach(lT,e),jc=null,zc.call(e))}function lT(e,i){if(!(i.state.loading&4)){var a=jc.get(e);if(a)var l=a.get(null);else{a=new Map,jc.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=i.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=zc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),i.state.loading|=4}}var Dl={$$typeof:it,Provider:null,Consumer:null,_currentValue:yt,_currentValue2:yt,_threadCount:0};function uT(e,i,a,l,f,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oa(0),this.hiddenUpdates=oa(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Zy(e,i,a,l,f,d,v,T,w,z,X,J){return e=new uT(e,i,a,v,T,w,z,J),i=1,d===!0&&(i|=24),d=fn(3,null,null,i),e.current=d,d.stateNode=e,i=zf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Ff(d),e}function $y(e){return e?(e=Aa,e):Aa}function Jy(e,i,a,l,f,d){f=$y(f),l.context===null?l.context=f:l.pendingContext=f,l=gr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=pr(e,l,i),a!==null&&(yn(a,e,i),al(a,e,i))}function Wy(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function a1(e,i){Wy(e,i),(e=e.alternate)&&Wy(e,i)}function t0(e){if(e.tag===13){var i=Sa(e,67108864);i!==null&&yn(i,e,67108864),a1(e,67108864)}}var qc=!0;function cT(e,i,a,l){var f=Y.T;Y.T=null;var d=lt.p;try{lt.p=2,o1(e,i,a,l)}finally{lt.p=d,Y.T=f}}function hT(e,i,a,l){var f=Y.T;Y.T=null;var d=lt.p;try{lt.p=8,o1(e,i,a,l)}finally{lt.p=d,Y.T=f}}function o1(e,i,a,l){if(qc){var f=l1(l);if(f===null)Yd(e,i,l,Hc,a),n0(e,l);else if(dT(f,e,i,a,l))l.stopPropagation();else if(n0(e,l),i&4&&-1<fT.indexOf(e)){for(;f!==null;){var d=ti(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Un(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var w=1<<31-Je(v);T.entanglements[1]|=w,v&=~w}ci(d),(Ht&6)===0&&(Rc=an()+500,Sl(0))}}break;case 13:T=Sa(d,2),T!==null&&yn(T,d,2),Ic(),a1(d,2)}if(d=l1(l),d===null&&Yd(e,i,l,Hc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Yd(e,i,l,null,a)}}function l1(e){return e=jo(e),u1(e)}var Hc=null;function u1(e){if(Hc=null,e=Wn(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=h(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Hc=e,null}function e0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Du()){case we:return 2;case Me:return 8;case Ei:case mf:return 32;case Vo:return 268435456;default:return 32}default:return 32}}var c1=!1,xr=null,Dr=null,Vr=null,Vl=new Map,Ml=new Map,Mr=[],fT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function n0(e,i){switch(e){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":Vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(i.pointerId)}}function Nl(e,i,a,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=ti(i),i!==null&&t0(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),e)}function dT(e,i,a,l,f){switch(i){case"focusin":return xr=Nl(xr,e,i,a,l,f),!0;case"dragenter":return Dr=Nl(Dr,e,i,a,l,f),!0;case"mouseover":return Vr=Nl(Vr,e,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Vl.set(d,Nl(Vl.get(d)||null,e,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ml.set(d,Nl(Ml.get(d)||null,e,i,a,l,f)),!0}return!1}function i0(e){var i=Wn(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){e.blockedOn=i,yf(e.priority,function(){if(a.tag===13){var l=pn();l=No(l);var f=Sa(a,l);f!==null&&yn(f,a,l),a1(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=l1(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);zo=l,a.target.dispatchEvent(l),zo=null}else return i=ti(a),i!==null&&t0(i),e.blockedOn=a,!1;i.shift()}return!0}function r0(e,i,a){Fc(e)&&a.delete(i)}function mT(){c1=!1,xr!==null&&Fc(xr)&&(xr=null),Dr!==null&&Fc(Dr)&&(Dr=null),Vr!==null&&Fc(Vr)&&(Vr=null),Vl.forEach(r0),Ml.forEach(r0)}function Gc(e,i){e.blockedOn===i&&(e.blockedOn=null,c1||(c1=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,mT)))}var Kc=null;function s0(e){Kc!==e&&(Kc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Kc===e&&(Kc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],f=e[i+2];if(typeof l!="function"){if(u1(l||a)===null)continue;break}var d=ti(a);d!==null&&(e.splice(i,3),i-=3,ud(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Ol(e){function i(w){return Gc(w,e)}xr!==null&&Gc(xr,e),Dr!==null&&Gc(Dr,e),Vr!==null&&Gc(Vr,e),Vl.forEach(i),Ml.forEach(i);for(var a=0;a<Mr.length;a++){var l=Mr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Mr.length&&(a=Mr[0],a.blockedOn===null);)i0(a),a.blockedOn===null&&Mr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[ke]||null;if(typeof d=="function")v||s0(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[ke]||null)T=v.formAction;else if(u1(f)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),s0(a)}}}function h1(e){this._internalRoot=e}Qc.prototype.render=h1.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=pn();Jy(a,l,e,i,null,null)},Qc.prototype.unmount=h1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Jy(e.current,2,null,e,null,null),Ic(),i[bi]=null}};function Qc(e){this._internalRoot=e}Qc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Ti();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Mr.length&&i!==0&&i<Mr[a].priority;a++);Mr.splice(a,0,e),a===0&&i0(e)}};var a0=t.version;if(a0!=="19.1.1")throw Error(r(527,a0,"19.1.1"));lt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(i),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var gT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yc.isDisabled&&Yc.supportsFiber)try{$i=Yc.inject(gT),Ge=Yc}catch{}}return Ll.createRoot=function(e,i){if(!o(e))throw Error(r(299));var a=!1,l="",f=bp,d=Sp,v=Ap,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=Zy(e,1,!1,null,null,a,l,f,d,v,T,null),e[bi]=i.current,Qd(e),new h1(i)},Ll.hydrateRoot=function(e,i,a){if(!o(e))throw Error(r(299));var l=!1,f="",d=bp,v=Sp,T=Ap,w=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),i=Zy(e,1,!0,i,a??null,l,f,d,v,T,w,z),i.context=$y(null),a=i.current,l=pn(),l=No(l),f=gr(l),f.callback=null,pr(a,f,l),a=l,i.current.lanes=a,ge(i,a),ci(i),e[bi]=i.current,Qd(e),new Qc(i)},Ll.version="19.1.1",Ll}var p0;function CT(){if(p0)return m1.exports;p0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),m1.exports=AT(),m1.exports}var RT=CT();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var y0="popstate";function wT(s={}){function t(r,o){let{pathname:u,search:h,hash:m}=r.location;return M1("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:ru(o)}return xT(t,n,null,s)}function ue(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function gi(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function IT(){return Math.random().toString(36).substring(2,10)}function _0(s,t){return{usr:s.state,key:s.key,idx:t}}function M1(s,t,n=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?So(t):t,state:n,key:t&&t.key||r||IT()}}function ru({pathname:s="/",search:t="",hash:n=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function So(s){let t={};if(s){let n=s.indexOf("#");n>=0&&(t.hash=s.substring(n),s=s.substring(0,n));let r=s.indexOf("?");r>=0&&(t.search=s.substring(r),s=s.substring(0,r)),s&&(t.pathname=s)}return t}function xT(s,t,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,h=o.history,m="POP",g=null,p=E();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function E(){return(h.state||{idx:null}).idx}function b(){m="POP";let G=E(),rt=G==null?null:G-p;p=G,g&&g({action:m,location:$.location,delta:rt})}function C(G,rt){m="PUSH";let et=M1($.location,G,rt);p=E()+1;let it=_0(et,p),Et=$.createHref(et);try{h.pushState(it,"",Et)}catch(at){if(at instanceof DOMException&&at.name==="DataCloneError")throw at;o.location.assign(Et)}u&&g&&g({action:m,location:$.location,delta:1})}function P(G,rt){m="REPLACE";let et=M1($.location,G,rt);p=E();let it=_0(et,p),Et=$.createHref(et);h.replaceState(it,"",Et),u&&g&&g({action:m,location:$.location,delta:0})}function Q(G){return DT(G)}let $={get action(){return m},get location(){return s(o,h)},listen(G){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(y0,b),g=G,()=>{o.removeEventListener(y0,b),g=null}},createHref(G){return t(o,G)},createURL:Q,encodeLocation(G){let rt=Q(G);return{pathname:rt.pathname,search:rt.search,hash:rt.hash}},push:C,replace:P,go(G){return h.go(G)}};return $}function DT(s,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ue(n,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:ru(s);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function s_(s,t,n="/"){return VT(s,t,n,!1)}function VT(s,t,n,r){let o=typeof t=="string"?So(t):t,u=Gi(o.pathname||"/",n);if(u==null)return null;let h=a_(s);MT(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=HT(u);m=jT(h[g],p,r)}return m}function a_(s,t=[],n=[],r="",o=!1){let u=(h,m,g=o,p)=>{let E={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(r)&&g)return;ue(E.relativePath.startsWith(r),`Absolute route path "${E.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(r.length)}let b=Fi([r,E.relativePath]),C=n.concat(E);h.children&&h.children.length>0&&(ue(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),a_(h.children,t,C,b,g)),!(h.path==null&&!h.index)&&t.push({path:b,score:kT(b,h.index),routesMeta:C})};return s.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let g of o_(h.path))u(h,m,!0,g)}),t}function o_(s){let t=s.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let h=o_(r.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...h),m.map(g=>s.startsWith("/")&&g===""?"/":g)}function MT(s){s.sort((t,n)=>t.score!==n.score?n.score-t.score:zT(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var NT=/^:[\w-]+$/,OT=3,PT=2,LT=1,BT=10,UT=-2,v0=s=>s==="*";function kT(s,t){let n=s.split("/"),r=n.length;return n.some(v0)&&(r+=UT),t&&(r+=PT),n.filter(o=>!v0(o)).reduce((o,u)=>o+(NT.test(u)?OT:u===""?LT:BT),r)}function zT(s,t){return s.length===t.length&&s.slice(0,-1).every((r,o)=>r===t[o])?s[s.length-1]-t[t.length-1]:0}function jT(s,t,n=!1){let{routesMeta:r}=s,o={},u="/",h=[];for(let m=0;m<r.length;++m){let g=r[m],p=m===r.length-1,E=u==="/"?t:t.slice(u.length)||"/",b=_h({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},E),C=g.route;if(!b&&p&&n&&!r[r.length-1].route.index&&(b=_h({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:Fi([u,b.pathname]),pathnameBase:QT(Fi([u,b.pathnameBase])),route:C}),b.pathnameBase!=="/"&&(u=Fi([u,b.pathnameBase]))}return h}function _h(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,r]=qT(s.path,s.caseSensitive,s.end),o=t.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((p,{paramName:E,isOptional:b},C)=>{if(E==="*"){let Q=m[C]||"";h=u.slice(0,u.length-Q.length).replace(/(.)\/+$/,"$1")}const P=m[C];return b&&!P?p[E]=void 0:p[E]=(P||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:s}}function qT(s,t=!1,n=!0){gi(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(r.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function HT(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gi(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function Gi(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=s.charAt(n);return r&&r!=="/"?null:s.slice(n)||"/"}function FT(s,t="/"){let{pathname:n,search:r="",hash:o=""}=typeof s=="string"?So(s):s;return{pathname:n?n.startsWith("/")?n:GT(n,t):t,search:YT(r),hash:XT(o)}}function GT(s,t){let n=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function _1(s,t,n,r){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KT(s){return s.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function l_(s){let t=KT(s);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function u_(s,t,n,r=!1){let o;typeof s=="string"?o=So(s):(o={...s},ue(!o.pathname||!o.pathname.includes("?"),_1("?","pathname","search",o)),ue(!o.pathname||!o.pathname.includes("#"),_1("#","pathname","hash",o)),ue(!o.search||!o.search.includes("#"),_1("#","search","hash",o)));let u=s===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let b=t.length-1;if(!r&&h.startsWith("..")){let C=h.split("/");for(;C[0]==="..";)C.shift(),b-=1;o.pathname=C.join("/")}m=b>=0?t[b]:"/"}let g=FT(o,m),p=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||E)&&(g.pathname+="/"),g}var Fi=s=>s.join("/").replace(/\/\/+/g,"/"),QT=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),YT=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,XT=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function ZT(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var c_=["POST","PUT","PATCH","DELETE"];new Set(c_);var $T=["GET",...c_];new Set($T);var Ao=K.createContext(null);Ao.displayName="DataRouter";var Hh=K.createContext(null);Hh.displayName="DataRouterState";K.createContext(!1);var h_=K.createContext({isTransitioning:!1});h_.displayName="ViewTransition";var JT=K.createContext(new Map);JT.displayName="Fetchers";var WT=K.createContext(null);WT.displayName="Await";var yi=K.createContext(null);yi.displayName="Navigation";var vu=K.createContext(null);vu.displayName="Location";var _i=K.createContext({outlet:null,matches:[],isDataRoute:!1});_i.displayName="Route";var cm=K.createContext(null);cm.displayName="RouteError";function t5(s,{relative:t}={}){ue(Eu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=K.useContext(yi),{hash:o,pathname:u,search:h}=Tu(s,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:Fi([n,u])),r.createHref({pathname:m,search:h,hash:o})}function Eu(){return K.useContext(vu)!=null}function Xi(){return ue(Eu(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(vu).location}var f_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function d_(s){K.useContext(yi).static||K.useLayoutEffect(s)}function Fh(){let{isDataRoute:s}=K.useContext(_i);return s?m5():e5()}function e5(){ue(Eu(),"useNavigate() may be used only in the context of a <Router> component.");let s=K.useContext(Ao),{basename:t,navigator:n}=K.useContext(yi),{matches:r}=K.useContext(_i),{pathname:o}=Xi(),u=JSON.stringify(l_(r)),h=K.useRef(!1);return d_(()=>{h.current=!0}),K.useCallback((g,p={})=>{if(gi(h.current,f_),!h.current)return;if(typeof g=="number"){n.go(g);return}let E=u_(g,JSON.parse(u),o,p.relative==="path");s==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Fi([t,E.pathname])),(p.replace?n.replace:n.push)(E,p.state,p)},[t,n,u,o,s])}K.createContext(null);function n5(){let{matches:s}=K.useContext(_i),t=s[s.length-1];return t?t.params:{}}function Tu(s,{relative:t}={}){let{matches:n}=K.useContext(_i),{pathname:r}=Xi(),o=JSON.stringify(l_(n));return K.useMemo(()=>u_(s,JSON.parse(o),r,t==="path"),[s,o,r,t])}function i5(s,t){return m_(s,t)}function m_(s,t,n,r,o){ue(Eu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=K.useContext(yi),{matches:h}=K.useContext(_i),m=h[h.length-1],g=m?m.params:{},p=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let et=b&&b.path||"";g_(p,!b||et.endsWith("*")||et.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${et}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${et}"> to <Route path="${et==="/"?"*":`${et}/*`}">.`)}let C=Xi(),P;if(t){let et=typeof t=="string"?So(t):t;ue(E==="/"||et.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${et.pathname}" was given in the \`location\` prop.`),P=et}else P=C;let Q=P.pathname||"/",$=Q;if(E!=="/"){let et=E.replace(/^\//,"").split("/");$="/"+Q.replace(/^\//,"").split("/").slice(et.length).join("/")}let G=s_(s,{pathname:$});gi(b||G!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),gi(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let rt=l5(G&&G.map(et=>Object.assign({},et,{params:Object.assign({},g,et.params),pathname:Fi([E,u.encodeLocation?u.encodeLocation(et.pathname).pathname:et.pathname]),pathnameBase:et.pathnameBase==="/"?E:Fi([E,u.encodeLocation?u.encodeLocation(et.pathnameBase).pathname:et.pathnameBase])})),h,n,r,o);return t&&rt?K.createElement(vu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},rt):rt}function r5(){let s=d5(),t=ZT(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:u},"ErrorBoundary")," or"," ",K.createElement("code",{style:u},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},t),n?K.createElement("pre",{style:o},n):null,h)}var s5=K.createElement(r5,null),a5=class extends K.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){this.props.unstable_onError?this.props.unstable_onError(s,t):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?K.createElement(_i.Provider,{value:this.props.routeContext},K.createElement(cm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function o5({routeContext:s,match:t,children:n}){let r=K.useContext(Ao);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),K.createElement(_i.Provider,{value:s},n)}function l5(s,t=[],n=null,r=null,o=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let u=s,h=n?.errors;if(h!=null){let p=u.findIndex(E=>E.route.id&&h?.[E.route.id]!==void 0);ue(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,p+1))}let m=!1,g=-1;if(n)for(let p=0;p<u.length;p++){let E=u[p];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=p),E.route.id){let{loaderData:b,errors:C}=n,P=E.route.loader&&!b.hasOwnProperty(E.route.id)&&(!C||C[E.route.id]===void 0);if(E.route.lazy||P){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((p,E,b)=>{let C,P=!1,Q=null,$=null;n&&(C=h&&E.route.id?h[E.route.id]:void 0,Q=E.route.errorElement||s5,m&&(g<0&&b===0?(g_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,$=null):g===b&&(P=!0,$=E.route.hydrateFallbackElement||null)));let G=t.concat(u.slice(0,b+1)),rt=()=>{let et;return C?et=Q:P?et=$:E.route.Component?et=K.createElement(E.route.Component,null):E.route.element?et=E.route.element:et=p,K.createElement(o5,{match:E,routeContext:{outlet:p,matches:G,isDataRoute:n!=null},children:et})};return n&&(E.route.ErrorBoundary||E.route.errorElement||b===0)?K.createElement(a5,{location:n.location,revalidation:n.revalidation,component:Q,error:C,children:rt(),routeContext:{outlet:null,matches:G,isDataRoute:!0},unstable_onError:r}):rt()},null)}function hm(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u5(s){let t=K.useContext(Ao);return ue(t,hm(s)),t}function c5(s){let t=K.useContext(Hh);return ue(t,hm(s)),t}function h5(s){let t=K.useContext(_i);return ue(t,hm(s)),t}function fm(s){let t=h5(s),n=t.matches[t.matches.length-1];return ue(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function f5(){return fm("useRouteId")}function d5(){let s=K.useContext(cm),t=c5("useRouteError"),n=fm("useRouteError");return s!==void 0?s:t.errors?.[n]}function m5(){let{router:s}=u5("useNavigate"),t=fm("useNavigate"),n=K.useRef(!1);return d_(()=>{n.current=!0}),K.useCallback(async(o,u={})=>{gi(n.current,f_),n.current&&(typeof o=="number"?s.navigate(o):await s.navigate(o,{fromRouteId:t,...u}))},[s,t])}var E0={};function g_(s,t,n){!t&&!E0[s]&&(E0[s]=!0,gi(!1,n))}K.memo(g5);function g5({routes:s,future:t,state:n,unstable_onError:r}){return m_(s,void 0,n,r,t)}function ji(s){ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function p5({basename:s="/",children:t=null,location:n,navigationType:r="POP",navigator:o,static:u=!1}){ue(!Eu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),m=K.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=So(n));let{pathname:g="/",search:p="",hash:E="",state:b=null,key:C="default"}=n,P=K.useMemo(()=>{let Q=Gi(g,h);return Q==null?null:{location:{pathname:Q,search:p,hash:E,state:b,key:C},navigationType:r}},[h,g,p,E,b,C,r]);return gi(P!=null,`<Router basename="${h}"> is not able to match the URL "${g}${p}${E}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:K.createElement(yi.Provider,{value:m},K.createElement(vu.Provider,{children:t,value:P}))}function y5({children:s,location:t}){return i5(N1(s),t)}function N1(s,t=[]){let n=[];return K.Children.forEach(s,(r,o)=>{if(!K.isValidElement(r))return;let u=[...t,o];if(r.type===K.Fragment){n.push.apply(n,N1(r.props.children,u));return}ue(r.type===ji,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ue(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=N1(r.props.children,u)),n.push(h)}),n}var sh="get",ah="application/x-www-form-urlencoded";function Gh(s){return s!=null&&typeof s.tagName=="string"}function _5(s){return Gh(s)&&s.tagName.toLowerCase()==="button"}function v5(s){return Gh(s)&&s.tagName.toLowerCase()==="form"}function E5(s){return Gh(s)&&s.tagName.toLowerCase()==="input"}function T5(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function b5(s,t){return s.button===0&&(!t||t==="_self")&&!T5(s)}var Xc=null;function S5(){if(Xc===null)try{new FormData(document.createElement("form"),0),Xc=!1}catch{Xc=!0}return Xc}var A5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function v1(s){return s!=null&&!A5.has(s)?(gi(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ah}"`),null):s}function C5(s,t){let n,r,o,u,h;if(v5(s)){let m=s.getAttribute("action");r=m?Gi(m,t):null,n=s.getAttribute("method")||sh,o=v1(s.getAttribute("enctype"))||ah,u=new FormData(s)}else if(_5(s)||E5(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=s.getAttribute("formaction")||m.getAttribute("action");if(r=g?Gi(g,t):null,n=s.getAttribute("formmethod")||m.getAttribute("method")||sh,o=v1(s.getAttribute("formenctype"))||v1(m.getAttribute("enctype"))||ah,u=new FormData(m,s),!S5()){let{name:p,type:E,value:b}=s;if(E==="image"){let C=p?`${p}.`:"";u.append(`${C}x`,"0"),u.append(`${C}y`,"0")}else p&&u.append(p,b)}}else{if(Gh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sh,r=null,o=ah,h=s}return u&&o==="text/plain"&&(h=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function dm(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function R5(s,t,n){let r=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Gi(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function w5(s,t){if(s.id in t)return t[s.id];try{let n=await import(s.module);return t[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function I5(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function x5(s,t,n){let r=await Promise.all(s.map(async o=>{let u=t.routes[o.route.id];if(u){let h=await w5(u,n);return h.links?h.links():[]}return[]}));return N5(r.flat(1).filter(I5).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function T0(s,t,n,r,o,u){let h=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return u==="assets"?t.filter((g,p)=>h(g,p)||m(g,p)):u==="data"?t.filter((g,p)=>{let E=r.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function D5(s,t,{includeHydrateFallback:n}={}){return V5(s.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function V5(s){return[...new Set(s)]}function M5(s){let t={},n=Object.keys(s).sort();for(let r of n)t[r]=s[r];return t}function N5(s,t){let n=new Set;return new Set(t),s.reduce((r,o)=>{let u=JSON.stringify(M5(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}function p_(){let s=K.useContext(Ao);return dm(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function O5(){let s=K.useContext(Hh);return dm(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var mm=K.createContext(void 0);mm.displayName="FrameworkContext";function y_(){let s=K.useContext(mm);return dm(s,"You must render this element inside a <HydratedRouter> element"),s}function P5(s,t){let n=K.useContext(mm),[r,o]=K.useState(!1),[u,h]=K.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:E,onTouchStart:b}=t,C=K.useRef(null);K.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let $=rt=>{rt.forEach(et=>{h(et.isIntersecting)})},G=new IntersectionObserver($,{threshold:.5});return C.current&&G.observe(C.current),()=>{G.disconnect()}}},[s]),K.useEffect(()=>{if(r){let $=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout($)}}},[r]);let P=()=>{o(!0)},Q=()=>{o(!1),h(!1)};return n?s!=="intent"?[u,C,{}]:[u,C,{onFocus:Bl(m,P),onBlur:Bl(g,Q),onMouseEnter:Bl(p,P),onMouseLeave:Bl(E,Q),onTouchStart:Bl(b,P)}]:[!1,C,{}]}function Bl(s,t){return n=>{s&&s(n),n.defaultPrevented||t(n)}}function L5({page:s,...t}){let{router:n}=p_(),r=K.useMemo(()=>s_(n.routes,s,n.basename),[n.routes,s,n.basename]);return r?K.createElement(U5,{page:s,matches:r,...t}):null}function B5(s){let{manifest:t,routeModules:n}=y_(),[r,o]=K.useState([]);return K.useEffect(()=>{let u=!1;return x5(s,t,n).then(h=>{u||o(h)}),()=>{u=!0}},[s,t,n]),r}function U5({page:s,matches:t,...n}){let r=Xi(),{manifest:o,routeModules:u}=y_(),{basename:h}=p_(),{loaderData:m,matches:g}=O5(),p=K.useMemo(()=>T0(s,t,g,o,r,"data"),[s,t,g,o,r]),E=K.useMemo(()=>T0(s,t,g,o,r,"assets"),[s,t,g,o,r]),b=K.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let Q=new Set,$=!1;if(t.forEach(rt=>{let et=o.routes[rt.route.id];!et||!et.hasLoader||(!p.some(it=>it.route.id===rt.route.id)&&rt.route.id in m&&u[rt.route.id]?.shouldRevalidate||et.hasClientLoader?$=!0:Q.add(rt.route.id))}),Q.size===0)return[];let G=R5(s,h,"data");return $&&Q.size>0&&G.searchParams.set("_routes",t.filter(rt=>Q.has(rt.route.id)).map(rt=>rt.route.id).join(",")),[G.pathname+G.search]},[h,m,r,o,p,t,s,u]),C=K.useMemo(()=>D5(E,o),[E,o]),P=B5(E);return K.createElement(K.Fragment,null,b.map(Q=>K.createElement("link",{key:Q,rel:"prefetch",as:"fetch",href:Q,...n})),C.map(Q=>K.createElement("link",{key:Q,rel:"modulepreload",href:Q,...n})),P.map(({key:Q,link:$})=>K.createElement("link",{key:Q,nonce:n.nonce,...$})))}function k5(...s){return t=>{s.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var __=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{__&&(window.__reactRouterVersion="7.9.1")}catch{}function z5({basename:s,children:t,window:n}){let r=K.useRef();r.current==null&&(r.current=wT({window:n,v5Compat:!0}));let o=r.current,[u,h]=K.useState({action:o.action,location:o.location}),m=K.useCallback(g=>{K.startTransition(()=>h(g))},[h]);return K.useLayoutEffect(()=>o.listen(m),[o,m]),K.createElement(p5,{basename:s,children:t,location:u.location,navigationType:u.action,navigator:o})}var v_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,E_=K.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:h,state:m,target:g,to:p,preventScrollReset:E,viewTransition:b,...C},P){let{basename:Q}=K.useContext(yi),$=typeof p=="string"&&v_.test(p),G,rt=!1;if(typeof p=="string"&&$&&(G=p,__))try{let R=new URL(window.location.href),N=p.startsWith("//")?new URL(R.protocol+p):new URL(p),V=Gi(N.pathname,Q);N.origin===R.origin&&V!=null?p=V+N.search+N.hash:rt=!0}catch{gi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let et=t5(p,{relative:o}),[it,Et,at]=P5(r,C),vt=F5(p,{replace:h,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:b});function x(R){t&&t(R),R.defaultPrevented||vt(R)}let A=K.createElement("a",{...C,...at,href:G||et,onClick:rt||u?t:x,ref:k5(P,Et),target:g,"data-discover":!$&&n==="render"?"true":void 0});return it&&!$?K.createElement(K.Fragment,null,A,K.createElement(L5,{page:et})):A});E_.displayName="Link";var j5=K.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:h,viewTransition:m,children:g,...p},E){let b=Tu(h,{relative:p.relative}),C=Xi(),P=K.useContext(Hh),{navigator:Q,basename:$}=K.useContext(yi),G=P!=null&&X5(b)&&m===!0,rt=Q.encodeLocation?Q.encodeLocation(b).pathname:b.pathname,et=C.pathname,it=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(et=et.toLowerCase(),it=it?it.toLowerCase():null,rt=rt.toLowerCase()),it&&$&&(it=Gi(it,$)||it);const Et=rt!=="/"&&rt.endsWith("/")?rt.length-1:rt.length;let at=et===rt||!o&&et.startsWith(rt)&&et.charAt(Et)==="/",vt=it!=null&&(it===rt||!o&&it.startsWith(rt)&&it.charAt(rt.length)==="/"),x={isActive:at,isPending:vt,isTransitioning:G},A=at?t:void 0,R;typeof r=="function"?R=r(x):R=[r,at?"active":null,vt?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(x):u;return K.createElement(E_,{...p,"aria-current":A,className:R,ref:E,style:N,to:h,viewTransition:m},typeof g=="function"?g(x):g)});j5.displayName="NavLink";var q5=K.forwardRef(({discover:s="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:o,state:u,method:h=sh,action:m,onSubmit:g,relative:p,preventScrollReset:E,viewTransition:b,...C},P)=>{let Q=Q5(),$=Y5(m,{relative:p}),G=h.toLowerCase()==="get"?"get":"post",rt=typeof m=="string"&&v_.test(m),et=it=>{if(g&&g(it),it.defaultPrevented)return;it.preventDefault();let Et=it.nativeEvent.submitter,at=Et?.getAttribute("formmethod")||h;Q(Et||it.currentTarget,{fetcherKey:t,method:at,navigate:n,replace:o,state:u,relative:p,preventScrollReset:E,viewTransition:b})};return K.createElement("form",{ref:P,method:G,action:$,onSubmit:r?g:et,...C,"data-discover":!rt&&s==="render"?"true":void 0})});q5.displayName="Form";function H5(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T_(s){let t=K.useContext(Ao);return ue(t,H5(s)),t}function F5(s,{target:t,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=Fh(),g=Xi(),p=Tu(s,{relative:u});return K.useCallback(E=>{if(b5(E,t)){E.preventDefault();let b=n!==void 0?n:ru(g)===ru(p);m(s,{replace:b,state:r,preventScrollReset:o,relative:u,viewTransition:h})}},[g,m,p,n,r,t,s,o,u,h])}var G5=0,K5=()=>`__${String(++G5)}__`;function Q5(){let{router:s}=T_("useSubmit"),{basename:t}=K.useContext(yi),n=f5();return K.useCallback(async(r,o={})=>{let{action:u,method:h,encType:m,formData:g,body:p}=C5(r,t);if(o.navigate===!1){let E=o.fetcherKey||K5();await s.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await s.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,t,n])}function Y5(s,{relative:t}={}){let{basename:n}=K.useContext(yi),r=K.useContext(_i);ue(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...Tu(s||".",{relative:t})},h=Xi();if(s==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Fi([n,u.pathname])),ru(u)}function X5(s,{relative:t}={}){let n=K.useContext(h_);ue(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=T_("useViewTransitionState"),o=Tu(s,{relative:t});if(!n.isTransitioning)return!1;let u=Gi(n.currentLocation.pathname,r)||n.currentLocation.pathname,h=Gi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return _h(o.pathname,h)!=null||_h(o.pathname,u)!=null}function vi(s="light"){const t=()=>{const o=new URLSearchParams(window.location.search).get("theme"),u=window?.__APP_THEME,h=localStorage.getItem("APP_THEME")||null,m=window.matchMedia?.("(prefers-color-scheme: dark)").matches?"dark":"light";return o||u||h||m||s},[n,r]=K.useState(t());return K.useEffect(()=>{const o=window.matchMedia?.("(prefers-color-scheme: dark)"),u=()=>r(o.matches?"dark":"light");return o?.addEventListener?.("change",u),()=>o?.removeEventListener?.("change",u)},[]),n}const Ya="#907BE2",b0="#00ECBD",Zc="#1E1A29",Z5="#29243A",$5="#898989",J5="#ADADAD",$c="#F5F2F2",W5="#D3D3D3",S0="#FFFFFF",A0="#EC002F",Zn={light:{primary:Ya,accent:b0,darken:Zc,lighter:S0,text:Zc,lightText:$5,background:"#FFFFFF",surfaceColor:"#F0EDE6",tint:Ya,icon:$c,tabIconDefault:$c,tabIconSelected:Ya,border:W5,controlColor:"#F5F2F2",error:A0},dark:{primary:Ya,accent:b0,darken:Zc,lighter:S0,text:"#FFFFFF",lightText:J5,background:Zc,surfaceColor:Z5,tint:Ya,icon:$c,tabIconDefault:$c,tabIconSelected:Ya,border:"#898989",controlColor:"#4B465A",error:A0}};function t6(){const s=vi();K.useEffect(()=>{const t=Zn[s].background;return document.body.style.backgroundColor=t,()=>{document.body.style.backgroundColor=""}},[s])}const e6={location:{viewBox:"0 0 24 24",paths:()=>j.jsxs(j.Fragment,{children:[j.jsx("path",{d:"M12 14.1699C9.87 14.1699 8.13 12.4399 8.13 10.2999C8.13 8.15994 9.87 6.43994 12 6.43994C14.13 6.43994 15.87 8.16994 15.87 10.3099C15.87 12.4499 14.13 14.1699 12 14.1699ZM12 7.93994C10.7 7.93994 9.63 8.99994 9.63 10.3099C9.63 11.6199 10.69 12.6799 12 12.6799C13.31 12.6799 14.37 11.6199 14.37 10.3099C14.37 8.99994 13.3 7.93994 12 7.93994Z"}),j.jsx("path",{d:"M12.0001 22.76C10.5201 22.76 9.03005 22.2 7.87005 21.09C4.92005 18.25 1.66005 13.72 2.89005 8.33C4.00005 3.44 8.27005 1.25 12.0001 1.25C12.0001 1.25 12.0001 1.25 12.0101 1.25C15.7401 1.25 20.0101 3.44 21.1201 8.34C22.3401 13.73 19.0801 18.25 16.1301 21.09C14.9701 22.2 13.4801 22.76 12.0001 22.76ZM12.0001 2.75C9.09005 2.75 5.35005 4.3 4.36005 8.66C3.28005 13.37 6.24005 17.43 8.92005 20C10.6501 21.67 13.3601 21.67 15.0901 20C17.7601 17.43 20.7201 13.37 19.6601 8.66C18.6601 4.3 14.9101 2.75 12.0001 2.75Z"})]})},shop:{viewBox:"0 0 24 24",paths:({color:s})=>j.jsxs(j.Fragment,{children:[j.jsx("path",{d:"M14.6998 22.75H9.29977C4.35977 22.75 2.25977 20.64 2.25977 15.71V11.22C2.25977 10.81 2.59977 10.47 3.00977 10.47C3.41977 10.47 3.75977 10.81 3.75977 11.22V15.71C3.75977 19.8 5.20977 21.25 9.29977 21.25H14.6898C18.7798 21.25 20.2298 19.8 20.2298 15.71V11.22C20.2298 10.81 20.5698 10.47 20.9798 10.47C21.3898 10.47 21.7298 10.81 21.7298 11.22V15.71C21.7398 20.64 19.6298 22.75 14.6998 22.75Z",fill:s??"currentColor"}),j.jsx("path",{d:"M12 12.75C10.9 12.75 9.9 12.32 9.19 11.53C8.48 10.74 8.15 9.71 8.26 8.61L8.93 1.93C8.97 1.55 9.29 1.25 9.68 1.25H14.35C14.74 1.25 15.06 1.54 15.1 1.93L15.77 8.61C15.88 9.71 15.55 10.74 14.84 11.53C14.1 12.32 13.1 12.75 12 12.75ZM10.35 2.75L9.75 8.76C9.68 9.43 9.88 10.06 10.3 10.52C11.15 11.46 12.85 11.46 13.7 10.52C14.12 10.05 14.32 9.42 14.25 8.76L13.65 2.75H10.35Z",fill:s??"currentColor"}),j.jsx("path",{d:"M18.31 12.75C16.28 12.75 14.47 11.11 14.26 9.09L13.56 2.08C13.54 1.87 13.61 1.66 13.75 1.5C13.89 1.34 14.09 1.25 14.31 1.25H17.36C20.3 1.25 21.67 2.48 22.08 5.5L22.36 8.28C22.48 9.46 22.12 10.58 21.35 11.43C20.58 12.28 19.5 12.75 18.31 12.75ZM15.14 2.75L15.76 8.94C15.89 10.19 17.05 11.25 18.31 11.25C19.07 11.25 19.75 10.96 20.24 10.43C20.72 9.9 20.94 9.19 20.87 8.43L20.59 5.68C20.28 3.42 19.55 2.75 17.36 2.75H15.14Z",fill:s??"currentColor"}),j.jsx("path",{d:"M5.64002 12.75C4.45002 12.75 3.37002 12.28 2.60002 11.43C1.83002 10.58 1.47002 9.46 1.59002 8.28L1.86002 5.53C2.28002 2.48 3.65002 1.25 6.59002 1.25H9.64002C9.85002 1.25 10.05 1.34 10.2 1.5C10.35 1.66 10.41 1.87 10.39 2.08L9.69002 9.09C9.48002 11.11 7.67002 12.75 5.64002 12.75ZM6.59002 2.75C4.40002 2.75 3.67002 3.41 3.35002 5.7L3.08002 8.43C3.00002 9.19 3.23002 9.9 3.71002 10.43C4.19002 10.96 4.87002 11.25 5.64002 11.25C6.90002 11.25 8.07002 10.19 8.19002 8.94L8.81002 2.75H6.59002Z",fill:s??"currentColor"}),j.jsx("path",{d:"M14.5 22.75H9.5C9.09 22.75 8.75 22.41 8.75 22V19.5C8.75 17.4 9.9 16.25 12 16.25C14.1 16.25 15.25 17.4 15.25 19.5V22C15.25 22.41 14.91 22.75 14.5 22.75ZM10.25 21.25H13.75V19.5C13.75 18.24 13.26 17.75 12 17.75C10.74 17.75 10.25 18.24 10.25 19.5V21.25Z",fill:s??"currentColor"})]})},search:{viewBox:"0 0 14 14",paths:({color:s})=>j.jsxs(j.Fragment,{children:[j.jsx("path",{d:"M6.70817 12.6875C3.41234 12.6875 0.729004 10.0042 0.729004 6.70833C0.729004 3.4125 3.41234 0.729166 6.70817 0.729166C10.004 0.729166 12.6873 3.4125 12.6873 6.70833C12.6873 10.0042 10.004 12.6875 6.70817 12.6875ZM6.70817 1.60417C3.89067 1.60417 1.604 3.89667 1.604 6.70833C1.604 9.52 3.89067 11.8125 6.70817 11.8125C9.52567 11.8125 11.8123 9.52 11.8123 6.70833C11.8123 3.89667 9.52567 1.60417 6.70817 1.60417Z",fill:s??"currentColor"}),j.jsx("path",{d:"M12.8332 13.2708C12.7223 13.2708 12.6115 13.23 12.524 13.1425L11.3573 11.9758C11.1882 11.8067 11.1882 11.5267 11.3573 11.3575C11.5265 11.1883 11.8065 11.1883 11.9757 11.3575L13.1423 12.5242C13.3115 12.6933 13.3115 12.9733 13.1423 13.1425C13.0548 13.23 12.944 13.2708 12.8332 13.2708Z",fill:s??"currentColor"})]})},gymnastics:{viewBox:"0 0 24 24",paths:({stroke:s,strokeWidth:t})=>j.jsx("path",{d:"M11.7379 9.5C6.5 10 6.00012 9.5 6.99986 21.5H8.99986M21.5 11C13.5 11.5 8.02498 8.57494 6 2.5M14.4996 11C4.99948 17.5 2.49978 9 2.99983 8.5C3.49988 8 7.5 5.5 9.5 2.5M18 6.5C18 7.60457 17.1046 8.5 16 8.5C14.8954 8.5 14 7.60457 14 6.5C14 5.39543 14.8954 4.5 16 4.5C17.1046 4.5 18 5.39543 18 6.5Z",stroke:s??"currentColor",strokeWidth:t??1.5,fill:"none"})},dance:{viewBox:"0 0 24 24",paths:({stroke:s,strokeWidth:t})=>j.jsx("path",{d:"M9.96296 2.04739C13.5 2.99953 15 4.99953 15 7.49953M11.9692 12.5C12.5 15 13.0769 20.5 2 20.5M14.5 10C15.5 12 15 15.5 15 15.5M12.5 15.5C20 15.5 27.5 19.5 16.5 20.5M9.96296 2.0469C13.5 2.99905 15 4.99905 15 7.49905C15 9.99905 12 14.4995 4 14.999M12 7.5C12 8.60457 11.1046 9.5 10 9.5C8.89543 9.5 8 8.60457 8 7.5C8 6.39543 8.89543 5.5 10 5.5C11.1046 5.5 12 6.39543 12 7.5Z",stroke:s??"currentColor",strokeWidth:t??1.5,strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})},ballet:{viewBox:"0 0 24 24",paths:({stroke:s,strokeWidth:t,color:n})=>j.jsx(j.Fragment,{children:j.jsx("path",{d:"M12.416 1.91016C12.6957 1.91016 12.9229 2.13729 12.9229 2.41699C12.9228 4.08044 12.1451 6.35526 10.458 7.63379C10.4944 7.86593 10.5626 8.23411 10.6758 8.66113L11.1572 8.50098C11.9383 8.23977 12.7516 7.96747 14.0107 7.78711H14.0156C15.0061 7.69485 15.8362 7.7573 16.4746 7.96973C17.1144 8.18268 17.5672 8.54853 17.7861 9.06445C18.1 9.80446 17.8488 10.6892 17.2041 11.5908L21.4756 10.6719L21.5781 10.6602C21.7648 10.6571 21.9323 10.7596 22.0215 10.9189L22.0439 10.8975L22.0791 11.0596C22.1377 11.3331 21.9629 11.6024 21.6895 11.6611L16.0273 12.8799C14.9506 13.8516 13.4673 14.8058 11.6982 15.6035C11.2709 15.7964 10.845 15.9649 10.4238 16.1211V21.583C10.4238 21.8627 10.1967 22.0898 9.91699 22.0898C9.63734 22.0898 9.41016 21.8627 9.41016 21.583V16.4658C8.09325 16.8702 6.84875 17.0889 5.80371 17.0889C5.12628 17.0888 4.52786 17.0001 4.0459 16.8115C3.47719 16.589 3.08057 16.2382 2.87988 15.7656C2.59086 15.0844 2.77619 14.2755 3.33105 13.4365C3.87653 12.612 4.78837 11.7426 6.00293 10.9033C5.35588 9.83062 4.82535 8.66227 4.4707 7.67578C2.87482 5.83588 1.9103 3.87661 1.91016 2.41699C1.91016 2.13729 2.13729 1.91016 2.41699 1.91016C2.69653 1.91034 2.92285 2.13741 2.92285 2.41699C2.92293 2.99577 3.13404 3.71643 3.52344 4.50098C3.90728 5.2743 4.46189 6.10343 5.14844 6.91016H9.74414C11.1582 5.9111 11.9091 3.91721 11.9092 2.41699C11.9092 2.13733 12.1364 1.91022 12.416 1.91016ZM15.9785 8.87305C15.5095 8.75264 14.8813 8.71955 14.1338 8.79102C12.9861 8.95564 12.2224 9.21211 11.4785 9.46094L10.9922 9.62207C11.1904 10.1348 11.4465 10.6558 11.7939 11.0967C12.037 11.4065 12.1379 11.8046 12.0674 12.1904C12.0012 12.557 11.7812 12.8763 11.4648 13.0674L11.4658 13.0684C11.1167 13.28 10.7681 13.4521 10.4316 13.5801C10.1157 13.6997 9.79042 13.7588 9.46777 13.7588C8.77768 13.7587 8.10715 13.4906 7.58887 12.9854C7.22411 12.6294 6.87957 12.2059 6.55664 11.751C5.47341 12.504 4.71636 13.2409 4.26562 13.876C4.03521 14.2007 3.88625 14.4965 3.81348 14.751C3.74061 15.0059 3.74536 15.2133 3.81152 15.3691C3.89695 15.5711 4.09197 15.7414 4.41406 15.8672C5.07881 16.1281 6.10098 16.1469 7.31152 15.9395C8.50316 15.7352 9.86544 15.3126 11.2275 14.7031L11.2812 14.6787C13.2223 13.8027 14.7352 12.7523 15.7021 11.7861C16.1859 11.3027 16.5304 10.8434 16.7246 10.4404C16.9199 10.0353 16.9567 9.70137 16.8535 9.45801H16.8525C16.7432 9.2 16.4511 8.99445 15.9785 8.87305ZM5.64355 7.92285C6.50381 10.4784 7.90923 11.8839 8.2959 12.2617L8.3877 12.3447C8.85748 12.7426 9.49152 12.8541 10.0723 12.6338C10.3504 12.5285 10.6429 12.3841 10.9404 12.2041L10.998 12.1572C11.0449 12.1072 11.0632 12.0489 11.0703 12.0107V12.0098C11.0886 11.9113 11.0625 11.8075 10.998 11.7256C9.9988 10.456 9.61096 8.73074 9.47656 7.92285H5.64355ZM7.41602 1.91016C8.61389 1.91016 9.58967 2.88512 9.58984 4.08301C9.58984 5.28104 8.614 6.25684 7.41602 6.25684C6.2182 6.25664 5.24316 5.28092 5.24316 4.08301C5.24334 2.88525 6.21831 1.91036 7.41602 1.91016ZM7.41602 2.92285C6.77687 2.92305 6.25701 3.44381 6.25684 4.08301C6.25684 4.72235 6.77676 5.24296 7.41602 5.24316C8.05544 5.24316 8.57617 4.72247 8.57617 4.08301C8.576 3.44369 8.05533 2.92285 7.41602 2.92285Z",fill:n??"currentColor",stroke:s??"currentColor",strokeWidth:t??.4})})},volleyball:{viewBox:"0 0 24 24",paths:({color:s})=>j.jsxs(j.Fragment,{children:[j.jsx("path",{d:"M16.8247 14.1881C15.501 17.4337 12.9975 19.9738 9.39847 21.3425C9.24701 21.4001 9.25817 21.6175 9.41472 21.6594C13.9293 22.8662 18.6245 20.7818 20.8052 16.7398C20.8793 16.6025 20.8471 16.4319 20.729 16.3299C19.7591 15.4937 18.6169 14.6922 17.2842 14.0148C17.1102 13.9264 16.8984 14.0073 16.8247 14.1881Z",fill:s??"currentColor"}),j.jsx("path",{d:"M16.0482 13.4474C14.8604 12.9588 13.6157 12.6038 12.3335 12.3878C12.2145 12.3678 12.0946 12.4154 12.0189 12.5094C10.0982 14.8961 7.52369 16.7596 4.40497 17.7939C4.18298 17.8675 4.10629 18.1414 4.25455 18.3223C5.18462 19.4574 6.38688 20.4216 7.80038 21.0762C7.87303 21.1098 7.95596 21.1157 8.03278 21.0932C12.0749 19.9092 14.8405 17.3371 16.2312 13.8791C16.2993 13.7098 16.217 13.5168 16.0482 13.4474Z",fill:s??"currentColor"}),j.jsx("path",{d:"M21.3924 15.4335C21.8935 14.061 22.086 12.5877 21.9583 11.1169C21.9514 11.0376 21.9158 10.9632 21.8587 10.9077C18.8521 7.98704 15.1891 6.85802 11.5011 7.39089C11.322 7.41676 11.1967 7.58243 11.219 7.7621C11.3786 9.04521 11.6965 10.3046 12.1675 11.5204C12.21 11.6301 12.3083 11.7078 12.4243 11.7272C15.4551 12.2344 18.3527 13.4971 20.8674 15.5751C21.0445 15.7214 21.3137 15.6492 21.3924 15.4335Z",fill:s??"currentColor"}),j.jsx("path",{d:"M8.72146 14.7902C9.74984 14.0131 10.6803 13.1104 11.4976 12.0955C11.5723 12.0027 11.5899 11.8767 11.5468 11.7656C10.4324 8.89138 10.1169 5.72096 10.7706 2.5223C10.8169 2.29577 10.622 2.09094 10.3937 2.12756C8.89283 2.36829 7.47758 2.94603 6.23809 3.82349C6.17343 3.86927 6.12732 3.9373 6.10824 4.01419C5.09157 8.10719 5.97652 11.8304 8.25898 14.7313C8.37091 14.8735 8.57703 14.8992 8.72146 14.7902Z",fill:s??"currentColor"}),j.jsx("path",{d:"M11.5092 2.26099C11.1956 3.62312 11.0596 5.02196 11.1096 6.40389C11.1167 6.60109 11.2944 6.74689 11.4898 6.71989C14.9618 6.24042 18.4302 7.156 21.3977 9.60201C21.5222 9.70461 21.7065 9.58843 21.6653 9.43246C20.5316 5.13631 16.5768 1.92132 11.8281 2.00147C11.6749 2.00405 11.5435 2.11169 11.5092 2.26099Z",fill:s??"currentColor"}),j.jsx("path",{d:"M7.68307 15.0761C5.49626 12.2608 4.60376 8.79485 5.21124 5.07261C5.23736 4.91248 5.04353 4.81317 4.92876 4.92781C1.57352 8.27939 1.14404 13.3536 3.42004 17.1388C3.49898 17.2701 3.65744 17.3304 3.80395 17.2859C5.14501 16.8782 6.42387 16.299 7.59922 15.5633C7.76647 15.4586 7.80413 15.2319 7.68307 15.0761Z",fill:s??"currentColor"})]})},tennis:{viewBox:"0 0 24 24",paths:({color:s})=>j.jsx("path",{d:"M11.1956 21.96C6.31256 21.572 2.42456 17.683 2.03656 12.801C2.05356 12.801 2.06956 12.807 2.08656 12.805C2.38656 12.768 2.68756 12.75 2.99656 12.75C7.54555 12.75 11.2466 16.451 11.2466 21C11.2466 21.309 11.2286 21.609 11.1916 21.91C11.1896 21.927 11.1966 21.943 11.1956 21.96ZM12.8006 2.091C12.7636 2.391 12.7456 2.692 12.7456 3.001C12.7456 7.55 16.4466 11.251 20.9956 11.251C21.3046 11.251 21.6046 11.233 21.9056 11.196C21.9226 11.194 21.9386 11.201 21.9556 11.2C21.5676 6.317 17.6796 2.429 12.7966 2.041C12.7966 2.058 12.8026 2.074 12.8006 2.091ZM20.9956 12.751C15.6196 12.751 11.2456 8.377 11.2456 3.001C11.2456 2.673 11.2696 2.355 11.3036 2.036C6.33556 2.376 2.37256 6.339 2.03156 11.308C2.35056 11.274 2.66856 11.25 2.99656 11.25C8.37256 11.25 12.7466 15.624 12.7466 21C12.7466 21.328 12.7226 21.646 12.6886 21.965C17.6576 21.624 21.6206 17.661 21.9616 12.692C21.6426 12.726 21.3246 12.75 20.9966 12.75L20.9956 12.751Z",fill:s??"currentColor"})},football:{viewBox:"0 0 24 24",paths:({color:s})=>j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.39471 2.34184C7.00771 2.9833 4.97354 4.4861 3.6459 6.49652L5.61806 7.0307L9.39471 4.2868V2.34184ZM2.92711 7.78188C2.33 9.06355 1.99658 10.4928 1.99658 12C1.99658 13.0817 2.16834 14.1234 2.48608 15.0991L4.74287 15.3363L6.62888 12.7911L5.20144 8.3979L2.92711 7.78188ZM4.9913 19.1363C4.24041 18.3991 3.60536 17.5443 3.11596 16.6017L4.48312 16.7454L4.9913 19.1363ZM6.74401 20.5111C8.27048 21.4551 10.0699 22 11.9966 22C12.5575 22 13.1077 21.9538 13.6434 21.865C13.4653 21.6967 13.3829 21.4447 13.4355 21.1974L14.4839 16.2649L12.4459 13.6348H7.78171L5.83953 16.2558L6.74401 20.5111ZM20.5508 17.1821C19.4048 19.0698 17.6516 20.548 15.5622 21.3456L14.9407 20.9868L15.8422 16.7454L20.1546 16.2922L20.5508 17.1821ZM21.3664 15.5016C21.7738 14.4118 21.9966 13.2319 21.9966 12C21.9966 11.1786 21.8976 10.3804 21.7108 9.61651L18.017 7.5851L15.0166 8.39789L13.5921 12.7818L15.5724 15.3373L20.5214 14.8172C20.8291 14.7848 21.1227 14.9543 21.2486 15.237L21.3664 15.5016ZM19.4462 5.32881C20.0498 6.00241 20.5634 6.75834 20.9681 7.5777L18.9987 6.49462L19.4462 5.32881ZM18.3269 4.25837C16.6028 2.84689 14.3986 2 11.9966 2C11.5997 2 11.2081 2.02313 10.8233 2.0681V4.2868L14.5999 7.03069L17.5717 6.22567L18.3269 4.25837ZM6.60101 8.08236L10.109 5.53365L13.617 8.08236L12.2771 12.2063H7.94094L6.60101 8.08236Z",fill:s??"currentColor"})},hockey:{viewBox:"0 0 24 24",paths:({color:s})=>j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.33457 15.9864C5.58446 14.9364 3.2149 15.9061 2.77215 17.8984L2.37636 19.6795C2.12427 20.8139 2.98661 21.89 4.1487 21.89H7.33457C9.09695 21.89 10.4406 21.6108 11.2881 21.362C11.633 21.2608 11.9391 21.0833 12.2034 20.853C11.993 20.4104 11.8753 19.9153 11.8753 19.3926C11.8753 17.5568 13.3277 16.0602 15.1461 15.9893L17.7428 11.3862C17.6919 11.3712 17.642 11.35 17.5941 11.3223L14.4619 9.51416L11.0205 15.4412C11.001 15.4746 10.9829 15.5085 10.9647 15.5425C10.9499 15.5702 10.935 15.598 10.9195 15.6254C10.7008 16.0124 9.70517 17.4088 7.33457 15.9864ZM13.2384 19.3712L13.2377 19.3724C13.2448 18.6461 13.6307 18.0105 14.2073 17.6536L14.2068 17.6544C14.5191 17.4609 14.8874 17.3492 15.2818 17.3492H19.3689C20.4975 17.3492 21.4125 18.2641 21.4125 19.3927C21.4125 20.5213 20.4975 21.4362 19.3689 21.4362H15.2818C14.1532 21.4362 13.2383 20.5213 13.2383 19.3927C13.2383 19.3855 13.2383 19.3784 13.2384 19.3712ZM15.146 8.33601L18.2752 10.1425C18.3191 10.1678 18.3591 10.1973 18.3949 10.2301L19.8249 7.69522C19.7882 7.68183 19.7521 7.66509 19.7171 7.64488L16.5942 5.84201L15.146 8.33601ZM17.2783 4.66385L20.3983 6.46502C20.4292 6.48289 20.4582 6.50282 20.4852 6.52454L21.433 4.84447C21.9239 3.97412 21.6197 2.87064 20.7521 2.37485L20.7079 2.34963C19.8412 1.85433 18.7371 2.15133 18.2359 3.01466L17.2783 4.66385Z",fill:s??"currentColor"})},run:{viewBox:"0 0 24 24",paths:({color:s})=>j.jsxs(j.Fragment,{children:[j.jsx("path",{d:"M21.4162 17.9437H16.7137C16.3097 17.945 15.9094 17.8661 15.5361 17.7117C15.1627 17.5572 14.8238 17.3301 14.5387 17.0438C14.1342 16.6384 8.85682 11.3643 8.655 11.1563L3.91875 6.42C3.84623 6.35309 3.75117 6.31593 3.6525 6.31593C3.55382 6.31593 3.45877 6.35309 3.38625 6.42L1.86375 7.94625C1.63205 8.17876 1.50195 8.49363 1.50195 8.82188C1.50195 9.15012 1.63205 9.46499 1.86375 9.6975L12.7612 20.5912C12.8938 20.726 13.0367 20.8501 13.1887 20.9625C13.8465 21.452 14.6451 21.7152 15.465 21.7125H20.4C20.9568 21.7121 21.4908 21.4908 21.8845 21.097C22.2783 20.7033 22.4996 20.1693 22.5 19.6125V19.0425C22.5004 18.7536 22.3869 18.4761 22.184 18.2704C21.981 18.0647 21.7052 17.9473 21.4162 17.9437Z",fill:s??"currentColor"}),j.jsx("path",{d:"M9.18373 10.6275L9.42373 10.8675C9.50631 9.57617 9.71646 6.49891 9.79498 5.25001L9.87373 4.06876C9.89259 3.73173 9.80913 3.39687 9.6343 3.10812C9.45947 2.81937 9.20143 2.59021 8.89405 2.45072C8.58666 2.31123 8.24429 2.26791 7.91185 2.32646C7.57941 2.38501 7.27244 2.54269 7.0312 2.77881L4.13623 5.67376C4.25101 5.72383 4.35532 5.79507 4.44373 5.88376L9.18373 10.6275Z",fill:s??"currentColor"}),j.jsx("path",{d:"M16.7138 17.1937H20.7225C19.2456 15.5224 18.058 13.6162 17.2088 11.5537C16.8844 11.8821 16.1805 12.5792 15.8513 12.9112C15.7806 12.9809 15.6851 13.0197 15.5859 13.0192C15.4866 13.0186 15.3916 12.9788 15.3217 12.9083C15.2518 12.8379 15.2126 12.7426 15.2127 12.6434C15.2129 12.5441 15.2524 12.449 15.3225 12.3787L16.92 10.7812C16.5975 9.8925 16.3238 9.10875 16.0913 8.43375C15.7054 8.81962 14.3227 10.2024 13.9125 10.6125C13.8783 10.6481 13.8372 10.6764 13.7918 10.6957C13.7464 10.715 13.6975 10.725 13.6482 10.725C13.5988 10.725 13.5499 10.715 13.5045 10.6957C13.4591 10.6764 13.418 10.6481 13.3838 10.6125C13.349 10.5778 13.3214 10.5366 13.3026 10.4912C13.2838 10.4459 13.2741 10.3972 13.2741 10.3481C13.2741 10.299 13.2838 10.2504 13.3026 10.205C13.3214 10.1596 13.349 10.1184 13.3838 10.0837C13.8142 9.65343 15.4279 8.0395 15.8288 7.63875C15.4293 6.41004 15.2054 5.12876 13.7175 5.10753C13.375 5.10803 13.0401 5.20784 12.7532 5.39487C12.4664 5.5819 12.2399 5.84811 12.1013 6.16125C11.8814 6.69736 11.2948 6.8091 10.7663 6.7612C10.581 6.78353 10.4069 6.60577 10.4401 6.88501L10.4363 6.96376C10.394 7.52558 10.1657 11.0944 10.1288 11.5763L15.0675 16.515C15.2834 16.7314 15.5401 16.9028 15.8227 17.0193C16.1052 17.1358 16.4081 17.1951 16.7138 17.1937Z",fill:s??"currentColor"}),j.jsx("path",{d:"M12.2325 21.12L12.075 20.9625H1.87497C1.77652 20.964 1.68262 21.0042 1.61354 21.0744C1.54446 21.1445 1.50574 21.239 1.50574 21.3375C1.50574 21.436 1.54446 21.5305 1.61354 21.6006C1.68262 21.6708 1.77652 21.711 1.87497 21.7125H12.9562C12.6921 21.5448 12.4491 21.3458 12.2325 21.12Z",fill:s??"currentColor"}),j.jsx("path",{d:"M7.50001 18.6943C7.5982 18.6924 7.69172 18.6521 7.76049 18.5819C7.82925 18.5118 7.86776 18.4175 7.86776 18.3193C7.86776 18.2211 7.82923 18.1268 7.76047 18.0567C7.6917 17.9866 7.59818 17.9462 7.49999 17.9443H1.87501C1.77682 17.9463 1.6833 17.9866 1.61454 18.0567C1.54578 18.1268 1.50726 18.2211 1.50726 18.3193C1.50727 18.4176 1.54579 18.5118 1.61456 18.582C1.68332 18.6521 1.77685 18.6924 1.87504 18.6943H7.50001Z",fill:s??"currentColor"})]})},"arrow-left":{viewBox:"0 0 24 24",paths:({color:s})=>j.jsx("path",{d:"M14.9998 20.67C14.8098 20.67 14.6198 20.6 14.4698 20.45L7.94979 13.93C6.88979 12.87 6.88979 11.13 7.94979 10.07L14.4698 3.55C14.7598 3.26 15.2398 3.26 15.5298 3.55C15.8198 3.84 15.8198 4.32 15.5298 4.61L9.00979 11.13C8.52979 11.61 8.52979 12.39 9.00979 12.87L15.5298 19.39C15.8198 19.68 15.8198 20.16 15.5298 20.45C15.3798 20.59 15.1898 20.67 14.9998 20.67Z",fill:s??"currentColor"})},heart:{viewBox:"0 0 24 24",paths:({color:s})=>j.jsx("path",{d:"M12 21.65C11.69 21.65 11.39 21.61 11.14 21.52C7.32 20.21 1.25 15.56 1.25 8.68998C1.25 5.18998 4.08 2.34998 7.56 2.34998C9.25 2.34998 10.83 3.00998 12 4.18998C13.17 3.00998 14.75 2.34998 16.44 2.34998C19.92 2.34998 22.75 5.19998 22.75 8.68998C22.75 15.57 16.68 20.21 12.86 21.52C12.61 21.61 12.31 21.65 12 21.65ZM7.56 3.84998C4.91 3.84998 2.75 6.01998 2.75 8.68998C2.75 15.52 9.32 19.32 11.63 20.11C11.81 20.17 12.2 20.17 12.38 20.11C14.68 19.32 21.26 15.53 21.26 8.68998C21.26 6.01998 19.1 3.84998 16.45 3.84998C14.93 3.84998 13.52 4.55998 12.61 5.78998C12.33 6.16998 11.69 6.16998 11.41 5.78998C10.48 4.54998 9.08 3.84998 7.56 3.84998Z",fill:s??"currentColor"})},"shopping-cart":{viewBox:"0 0 24 24",paths:({color:s})=>j.jsxs(j.Fragment,{children:[j.jsx("path",{d:"M18.19 17.75H7.53999C6.54999 17.75 5.59999 17.33 4.92999 16.6C4.25999 15.87 3.92 14.89 4 13.9L4.83 3.94C4.86 3.63 4.74999 3.33001 4.53999 3.10001C4.32999 2.87001 4.04 2.75 3.73 2.75H2C1.59 2.75 1.25 2.41 1.25 2C1.25 1.59 1.59 1.25 2 1.25H3.74001C4.47001 1.25 5.15999 1.56 5.64999 2.09C5.91999 2.39 6.12 2.74 6.23 3.13H18.72C19.73 3.13 20.66 3.53 21.34 4.25C22.01 4.98 22.35 5.93 22.27 6.94L21.73 14.44C21.62 16.27 20.02 17.75 18.19 17.75ZM6.28 4.62L5.5 14.02C5.45 14.6 5.64 15.15 6.03 15.58C6.42 16.01 6.95999 16.24 7.53999 16.24H18.19C19.23 16.24 20.17 15.36 20.25 14.32L20.79 6.82001C20.83 6.23001 20.64 5.67001 20.25 5.26001C19.86 4.84001 19.32 4.60999 18.73 4.60999H6.28V4.62Z",fill:s??"currentColor"}),j.jsx("path",{d:"M16.25 22.75C15.15 22.75 14.25 21.85 14.25 20.75C14.25 19.65 15.15 18.75 16.25 18.75C17.35 18.75 18.25 19.65 18.25 20.75C18.25 21.85 17.35 22.75 16.25 22.75ZM16.25 20.25C15.97 20.25 15.75 20.47 15.75 20.75C15.75 21.03 15.97 21.25 16.25 21.25C16.53 21.25 16.75 21.03 16.75 20.75C16.75 20.47 16.53 20.25 16.25 20.25Z",fill:s??"currentColor"}),j.jsx("path",{d:"M8.25 22.75C7.15 22.75 6.25 21.85 6.25 20.75C6.25 19.65 7.15 18.75 8.25 18.75C9.35 18.75 10.25 19.65 10.25 20.75C10.25 21.85 9.35 22.75 8.25 22.75ZM8.25 20.25C7.97 20.25 7.75 20.47 7.75 20.75C7.75 21.03 7.97 21.25 8.25 21.25C8.53 21.25 8.75 21.03 8.75 20.75C8.75 20.47 8.53 20.25 8.25 20.25Z",fill:s??"currentColor"}),j.jsx("path",{d:"M21 8.75H9C8.59 8.75 8.25 8.41 8.25 8C8.25 7.59 8.59 7.25 9 7.25H21C21.41 7.25 21.75 7.59 21.75 8C21.75 8.41 21.41 8.75 21 8.75Z",fill:s??"currentColor"})]})},document:{viewBox:"0 0 24 24",paths:({color:s})=>j.jsxs(j.Fragment,{children:[j.jsx("path",{d:"M16.5 22.75H8.5C4.85 22.75 2.75 20.65 2.75 17V7C2.75 3.35 4.85 1.25 8.5 1.25H16.5C20.15 1.25 22.25 3.35 22.25 7V17C22.25 20.65 20.15 22.75 16.5 22.75ZM8.5 2.75C5.64 2.75 4.25 4.14 4.25 7V17C4.25 19.86 5.64 21.25 8.5 21.25H16.5C19.36 21.25 20.75 19.86 20.75 17V7C20.75 4.14 19.36 2.75 16.5 2.75H8.5Z",fill:s??"currentColor"}),j.jsx("path",{d:"M19 9.25H17C15.48 9.25 14.25 8.02 14.25 6.5V4.5C14.25 4.09 14.59 3.75 15 3.75C15.41 3.75 15.75 4.09 15.75 4.5V6.5C15.75 7.19 16.31 7.75 17 7.75H19C19.41 7.75 19.75 8.09 19.75 8.5C19.75 8.91 19.41 9.25 19 9.25Z",fill:s??"currentColor"}),j.jsx("path",{d:"M12.5 13.75H8.5C8.09 13.75 7.75 13.41 7.75 13C7.75 12.59 8.09 12.25 8.5 12.25H12.5C12.91 12.25 13.25 12.59 13.25 13C13.25 13.41 12.91 13.75 12.5 13.75Z",fill:s??"currentColor"}),j.jsx("path",{d:"M16.5 17.75H8.5C8.09 17.75 7.75 17.41 7.75 17C7.75 16.59 8.09 16.25 8.5 16.25H16.5C16.91 16.25 17.25 16.59 17.25 17C17.25 17.41 16.91 17.75 16.5 17.75Z",fill:s??"currentColor"})]})}},co=({name:s,size:t=24,color:n="currentColor",stroke:r,strokeWidth:o,className:u})=>{const h=e6[s];return h?j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:h.viewBox,width:t,height:t,fill:n,className:u,children:h.paths({color:n,stroke:r,strokeWidth:o})}):(console.warn(`VuesaxIcon "${s}" not found`),null)},n6=[{id:"store",label:"Магазин",icon:"shop",path:"/store"},{id:"favorites",label:"Избранное",icon:"heart",path:"/favorites"},{id:"orders",label:"Мои заказы",icon:"document",path:"/orders"}],b_=()=>{const s=Fh(),t=Xi(),n=vi(),r=Zn[n],o=u=>{s(u)};return j.jsx("div",{style:{position:"fixed",bottom:0,left:0,right:0,backgroundColor:r.background,borderTop:`1px solid ${r.surfaceColor}`,display:"flex",paddingBottom:"16px",zIndex:1e3},children:n6.map(u=>{const h=t.pathname===u.path;return j.jsxs("button",{onClick:()=>o(u.path),style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:1,padding:"8px 4px",background:"none",border:"none",cursor:"pointer",color:h?r.primary:r.text,transition:"color 0.2s ease",outline:"none"},children:[j.jsx(co,{name:u.icon,size:28,color:h?r.primary:r.text}),j.jsx("span",{style:{fontSize:10,color:h?r.primary:r.text},children:u.label})]},u.id)})})},i6=()=>j.jsxs("section",{style:{padding:16},children:[j.jsx("h1",{children:"Home"}),j.jsx("p",{children:"Sharity App WebViews"}),j.jsx(b_,{})]}),r6=()=>j.jsxs("section",{style:{padding:16},children:[j.jsx("h1",{children:"Classes"}),j.jsx("p",{children:"Каталог тренировок / курсов"}),j.jsx("p",{children:"В разработке"})]}),s6=()=>j.jsxs("section",{style:{padding:16},children:[j.jsx("h1",{children:"Events"}),j.jsx("p",{children:"Анонсы и детали событий"}),j.jsx("p",{children:"В разработке"})]}),S_=({searchValue:s,onSearchChange:t})=>{const n=vi(),r=Zn[n];return j.jsxs("div",{style:{paddingRight:56,paddingBottom:8,height:48,display:"flex",flex:1,alignItems:"center",borderBottomStyle:"solid",borderBottomWidth:1,borderBottomColor:r.surfaceColor},children:[j.jsx("div",{style:{width:56,height:40,display:"flex",alignItems:"center",justifyContent:"center"},children:j.jsx(co,{name:"location",size:24,color:r.primary})}),j.jsxs("div",{style:{position:"relative",height:40,display:"flex",flex:1,borderRadius:8,backgroundColor:r.controlColor},children:[j.jsx("div",{style:{position:"absolute",left:4,top:1,width:40,maxWidth:40,padding:"8px",color:r.text,zIndex:2},children:j.jsx(co,{name:"search",size:16,color:r.lightText})}),j.jsx("input",{name:"search",type:"text",placeholder:"Поиск",value:s,onChange:o=>t(o.target.value),style:{paddingLeft:40,fontSize:16,width:"100%",border:"none",outline:"none",backgroundColor:"transparent",color:r.text}})]})]})},a6=({title:s="Категории",categories:t,selectedIds:n,onChange:r,multi:o=!0,onOpenFilter:u})=>{const h=vi(),m=Zn[h],g=K.useMemo(()=>new Set(n),[n]),p=E=>{if(o){const b=new Set(g);b.has(E)?b.delete(E):b.add(E),r([...b])}else r(g.has(E)?[]:[E])};return j.jsxs("section",{style:{width:"100%"},children:[j.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:16},children:[j.jsx("h2",{style:{margin:0,fontSize:16,fontWeight:700,color:m.text},children:s}),j.jsx("button",{onClick:u,style:{background:"none",border:"none",padding:0,color:m.primary,fontSize:14,fontWeight:600,cursor:"pointer"},children:"Фильтр"})]}),j.jsx("div",{style:{display:"flex",flexWrap:"wrap",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:16},children:t.map(E=>{const b=g.has(E.id);return j.jsxs("button",{onClick:()=>p(E.id),"aria-pressed":b,style:{display:"flex",alignItems:"center",gap:6,padding:"10px 14px",border:"none",cursor:"pointer",borderRadius:24,backgroundColor:b?m.primary:m.controlColor,color:b?m.lighter:m.text,textAlign:"left",boxShadow:"0 0 0 1px rgba(0,0,0,0.02)",outline:"none"},children:[j.jsx("span",{style:{width:28,height:28,borderRadius:14,display:"grid",placeItems:"center"},children:j.jsx(co,{name:E.icon,size:24})}),j.jsx("span",{style:{fontSize:14,fontWeight:700},children:E.label})]},E.id)})})]})},o6=({size:s=16,isLiked:t=!1,className:n})=>{const r=vi(),o=Zn[r].primary,u=Zn[r].darken;return j.jsx("svg",{width:s,height:s,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",className:n,"aria-hidden":!0,focusable:"false",children:j.jsx("path",{d:"M11.0003 3C12.5012 3.00017 13.6663 4.16605 13.6663 5.66699C13.6662 6.59841 13.2562 7.52147 12.3294 8.65527C11.3914 9.80281 10.0322 11.0406 8.2962 12.6182L8.00226 12.8828L7.70636 12.6143L7.70538 12.6123L6.47394 11.4912C5.31464 10.4253 4.37385 9.51452 3.67023 8.6543C2.74369 7.52152 2.33341 6.5984 2.33331 5.66699C2.33331 4.16594 3.49926 3 5.00031 3C5.85741 3.0001 6.69558 3.40434 7.23859 4.04199L8.00031 4.93555L8.76105 4.04199C9.30412 3.40426 10.1431 3 11.0003 3Z",fill:t?o:"none",stroke:t?o:u,strokeWidth:1})})},l6=({product:s,isLiked:t=!1,onHeartPress:n})=>{const r=Fh(),o=vi(),u=Zn[o],h=()=>{r(`/product/${s.id}`)};return j.jsxs("div",{style:{background:"transparent",cursor:"pointer"},onClick:h,children:[j.jsxs("div",{style:{position:"relative",marginBottom:8},children:[j.jsx("img",{src:s.image,alt:s.title,style:{width:"100%",aspectRatio:"1 / 1",objectFit:"cover",borderRadius:12,border:`1px solid ${u.border}`,display:"block"}}),j.jsx("button",{type:"button","aria-label":t?"Убрать из избранного":"В избранное",onClick:m=>{m.stopPropagation(),n?.(s.id)},style:{position:"absolute",top:8,right:8,padding:0,minWidth:32,maxWidth:32,height:32,borderRadius:16,background:"rgba(255,255,255,0.9)",border:"none",display:"flex",placeItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"0 1px 2px rgba(0,0,0,0.2)",outline:"none"},children:j.jsx(o6,{isLiked:t})})]}),j.jsxs("div",{style:{display:"grid",gap:4},children:[j.jsx("div",{style:{fontSize:12,color:u.lightText},children:s.category}),j.jsx("div",{style:{fontSize:14,fontWeight:600,color:u.text},children:s.title}),j.jsx("div",{style:{fontSize:18,fontWeight:600,color:u.primary},children:s.price})]})]})},A_=({products:s,gap:t=16})=>{const[n,r]=K.useState(new Set),o=u=>{r(h=>{const m=new Set(h);return m.has(u)?m.delete(u):m.add(u),m})};return j.jsx("div",{style:{paddingBottom:32,display:"grid",gridTemplateColumns:"1fr 1fr",gap:t},children:s.map(u=>j.jsx("div",{children:j.jsx(l6,{product:u,isLiked:n.has(u.id),onHeartPress:o})},u.id))})},u6=()=>{};var C0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},c6=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],h=s[n++],m=s[n++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(g>>10)),t[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[n++],h=s[n++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},R_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],h=o+1<s.length,m=h?s[o+1]:0,g=o+2<s.length,p=g?s[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let C=(m&15)<<2|p>>6,P=p&63;g||(P=64,h||(C=64)),r.push(n[E],n[b],n[C],n[P])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(C_(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):c6(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const p=o<s.length?n[s.charAt(o)]:64;++o;const b=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||m==null||p==null||b==null)throw new h6;const C=u<<2|m>>4;if(r.push(C),p!==64){const P=m<<4&240|p>>2;if(r.push(P),b!==64){const Q=p<<6&192|b;r.push(Q)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class h6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f6=function(s){const t=C_(s);return R_.encodeByteArray(t,!0)},vh=function(s){return f6(s).replace(/\./g,"")},d6=function(s){try{return R_.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6=()=>w_().__FIREBASE_DEFAULTS__,g6=()=>{if(typeof process>"u"||typeof C0>"u")return;const s=C0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},p6=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&d6(s[1]);return t&&JSON.parse(t)},gm=()=>{try{return u6()||m6()||g6()||p6()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},y6=s=>gm()?.emulatorHosts?.[s],_6=s=>{const t=y6(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},I_=()=>gm()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function E6(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[vh(JSON.stringify(n)),vh(JSON.stringify(h)),""].join(".")}const Yl={};function b6(){const s={prod:[],emulator:[]};for(const t of Object.keys(Yl))Yl[t]?s.emulator.push(t):s.prod.push(t);return s}function S6(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let R0=!1;function A6(s,t){if(typeof window>"u"||typeof document>"u"||!pm(window.location.host)||Yl[s]===t||Yl[s]||R0)return;Yl[s]=t;function n(C){return`__firebase__banner__${C}`}const r="__firebase__banner",u=b6().prod.length>0;function h(){const C=document.getElementById(r);C&&C.remove()}function m(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function g(C,P){C.setAttribute("width","24"),C.setAttribute("id",P),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function p(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{R0=!0,h()},C}function E(C,P){C.setAttribute("id",P),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function b(){const C=S6(r),P=n("text"),Q=document.getElementById(P)||document.createElement("span"),$=n("learnmore"),G=document.getElementById($)||document.createElement("a"),rt=n("preprendIcon"),et=document.getElementById(rt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const it=C.element;m(it),E(G,$);const Et=p();g(et,rt),it.append(et,Q,G,Et),document.body.appendChild(it)}u?(Q.innerText="Preview backend disconnected.",et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function x_(){const s=gm()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function D_(){return!x_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function V_(){return!x_()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function M_(){try{return typeof indexedDB=="object"}catch{return!1}}function C6(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6="FirebaseError";class Co extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=R6,Object.setPrototypeOf(this,Co.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,N_.prototype.create)}}class N_{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?w6(u,r):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Co(o,m,r)}}function w6(s,t){return s.replace(I6,(n,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const I6=/\{\$([^}]+)}/g;function Th(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const u=s[o],h=t[o];if(w0(u)&&w0(h)){if(!Th(u,h))return!1}else if(u!==h)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function w0(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(s){return s&&s._delegate?s._delegate:s}class su{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new v6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(V6(t))try{this.getOrInitializeService({instanceIdentifier:Os})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Os){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Os){return this.instances.has(t)}getOptions(t=Os){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&h.resolve(o)}return o}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:D6(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Os){return this.component?this.component.multipleInstances?t:Os:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function D6(s){return s===Os?void 0:s}function V6(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new x6(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ut||(Ut={}));const N6={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},O6=Ut.INFO,P6={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},L6=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=P6[t];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class P_{constructor(t){this.name=t,this._logLevel=O6,this._logHandler=L6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?N6[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const B6=(s,t)=>t.some(n=>s instanceof n);let I0,x0;function U6(){return I0||(I0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function k6(){return x0||(x0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L_=new WeakMap,O1=new WeakMap,B_=new WeakMap,E1=new WeakMap,ym=new WeakMap;function z6(s){const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",h)},u=()=>{n(kr(s.result)),o()},h=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",h)});return t.then(n=>{n instanceof IDBCursor&&L_.set(n,s)}).catch(()=>{}),ym.set(t,s),t}function j6(s){if(O1.has(s))return;const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",h),s.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",h),s.addEventListener("abort",h)});O1.set(s,t)}let P1={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return O1.get(s);if(t==="objectStoreNames")return s.objectStoreNames||B_.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kr(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function q6(s){P1=s(P1)}function H6(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(T1(this),t,...n);return B_.set(r,t.sort?t.sort():[t]),kr(r)}:k6().includes(s)?function(...t){return s.apply(T1(this),t),kr(L_.get(this))}:function(...t){return kr(s.apply(T1(this),t))}}function F6(s){return typeof s=="function"?H6(s):(s instanceof IDBTransaction&&j6(s),B6(s,U6())?new Proxy(s,P1):s)}function kr(s){if(s instanceof IDBRequest)return z6(s);if(E1.has(s))return E1.get(s);const t=F6(s);return t!==s&&(E1.set(s,t),ym.set(t,s)),t}const T1=s=>ym.get(s);function G6(s,t,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const h=indexedDB.open(s,t),m=kr(h);return r&&h.addEventListener("upgradeneeded",g=>{r(kr(h.result),g.oldVersion,g.newVersion,kr(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const K6=["get","getKey","getAll","getAllKeys","count"],Q6=["put","add","delete","clear"],b1=new Map;function D0(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(b1.get(t))return b1.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=Q6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||K6.includes(n)))return;const u=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return r&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return b1.set(t,u),u}q6(s=>({...s,get:(t,n,r)=>D0(t,n)||s.get(t,n,r),has:(t,n)=>!!D0(t,n)||s.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(X6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function X6(s){return s.getComponent()?.type==="VERSION"}const L1="@firebase/app",V0="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new P_("@firebase/app"),Z6="@firebase/app-compat",$6="@firebase/analytics-compat",J6="@firebase/analytics",W6="@firebase/app-check-compat",t9="@firebase/app-check",e9="@firebase/auth",n9="@firebase/auth-compat",i9="@firebase/database",r9="@firebase/data-connect",s9="@firebase/database-compat",a9="@firebase/functions",o9="@firebase/functions-compat",l9="@firebase/installations",u9="@firebase/installations-compat",c9="@firebase/messaging",h9="@firebase/messaging-compat",f9="@firebase/performance",d9="@firebase/performance-compat",m9="@firebase/remote-config",g9="@firebase/remote-config-compat",p9="@firebase/storage",y9="@firebase/storage-compat",_9="@firebase/firestore",v9="@firebase/ai",E9="@firebase/firestore-compat",T9="firebase",b9="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="[DEFAULT]",S9={[L1]:"fire-core",[Z6]:"fire-core-compat",[J6]:"fire-analytics",[$6]:"fire-analytics-compat",[t9]:"fire-app-check",[W6]:"fire-app-check-compat",[e9]:"fire-auth",[n9]:"fire-auth-compat",[i9]:"fire-rtdb",[r9]:"fire-data-connect",[s9]:"fire-rtdb-compat",[a9]:"fire-fn",[o9]:"fire-fn-compat",[l9]:"fire-iid",[u9]:"fire-iid-compat",[c9]:"fire-fcm",[h9]:"fire-fcm-compat",[f9]:"fire-perf",[d9]:"fire-perf-compat",[m9]:"fire-rc",[g9]:"fire-rc-compat",[p9]:"fire-gcs",[y9]:"fire-gcs-compat",[_9]:"fire-fst",[E9]:"fire-fst-compat",[v9]:"fire-vertex","fire-js":"fire-js",[T9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new Map,A9=new Map,U1=new Map;function M0(s,t){try{s.container.addComponent(t)}catch(n){Ki.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function Sh(s){const t=s.name;if(U1.has(t))return Ki.debug(`There were multiple attempts to register component ${t}.`),!1;U1.set(t,s);for(const n of bh.values())M0(n,s);for(const n of A9.values())M0(n,s);return!0}function C9(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function R9(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zr=new N_("app","Firebase",w9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new su("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9=b9;function U_(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r={name:B1,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw zr.create("bad-app-name",{appName:String(o)});if(n||(n=I_()),!n)throw zr.create("no-options");const u=bh.get(o);if(u){if(Th(n,u.options)&&Th(r,u.config))return u;throw zr.create("duplicate-app",{appName:o})}const h=new M6(o);for(const g of U1.values())h.addComponent(g);const m=new I9(n,r,h);return bh.set(o,m),m}function k_(s=B1){const t=bh.get(s);if(!t&&s===B1&&I_())return U_();if(!t)throw zr.create("no-app",{appName:s});return t}function ao(s,t,n){let r=S9[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const h=[`Unable to register library "${r}" with version "${t}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ki.warn(h.join(" "));return}Sh(new su(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9="firebase-heartbeat-database",V9=1,au="firebase-heartbeat-store";let S1=null;function z_(){return S1||(S1=G6(D9,V9,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(au)}catch(n){console.warn(n)}}}}).catch(s=>{throw zr.create("idb-open",{originalErrorMessage:s.message})})),S1}async function M9(s){try{const n=(await z_()).transaction(au),r=await n.objectStore(au).get(j_(s));return await n.done,r}catch(t){if(t instanceof Co)Ki.warn(t.message);else{const n=zr.create("idb-get",{originalErrorMessage:t?.message});Ki.warn(n.message)}}}async function N0(s,t){try{const r=(await z_()).transaction(au,"readwrite");await r.objectStore(au).put(t,j_(s)),await r.done}catch(n){if(n instanceof Co)Ki.warn(n.message);else{const r=zr.create("idb-set",{originalErrorMessage:n?.message});Ki.warn(r.message)}}}function j_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9=1024,O9=30;class P9{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new B9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=O0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>O9){const o=U9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ki.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=O0(),{heartbeatsToSend:n,unsentEntries:r}=L9(this._heartbeatsCache.heartbeats),o=vh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ki.warn(t),""}}}function O0(){return new Date().toISOString().substring(0,10)}function L9(s,t=N9){const n=[];let r=s.slice();for(const o of s){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),P0(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),P0(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class B9{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return M_()?C6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await M9(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return N0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return N0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function P0(s){return vh(JSON.stringify({version:2,heartbeats:s})).length}function U9(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k9(s){Sh(new su("platform-logger",t=>new Y6(t),"PRIVATE")),Sh(new su("heartbeat",t=>new P9(t),"PRIVATE")),ao(L1,V0,s),ao(L1,V0,"esm2020"),ao("fire-js","")}k9("");var L0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jr,q_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(x,A){function R(){}R.prototype=A.prototype,x.F=A.prototype,x.prototype=new R,x.prototype.constructor=x,x.D=function(N,V,L){for(var I=Array(arguments.length-2),he=2;he<arguments.length;he++)I[he-2]=arguments[he];return A.prototype[V].apply(N,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,A,R){R||(R=0);const N=Array(16);if(typeof A=="string")for(var V=0;V<16;++V)N[V]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(V=0;V<16;++V)N[V]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=x.g[0],R=x.g[1],V=x.g[2];let L=x.g[3],I;I=A+(L^R&(V^L))+N[0]+3614090360&4294967295,A=R+(I<<7&4294967295|I>>>25),I=L+(V^A&(R^V))+N[1]+3905402710&4294967295,L=A+(I<<12&4294967295|I>>>20),I=V+(R^L&(A^R))+N[2]+606105819&4294967295,V=L+(I<<17&4294967295|I>>>15),I=R+(A^V&(L^A))+N[3]+3250441966&4294967295,R=V+(I<<22&4294967295|I>>>10),I=A+(L^R&(V^L))+N[4]+4118548399&4294967295,A=R+(I<<7&4294967295|I>>>25),I=L+(V^A&(R^V))+N[5]+1200080426&4294967295,L=A+(I<<12&4294967295|I>>>20),I=V+(R^L&(A^R))+N[6]+2821735955&4294967295,V=L+(I<<17&4294967295|I>>>15),I=R+(A^V&(L^A))+N[7]+4249261313&4294967295,R=V+(I<<22&4294967295|I>>>10),I=A+(L^R&(V^L))+N[8]+1770035416&4294967295,A=R+(I<<7&4294967295|I>>>25),I=L+(V^A&(R^V))+N[9]+2336552879&4294967295,L=A+(I<<12&4294967295|I>>>20),I=V+(R^L&(A^R))+N[10]+4294925233&4294967295,V=L+(I<<17&4294967295|I>>>15),I=R+(A^V&(L^A))+N[11]+2304563134&4294967295,R=V+(I<<22&4294967295|I>>>10),I=A+(L^R&(V^L))+N[12]+1804603682&4294967295,A=R+(I<<7&4294967295|I>>>25),I=L+(V^A&(R^V))+N[13]+4254626195&4294967295,L=A+(I<<12&4294967295|I>>>20),I=V+(R^L&(A^R))+N[14]+2792965006&4294967295,V=L+(I<<17&4294967295|I>>>15),I=R+(A^V&(L^A))+N[15]+1236535329&4294967295,R=V+(I<<22&4294967295|I>>>10),I=A+(V^L&(R^V))+N[1]+4129170786&4294967295,A=R+(I<<5&4294967295|I>>>27),I=L+(R^V&(A^R))+N[6]+3225465664&4294967295,L=A+(I<<9&4294967295|I>>>23),I=V+(A^R&(L^A))+N[11]+643717713&4294967295,V=L+(I<<14&4294967295|I>>>18),I=R+(L^A&(V^L))+N[0]+3921069994&4294967295,R=V+(I<<20&4294967295|I>>>12),I=A+(V^L&(R^V))+N[5]+3593408605&4294967295,A=R+(I<<5&4294967295|I>>>27),I=L+(R^V&(A^R))+N[10]+38016083&4294967295,L=A+(I<<9&4294967295|I>>>23),I=V+(A^R&(L^A))+N[15]+3634488961&4294967295,V=L+(I<<14&4294967295|I>>>18),I=R+(L^A&(V^L))+N[4]+3889429448&4294967295,R=V+(I<<20&4294967295|I>>>12),I=A+(V^L&(R^V))+N[9]+568446438&4294967295,A=R+(I<<5&4294967295|I>>>27),I=L+(R^V&(A^R))+N[14]+3275163606&4294967295,L=A+(I<<9&4294967295|I>>>23),I=V+(A^R&(L^A))+N[3]+4107603335&4294967295,V=L+(I<<14&4294967295|I>>>18),I=R+(L^A&(V^L))+N[8]+1163531501&4294967295,R=V+(I<<20&4294967295|I>>>12),I=A+(V^L&(R^V))+N[13]+2850285829&4294967295,A=R+(I<<5&4294967295|I>>>27),I=L+(R^V&(A^R))+N[2]+4243563512&4294967295,L=A+(I<<9&4294967295|I>>>23),I=V+(A^R&(L^A))+N[7]+1735328473&4294967295,V=L+(I<<14&4294967295|I>>>18),I=R+(L^A&(V^L))+N[12]+2368359562&4294967295,R=V+(I<<20&4294967295|I>>>12),I=A+(R^V^L)+N[5]+4294588738&4294967295,A=R+(I<<4&4294967295|I>>>28),I=L+(A^R^V)+N[8]+2272392833&4294967295,L=A+(I<<11&4294967295|I>>>21),I=V+(L^A^R)+N[11]+1839030562&4294967295,V=L+(I<<16&4294967295|I>>>16),I=R+(V^L^A)+N[14]+4259657740&4294967295,R=V+(I<<23&4294967295|I>>>9),I=A+(R^V^L)+N[1]+2763975236&4294967295,A=R+(I<<4&4294967295|I>>>28),I=L+(A^R^V)+N[4]+1272893353&4294967295,L=A+(I<<11&4294967295|I>>>21),I=V+(L^A^R)+N[7]+4139469664&4294967295,V=L+(I<<16&4294967295|I>>>16),I=R+(V^L^A)+N[10]+3200236656&4294967295,R=V+(I<<23&4294967295|I>>>9),I=A+(R^V^L)+N[13]+681279174&4294967295,A=R+(I<<4&4294967295|I>>>28),I=L+(A^R^V)+N[0]+3936430074&4294967295,L=A+(I<<11&4294967295|I>>>21),I=V+(L^A^R)+N[3]+3572445317&4294967295,V=L+(I<<16&4294967295|I>>>16),I=R+(V^L^A)+N[6]+76029189&4294967295,R=V+(I<<23&4294967295|I>>>9),I=A+(R^V^L)+N[9]+3654602809&4294967295,A=R+(I<<4&4294967295|I>>>28),I=L+(A^R^V)+N[12]+3873151461&4294967295,L=A+(I<<11&4294967295|I>>>21),I=V+(L^A^R)+N[15]+530742520&4294967295,V=L+(I<<16&4294967295|I>>>16),I=R+(V^L^A)+N[2]+3299628645&4294967295,R=V+(I<<23&4294967295|I>>>9),I=A+(V^(R|~L))+N[0]+4096336452&4294967295,A=R+(I<<6&4294967295|I>>>26),I=L+(R^(A|~V))+N[7]+1126891415&4294967295,L=A+(I<<10&4294967295|I>>>22),I=V+(A^(L|~R))+N[14]+2878612391&4294967295,V=L+(I<<15&4294967295|I>>>17),I=R+(L^(V|~A))+N[5]+4237533241&4294967295,R=V+(I<<21&4294967295|I>>>11),I=A+(V^(R|~L))+N[12]+1700485571&4294967295,A=R+(I<<6&4294967295|I>>>26),I=L+(R^(A|~V))+N[3]+2399980690&4294967295,L=A+(I<<10&4294967295|I>>>22),I=V+(A^(L|~R))+N[10]+4293915773&4294967295,V=L+(I<<15&4294967295|I>>>17),I=R+(L^(V|~A))+N[1]+2240044497&4294967295,R=V+(I<<21&4294967295|I>>>11),I=A+(V^(R|~L))+N[8]+1873313359&4294967295,A=R+(I<<6&4294967295|I>>>26),I=L+(R^(A|~V))+N[15]+4264355552&4294967295,L=A+(I<<10&4294967295|I>>>22),I=V+(A^(L|~R))+N[6]+2734768916&4294967295,V=L+(I<<15&4294967295|I>>>17),I=R+(L^(V|~A))+N[13]+1309151649&4294967295,R=V+(I<<21&4294967295|I>>>11),I=A+(V^(R|~L))+N[4]+4149444226&4294967295,A=R+(I<<6&4294967295|I>>>26),I=L+(R^(A|~V))+N[11]+3174756917&4294967295,L=A+(I<<10&4294967295|I>>>22),I=V+(A^(L|~R))+N[2]+718787259&4294967295,V=L+(I<<15&4294967295|I>>>17),I=R+(L^(V|~A))+N[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+V&4294967295,x.g[3]=x.g[3]+L&4294967295}r.prototype.v=function(x,A){A===void 0&&(A=x.length);const R=A-this.blockSize,N=this.C;let V=this.h,L=0;for(;L<A;){if(V==0)for(;L<=R;)o(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<A;)if(N[V++]=x.charCodeAt(L++),V==this.blockSize){o(this,N),V=0;break}}else for(;L<A;)if(N[V++]=x[L++],V==this.blockSize){o(this,N),V=0;break}}this.h=V,this.o+=A},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;A=this.o*8;for(var R=x.length-8;R<x.length;++R)x[R]=A&255,A/=256;for(this.v(x),x=Array(16),A=0,R=0;R<4;++R)for(let N=0;N<32;N+=8)x[A++]=this.g[R]>>>N&255;return x};function u(x,A){var R=m;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=A(x)}function h(x,A){this.h=A;const R=[];let N=!0;for(let V=x.length-1;V>=0;V--){const L=x[V]|0;N&&L==A||(R[V]=L,N=!1)}this.g=R}var m={};function g(x){return-128<=x&&x<128?u(x,function(A){return new h([A|0],A<0?-1:0)}):new h([x|0],x<0?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return b;if(x<0)return G(p(-x));const A=[];let R=1;for(let N=0;x>=R;N++)A[N]=x/R|0,R*=4294967296;return new h(A,0)}function E(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return G(E(x.substring(1),A));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(A,8));let N=b;for(let L=0;L<x.length;L+=8){var V=Math.min(8,x.length-L);const I=parseInt(x.substring(L,L+V),A);V<8?(V=p(Math.pow(A,V)),N=N.j(V).add(p(I))):(N=N.j(R),N=N.add(p(I)))}return N}var b=g(0),C=g(1),P=g(16777216);s=h.prototype,s.m=function(){if($(this))return-G(this).m();let x=0,A=1;for(let R=0;R<this.g.length;R++){const N=this.i(R);x+=(N>=0?N:4294967296+N)*A,A*=4294967296}return x},s.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(Q(this))return"0";if($(this))return"-"+G(this).toString(x);const A=p(Math.pow(x,6));var R=this;let N="";for(;;){const V=Et(R,A).g;R=rt(R,V.j(A));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(x);if(R=V,Q(R))return L+N;for(;L.length<6;)L="0"+L;N=L+N}},s.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function Q(x){if(x.h!=0)return!1;for(let A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function $(x){return x.h==-1}s.l=function(x){return x=rt(this,x),$(x)?-1:Q(x)?0:1};function G(x){const A=x.g.length,R=[];for(let N=0;N<A;N++)R[N]=~x.g[N];return new h(R,~x.h).add(C)}s.abs=function(){return $(this)?G(this):this},s.add=function(x){const A=Math.max(this.g.length,x.g.length),R=[];let N=0;for(let V=0;V<=A;V++){let L=N+(this.i(V)&65535)+(x.i(V)&65535),I=(L>>>16)+(this.i(V)>>>16)+(x.i(V)>>>16);N=I>>>16,L&=65535,I&=65535,R[V]=I<<16|L}return new h(R,R[R.length-1]&-2147483648?-1:0)};function rt(x,A){return x.add(G(A))}s.j=function(x){if(Q(this)||Q(x))return b;if($(this))return $(x)?G(this).j(G(x)):G(G(this).j(x));if($(x))return G(this.j(G(x)));if(this.l(P)<0&&x.l(P)<0)return p(this.m()*x.m());const A=this.g.length+x.g.length,R=[];for(var N=0;N<2*A;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(let V=0;V<x.g.length;V++){const L=this.i(N)>>>16,I=this.i(N)&65535,he=x.i(V)>>>16,ie=x.i(V)&65535;R[2*N+2*V]+=I*ie,et(R,2*N+2*V),R[2*N+2*V+1]+=L*ie,et(R,2*N+2*V+1),R[2*N+2*V+1]+=I*he,et(R,2*N+2*V+1),R[2*N+2*V+2]+=L*he,et(R,2*N+2*V+2)}for(x=0;x<A;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=A;x<2*A;x++)R[x]=0;return new h(R,0)};function et(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function it(x,A){this.g=x,this.h=A}function Et(x,A){if(Q(A))throw Error("division by zero");if(Q(x))return new it(b,b);if($(x))return A=Et(G(x),A),new it(G(A.g),G(A.h));if($(A))return A=Et(x,G(A)),new it(G(A.g),A.h);if(x.g.length>30){if($(x)||$(A))throw Error("slowDivide_ only works with positive integers.");for(var R=C,N=A;N.l(x)<=0;)R=at(R),N=at(N);var V=vt(R,1),L=vt(N,1);for(N=vt(N,2),R=vt(R,2);!Q(N);){var I=L.add(N);I.l(x)<=0&&(V=V.add(R),L=I),N=vt(N,1),R=vt(R,1)}return A=rt(x,V.j(A)),new it(V,A)}for(V=b;x.l(A)>=0;){for(R=Math.max(1,Math.floor(x.m()/A.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),L=p(R),I=L.j(A);$(I)||I.l(x)>0;)R-=N,L=p(R),I=L.j(A);Q(L)&&(L=C),V=V.add(L),x=rt(x,I)}return new it(V,x)}s.B=function(x){return Et(this,x).h},s.and=function(x){const A=Math.max(this.g.length,x.g.length),R=[];for(let N=0;N<A;N++)R[N]=this.i(N)&x.i(N);return new h(R,this.h&x.h)},s.or=function(x){const A=Math.max(this.g.length,x.g.length),R=[];for(let N=0;N<A;N++)R[N]=this.i(N)|x.i(N);return new h(R,this.h|x.h)},s.xor=function(x){const A=Math.max(this.g.length,x.g.length),R=[];for(let N=0;N<A;N++)R[N]=this.i(N)^x.i(N);return new h(R,this.h^x.h)};function at(x){const A=x.g.length+1,R=[];for(let N=0;N<A;N++)R[N]=x.i(N)<<1|x.i(N-1)>>>31;return new h(R,x.h)}function vt(x,A){const R=A>>5;A%=32;const N=x.g.length-R,V=[];for(let L=0;L<N;L++)V[L]=A>0?x.i(L+R)>>>A|x.i(L+R+1)<<32-A:x.i(L+R);return new h(V,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,q_=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=E,jr=h}).apply(typeof L0<"u"?L0:typeof self<"u"?self:typeof window<"u"?window:{});var Jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var H_,Hl,F_,oh,k1,G_,K_,Q_;(function(){var s,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jc=="object"&&Jc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function o(c,y){if(y)t:{var _=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var k=c[S];if(!(k in _))break t;_=_[k]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var _=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&_.push([S,y[S]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,_){return c.call.apply(c.bind,arguments)}function p(c,y,_){return p=g,p.apply(null,arguments)}function E(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function b(c,y){function _(){}_.prototype=y.prototype,c.Z=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(S,k,F){for(var st=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)st[Ct-2]=arguments[Ct];return y.prototype[k].apply(S,st)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const y=c.length;if(y>0){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function Q(c,y){for(let S=1;S<arguments.length;S++){const k=arguments[S];var _=typeof k;if(_=_!="object"?_:k?Array.isArray(k)?"array":_:"null",_=="array"||_=="object"&&typeof k.length=="number"){_=c.length||0;const F=k.length||0;c.length=_+F;for(let st=0;st<F;st++)c[_+st]=k[st]}else c.push(k)}}class ${constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function G(c){h.setTimeout(()=>{throw c},0)}function rt(){var c=x;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class et{constructor(){this.h=this.g=null}add(y,_){const S=it.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var it=new $(()=>new Et,c=>c.reset());class Et{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let at,vt=!1,x=new et,A=()=>{const c=Promise.resolve(void 0);at=()=>{c.then(R)}};function R(){for(var c;c=rt();){try{c.h.call(c.g)}catch(_){G(_)}var y=it;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}vt=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};h.addEventListener("test",_,y),h.removeEventListener("test",_,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function he(c,y){V.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}b(he,V),he.prototype.init=function(c,y){const _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(_=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&he.Z.h.call(this)},he.prototype.h=function(){he.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),Y=0;function lt(c,y,_,S,k){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=k,this.key=++Y,this.da=this.fa=!1}function yt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function kt(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function D(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function tt(c){const y={};for(const _ in c)y[_]=c[_];return y}const ct="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ot(c,y){let _,S;for(let k=1;k<arguments.length;k++){S=arguments[k];for(_ in S)c[_]=S[_];for(let F=0;F<ct.length;F++)_=ct[F],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function pt(c){this.src=c,this.g={},this.h=0}pt.prototype.add=function(c,y,_,S,k){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const st=St(c,y,S,k);return st>-1?(y=c[st],_||(y.fa=!1)):(y=new lt(y,this.src,F,!!S,k),y.fa=_,c.push(y)),y};function Ot(c,y){const _=y.type;if(_ in c.g){var S=c.g[_],k=Array.prototype.indexOf.call(S,y,void 0),F;(F=k>=0)&&Array.prototype.splice.call(S,k,1),F&&(yt(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function St(c,y,_,S){for(let k=0;k<c.length;++k){const F=c[k];if(!F.da&&F.listener==y&&F.capture==!!_&&F.ha==S)return k}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Kt={};function Bn(c,y,_,S,k){if(Array.isArray(y)){for(let F=0;F<y.length;F++)Bn(c,y[F],_,S,k);return null}return _=Du(_),c&&c[ie]?c.J(y,_,m(S)?!!S.capture:!1,k):xo(c,y,_,!1,S,k)}function xo(c,y,_,S,k,F){if(!y)throw Error("Invalid event type");const st=m(k)?!!k.capture:!!k;let Ct=Do(c);if(Ct||(c[Ue]=Ct=new pt(c)),_=Ct.add(y,_,S,st,F),_.proxy)return _;if(S=ia(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)L||(k=st),k===void 0&&(k=!1),c.addEventListener(y.toString(),S,k);else if(c.attachEvent)c.attachEvent(sa(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ia(){function c(_){return y.call(c.src,c.listener,_)}const y=df;return c}function ra(c,y,_,S,k){if(Array.isArray(y))for(var F=0;F<y.length;F++)ra(c,y[F],_,S,k);else S=m(S)?!!S.capture:!!S,_=Du(_),c&&c[ie]?(c=c.i,F=String(y).toString(),F in c.g&&(y=c.g[F],_=St(y,_,S,k),_>-1&&(yt(y[_]),Array.prototype.splice.call(y,_,1),y.length==0&&(delete c.g[F],c.h--)))):c&&(c=Do(c))&&(y=c.g[y.toString()],c=-1,y&&(c=St(y,_,S,k)),(_=c>-1?y[c]:null)&&Zr(_))}function Zr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ie])Ot(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(sa(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=Do(y))?(Ot(_,c),_.h==0&&(_.src=null,y[Ue]=null)):yt(c)}}}function sa(c){return c in Kt?Kt[c]:Kt[c]="on"+c}function df(c,y){if(c.da)c=!0;else{y=new he(y,this);const _=c.listener,S=c.ha||c.src;c.fa&&Zr(c),c=_.call(S,y)}return c}function Do(c){return c=c[Ue],c instanceof pt?c:null}var an="__closure_events_fn_"+(Math.random()*1e9>>>0);function Du(c){return typeof c=="function"?c:(c[an]||(c[an]=function(y){return c.handleEvent(y)}),c[an])}function we(){N.call(this),this.i=new pt(this),this.M=this,this.G=null}b(we,N),we.prototype[ie]=!0,we.prototype.removeEventListener=function(c,y,_,S){ra(this,c,y,_,S)};function Me(c,y){var _,S=c.G;if(S)for(_=[];S;S=S.G)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new V(y,c);else if(y instanceof V)y.target=y.target||c;else{var k=y;y=new V(S,c),ot(y,k)}k=!0;let F,st;if(_)for(st=_.length-1;st>=0;st--)F=y.g=_[st],k=Ei(F,S,!0,y)&&k;if(F=y.g=c,k=Ei(F,S,!0,y)&&k,k=Ei(F,S,!1,y)&&k,_)for(st=0;st<_.length;st++)F=y.g=_[st],k=Ei(F,S,!1,y)&&k}we.prototype.N=function(){if(we.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const _=c.g[y];for(let S=0;S<_.length;S++)yt(_[S]);delete c.g[y],c.h--}}this.G=null},we.prototype.J=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},we.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function Ei(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let k=!0;for(let F=0;F<y.length;++F){const st=y[F];if(st&&!st.da&&st.capture==_){const Ct=st.listener,ne=st.ha||st.src;st.fa&&Ot(c.i,st),k=Ct.call(ne,S)!==!1&&k}}return k&&!S.defaultPrevented}function mf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Vo(c){c.g=mf(()=>{c.g=null,c.i&&(c.i=!1,Vo(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class gf extends N{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Vo(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $r(c){N.call(this),this.h=c,this.g={}}b($r,N);var $i=[];function Ge(c){kt(c.g,function(y,_){this.g.hasOwnProperty(_)&&Zr(y)},c),c.g={}}$r.prototype.N=function(){$r.Z.N.call(this),Ge(this)},$r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tn=h.JSON.stringify,Je=h.JSON.parse,pf=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Vu(){}function Mu(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ji(){V.call(this,"d")}b(Ji,V);function Un(){V.call(this,"c")}b(Un,V);var bn={},Wi=null;function aa(){return Wi=Wi||new we}bn.Ia="serverreachability";function Mo(c){V.call(this,bn.Ia,c)}b(Mo,V);function tr(c){const y=aa();Me(y,new Mo(y))}bn.STAT_EVENT="statevent";function oa(c,y){V.call(this,bn.STAT_EVENT,c),this.stat=y}b(oa,V);function ge(c){const y=aa();Me(y,new oa(y,c))}bn.Ja="timingevent";function Nu(c,y){V.call(this,bn.Ja,c),this.size=y}b(Nu,V);function er(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function nr(){this.g=!0}nr.prototype.ua=function(){this.g=!1};function No(c,y,_,S,k,F){c.info(function(){if(c.g)if(F){var st="",Ct=F.split("&");for(let qt=0;qt<Ct.length;qt++){var ne=Ct[qt].split("=");if(ne.length>1){const _e=ne[0];ne=ne[1];const cn=_e.split("_");st=cn.length>=2&&cn[1]=="type"?st+(_e+"="+ne+"&"):st+(_e+"=redacted&")}}}else st=null;else st=F;return"XMLHTTP REQ ("+S+") [attempt "+k+"]: "+y+`
`+_+`
`+st})}function Oo(c,y,_,S,k,F,st){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+k+"]: "+y+`
`+_+`
`+F+" "+st})}function Ti(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Jn(c,_)+(S?" "+S:"")})}function yf(c,y){c.info(function(){return"TIMEOUT: "+y})}nr.prototype.info=function(){};function Jn(c,y){if(!c.g)return y;if(!y)return null;try{const F=JSON.parse(y);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var _=F[c];if(!(_.length<2)){var S=_[1];if(Array.isArray(S)&&!(S.length<1)){var k=S[0];if(k!="noop"&&k!="stop"&&k!="close")for(let st=1;st<S.length;st++)S[st]=""}}}}return Tn(F)}catch{return y}}var pe={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ke={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bi;function Jr(){}b(Jr,Vu),Jr.prototype.g=function(){return new XMLHttpRequest},bi=new Jr;function Wr(c){return encodeURIComponent(String(c))}function _f(c){var y=1;c=c.split(":");const _=[];for(;y>0&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function kn(c,y,_,S){this.j=c,this.i=y,this.l=_,this.S=S||1,this.V=new $r(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ir}function ir(){this.i=null,this.g="",this.h=!1}var la={},Wn={};function ti(c,y,_){c.M=1,c.A=Ai(oe(y)),c.u=_,c.R=!0,rr(c,null)}function rr(c,y){c.F=Date.now(),ts(c),c.B=oe(c.A);var _=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Bu(_.i,"t",S),c.C=0,_=c.j.L,c.h=new ir,c.g=_a(c.j,_?y:null,!c.u),c.P>0&&(c.O=new gf(p(c.Y,c,c.g),c.P)),y=c.V,_=c.g,S=c.ba;var k="readystatechange";Array.isArray(k)||(k&&($i[0]=k.toString()),k=$i);for(let F=0;F<k.length;F++){const st=Bn(_,k[F],S||y.handleEvent,!1,y.h||y);if(!st)break;y.g[st.key]=st}y=c.J?tt(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),tr(),No(c.i,c.v,c.B,c.l,c.S,c.u)}kn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Ke(c)==3?y.j():this.Y(c)},kn.prototype.Y=function(c){try{if(c==this.g)t:{const Ct=Ke(this.g),ne=this.g.ya(),qt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||hs(this.g)))){this.K||Ct!=4||ne==7||(ne==8||qt<=0?tr(3):tr(2)),ni(this);var y=this.g.ca();this.X=y;var _=sr(this);if(this.o=y==200,Oo(this.i,this.v,this.B,this.l,this.S,Ct,y),this.o){if(this.U&&!this.L){e:{if(this.g){var S,k=this.g;if((S=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var F=S;break e}}F=null}if(c=F)Ti(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ua(this,c);else{this.o=!1,this.m=3,ge(12),ii(this),es(this);break t}}if(this.R){c=!0;let _e;for(;!this.K&&this.C<_.length;)if(_e=Ou(this,_),_e==Wn){Ct==4&&(this.m=4,ge(14),c=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(_e==la){this.m=4,ge(15),Ti(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else Ti(this.i,this.l,_e,null),ua(this,_e);if(ye(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||_.length!=0||this.h.h||(this.m=1,ge(16),c=!1),this.o=this.o&&c,!c)Ti(this.i,this.l,_,"[Invalid Chunked Response]"),ii(this),es(this);else if(_.length>0&&!this.W){this.W=!0;var st=this.j;st.g==this&&st.aa&&!st.P&&(st.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Fo(st),st.P=!0,ge(11))}}else Ti(this.i,this.l,_,null),ua(this,_);Ct==4&&ii(this),this.o&&!this.K&&(Ct==4?Go(this.j,this):(this.o=!1,ts(this)))}else fs(this.g),y==400&&_.indexOf("Unknown SID")>0?(this.m=3,ge(12)):(this.m=0,ge(13)),ii(this),es(this)}}}catch{}finally{}};function sr(c){if(!ye(c))return c.g.la();const y=hs(c.g);if(y==="")return"";let _="";const S=y.length,k=Ke(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return ii(c),es(c),"";c.h.i=new h.TextDecoder}for(let F=0;F<S;F++)c.h.h=!0,_+=c.h.i.decode(y[F],{stream:!(k&&F==S-1)});return y.length=0,c.h.g+=_,c.C=0,c.h.g}function ye(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Ou(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?Wn:(_=Number(y.substring(_,S)),isNaN(_)?la:(S+=1,S+_>y.length?Wn:(y=y.slice(S,S+_),c.C=S+_,y)))}kn.prototype.cancel=function(){this.K=!0,ii(this)};function ts(c){c.T=Date.now()+c.H,ei(c,c.H)}function ei(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=er(p(c.aa,c),y)}function ni(c){c.D&&(h.clearTimeout(c.D),c.D=null)}kn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(yf(this.i,this.B),this.M!=2&&(tr(),ge(17)),ii(this),this.m=2,es(this)):ei(this,this.T-c)};function es(c){c.j.I==0||c.K||Go(c.j,c)}function ii(c){ni(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Ge(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function ua(c,y){try{var _=c.j;if(_.I!=0&&(_.g==c||rs(_.h,c))){if(!c.L&&rs(_.h,c)&&_.I==3){try{var S=_.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var k=S;if(k[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)ya(_),ri(_);else break t;Ho(_),ge(18)}}else _.xa=k[1],0<_.xa-_.K&&k[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=er(p(_.Va,_),6e3));Sn(_.h)<=1&&_.ta&&(_.ta=void 0)}else wi(_,11)}else if((c.L||_.g==c)&&ya(_),!I(y))for(k=_.Ba.g.parse(y),y=0;y<k.length;y++){let qt=k[y];const _e=qt[0];if(!(_e<=_.K))if(_.K=_e,qt=qt[1],_.I==2)if(qt[0]=="c"){_.M=qt[1],_.ba=qt[2];const cn=qt[3];cn!=null&&(_.ka=cn,_.j.info("VER="+_.ka));const si=qt[4];si!=null&&(_.za=si,_.j.info("SVER="+_.za));const qn=qt[5];qn!=null&&typeof qn=="number"&&qn>0&&(S=1.5*qn,_.O=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Hn=c.g;if(Hn){const Fn=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fn){var F=S.h;F.g||Fn.indexOf("spdy")==-1&&Fn.indexOf("quic")==-1&&Fn.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(ca(F,F.h),F.h=null))}if(S.G){const Qo=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Qo&&(S.wa=Qo,Qt(S.J,S.G,Qo))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),S=_;var st=c;if(S.na=Ku(S,S.L?S.ba:null,S.W),st.L){Si(S.h,st);var Ct=st,ne=S.O;ne&&(Ct.H=ne),Ct.D&&(ni(Ct),ts(Ct)),S.g=st}else qu(S);_.i.length>0&&ps(_)}else qt[0]!="stop"&&qt[0]!="close"||wi(_,7);else _.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?wi(_,7):ms(_):qt[0]!="noop"&&_.l&&_.l.qa(qt),_.A=0)}}tr(4)}catch{}}var vf=class{constructor(c,y){this.g=c,this.map=y}};function ns(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function is(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Sn(c){return c.h?1:c.g?c.g.size:0}function rs(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ca(c,y){c.g?c.g.add(y):c.h=y}function Si(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}ns.prototype.cancel=function(){if(this.i=ha(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ha(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.G);return y}return P(c.i)}var fa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ef(c,y){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const S=c[_].indexOf("=");let k,F=null;S>=0?(k=c[_].substring(0,S),F=c[_].substring(S+1)):k=c[_],y(k,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function zn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof zn?(this.l=c.l,ar(this,c.j),this.o=c.o,this.g=c.g,ss(this,c.u),this.h=c.h,or(this,Uu(c.i)),this.m=c.m):c&&(y=String(c).match(fa))?(this.l=!1,ar(this,y[1]||"",!0),this.o=as(y[2]||""),this.g=as(y[3]||"",!0),ss(this,y[4]),this.h=as(y[5]||"",!0),or(this,y[6]||"",!0),this.m=as(y[7]||"")):(this.l=!1,this.i=new An(null,this.l))}zn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ne(y,Lo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ne(y,Lo,!0),"@"),c.push(Wr(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ne(_,_.charAt(0)=="/"?lr:Bo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ne(_,Lu)),c.join("")},zn.prototype.resolve=function(c){const y=oe(this);let _=!!c.j;_?ar(y,c.j):_=!!c.o,_?y.o=c.o:_=!!c.g,_?y.g=c.g:_=c.u!=null;var S=c.h;if(_)ss(y,c.u);else if(_=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var k=y.h.lastIndexOf("/");k!=-1&&(S=y.h.slice(0,k+1)+S)}if(k=S,k==".."||k==".")S="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){S=k.lastIndexOf("/",0)==0,k=k.split("/");const F=[];for(let st=0;st<k.length;){const Ct=k[st++];Ct=="."?S&&st==k.length&&F.push(""):Ct==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),S&&st==k.length&&F.push("")):(F.push(Ct),S=!0)}S=F.join("/")}else S=k}return _?y.h=S:_=c.i.toString()!=="",_?or(y,Uu(c.i)):_=!!c.m,_&&(y.m=c.m),y};function oe(c){return new zn(c)}function ar(c,y,_){c.j=_?as(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ss(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function or(c,y,_){y instanceof An?(c.i=y,zo(c.i,c.l)):(_||(y=Ne(y,Pu)),c.i=new An(y,c.l))}function Qt(c,y,_){c.i.set(y,_)}function Ai(c){return Qt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function as(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ne(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Po),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Po(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Lo=/[#\/\?@]/g,Bo=/[#\?:]/g,lr=/[#\?]/g,Pu=/[#\?@]/g,Lu=/#/g;function An(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Ci(c){c.g||(c.g=new Map,c.h=0,c.i&&Ef(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}s=An.prototype,s.add=function(c,y){Ci(this),this.i=null,c=jn(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Uo(c,y){Ci(c),y=jn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function ko(c,y){return Ci(c),y=jn(c,y),c.g.has(y)}s.forEach=function(c,y){Ci(this),this.g.forEach(function(_,S){_.forEach(function(k){c.call(y,k,S,this)},this)},this)};function da(c,y){Ci(c);let _=[];if(typeof y=="string")ko(c,y)&&(_=_.concat(c.g.get(jn(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)_=_.concat(c[y]);return _}s.set=function(c,y){return Ci(this),this.i=null,c=jn(this,c),ko(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},s.get=function(c,y){return c?(c=da(this,c),c.length>0?String(c[0]):y):y};function Bu(c,y,_){Uo(c,y),_.length>0&&(c.i=null,c.g.set(jn(c,y),P(_)),c.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var _=y[S];const k=Wr(_);_=da(this,_);for(let F=0;F<_.length;F++){let st=k;_[F]!==""&&(st+="="+Wr(_[F])),c.push(st)}}return this.i=c.join("&")};function Uu(c){const y=new An;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function jn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function zo(c,y){y&&!c.j&&(Ci(c),c.i=null,c.g.forEach(function(_,S){const k=S.toLowerCase();S!=k&&(Uo(this,S),Bu(this,k,_))},c)),c.j=y}function jo(c,y){const _=new nr;if(h.Image){const S=new Image;S.onload=E(We,_,"TestLoadImage: loaded",!0,y,S),S.onerror=E(We,_,"TestLoadImage: error",!1,y,S),S.onabort=E(We,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=E(We,_,"TestLoadImage: timeout",!1,y,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function ur(c,y){const _=new nr,S=new AbortController,k=setTimeout(()=>{S.abort(),We(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(F=>{clearTimeout(k),F.ok?We(_,"TestPingServer: ok",!0,y):We(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(k),We(_,"TestPingServer: error",!1,y)})}function We(c,y,_,S,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),S(_)}catch{}}function ku(){this.g=new pf}function os(c){this.i=c.Sb||null,this.h=c.ab||!1}b(os,Vu),os.prototype.g=function(){return new ls(this.i,this.h)};function ls(c,y){we.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ls,we),s=ls.prototype,s.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Ri(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,tn(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;cr(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function cr(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?tn(this):Ri(this),this.readyState==3&&cr(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,tn(this))},s.Na=function(c){this.g&&(this.response=c,tn(this))},s.ga=function(){this.g&&tn(this)};function tn(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Ri(c)}s.setRequestHeader=function(c,y){this.A.append(c,y)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Ri(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ls.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function hr(c){let y="";return kt(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Cn(c,y,_){t:{for(S in _){var S=!1;break t}S=!0}S||(_=hr(_),typeof c=="string"?_!=null&&Wr(_):Qt(c,y,_))}function te(c){we.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(te,we);var ma=/^https?$/i,zu=["POST","PUT"];s=te.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bi.g(),this.g.onreadystatechange=C(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(F){us(this,F);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var k in S)_.set(k,S[k]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const F of S.keys())_.set(F,S.get(F));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),k=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(zu,y,void 0)>=0)||S||k||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,st]of _)this.g.setRequestHeader(F,st);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){us(this,F)}};function us(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,cs(c),Ie(c)}function cs(c){c.A||(c.A=!0,Me(c,"complete"),Me(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Me(this,"complete"),Me(this,"abort"),Ie(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ie(this,!0)),te.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?qo(this):this.Xa())},s.Xa=function(){qo(this)};function qo(c){if(c.h&&typeof u<"u"){if(c.v&&Ke(c)==4)setTimeout(c.Ca.bind(c),0);else if(Me(c,"readystatechange"),Ke(c)==4){c.h=!1;try{const F=c.ca();t:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var S;if(S=F===0){let st=String(c.D).match(fa)[1]||null;!st&&h.self&&h.self.location&&(st=h.self.location.protocol.slice(0,-1)),S=!ma.test(st?st.toLowerCase():"")}_=S}if(_)Me(c,"complete"),Me(c,"success");else{c.o=6;try{var k=Ke(c)>2?c.g.statusText:""}catch{k=""}c.l=k+" ["+c.ca()+"]",cs(c)}}finally{Ie(c)}}}}function Ie(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,y||Me(c,"ready");try{_.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Ke(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Ke(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Je(y)}};function hs(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function fs(c){const y={};c=(c.g&&Ke(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(I(c[S]))continue;var _=_f(c[S]);const k=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=y[k]||[];y[k]=F,F.push(_)}D(y,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ds(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ga(c){this.za=0,this.i=[],this.j=new nr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ds("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ds("baseRetryDelayMs",5e3,c),this.Za=ds("retryDelaySeedMs",1e4,c),this.Ta=ds("forwardChannelMaxRetries",2,c),this.va=ds("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ns(c&&c.concurrentRequestLimit),this.Ba=new ku,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ga.prototype,s.ka=8,s.I=1,s.connect=function(c,y,_,S){ge(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.J=Ku(this,null,this.W),ps(this)};function ms(c){if(gs(c),c.I==3){var y=c.V++,_=oe(c.J);if(Qt(_,"SID",c.M),Qt(_,"RID",y),Qt(_,"TYPE","terminate"),ys(c,_),y=new kn(c,c.j,y),y.M=2,y.A=Ai(oe(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!_&&h.Image&&(new Image().src=y.A,_=!0),_||(y.g=_a(y.j,null),y.g.ea(y.A)),y.F=Date.now(),ts(y)}Gu(c)}function ri(c){c.g&&(Fo(c),c.g.cancel(),c.g=null)}function gs(c){ri(c),c.v&&(h.clearTimeout(c.v),c.v=null),ya(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function ps(c){if(!is(c.h)&&!c.m){c.m=!0;var y=c.Ea;at||A(),vt||(at(),vt=!0),x.add(y,c),c.D=0}}function Tf(c,y){return Sn(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=er(p(c.Ea,c,y),Fu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const k=new kn(this,this.j,c);let F=this.o;if(this.U&&(F?(F=tt(F),ot(F,this.U)):F=this.U),this.u!==null||this.R||(k.J=F,F=null),this.S)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=pa(this,k,y),_=oe(this.J),Qt(_,"RID",c),Qt(_,"CVER",22),this.G&&Qt(_,"X-HTTP-Session-Id",this.G),ys(this,_),F&&(this.R?y="headers="+Wr(hr(F))+"&"+y:this.u&&Cn(_,this.u,F)),ca(this.h,k),this.Ra&&Qt(_,"TYPE","init"),this.S?(Qt(_,"$req",y),Qt(_,"SID","null"),k.U=!0,ti(k,_,null)):ti(k,_,y),this.I=2}}else this.I==3&&(c?ju(this,c):this.i.length==0||is(this.h)||ju(this))};function ju(c,y){var _;y?_=y.l:_=c.V++;const S=oe(c.J);Qt(S,"SID",c.M),Qt(S,"RID",_),Qt(S,"AID",c.K),ys(c,S),c.u&&c.o&&Cn(S,c.u,c.o),_=new kn(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),y&&(c.i=y.G.concat(c.i)),y=pa(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ca(c.h,_),ti(_,S,y)}function ys(c,y){c.H&&kt(c.H,function(_,S){Qt(y,S,_)}),c.l&&kt({},function(_,S){Qt(y,S,_)})}function pa(c,y,_){_=Math.min(c.i.length,_);const S=c.l?p(c.l.Ka,c.l,c):null;t:{var k=c.i;let Ct=-1;for(;;){const ne=["count="+_];Ct==-1?_>0?(Ct=k[0].g,ne.push("ofs="+Ct)):Ct=0:ne.push("ofs="+Ct);let qt=!0;for(let _e=0;_e<_;_e++){var F=k[_e].g;const cn=k[_e].map;if(F-=Ct,F<0)Ct=Math.max(0,k[_e].g-100),qt=!1;else try{F="req"+F+"_"||"";try{var st=cn instanceof Map?cn:Object.entries(cn);for(const[si,qn]of st){let Hn=qn;m(qn)&&(Hn=Tn(qn)),ne.push(F+si+"="+encodeURIComponent(Hn))}}catch(si){throw ne.push(F+"type="+encodeURIComponent("_badmap")),si}}catch{S&&S(cn)}}if(qt){st=ne.join("&");break t}}st=void 0}return c=c.i.splice(0,_),y.G=c,st}function qu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;at||A(),vt||(at(),vt=!0),x.add(y,c),c.A=0}}function Ho(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=er(p(c.Da,c),Fu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Hu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=er(p(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ge(10),ri(this),Hu(this))};function Fo(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Hu(c){c.g=new kn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=oe(c.na);Qt(y,"RID","rpc"),Qt(y,"SID",c.M),Qt(y,"AID",c.K),Qt(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qt(y,"TO",c.ia),Qt(y,"TYPE","xmlhttp"),ys(c,y),c.u&&c.o&&Cn(y,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=Ai(oe(y)),_.u=null,_.R=!0,rr(_,c)}s.Va=function(){this.C!=null&&(this.C=null,ri(this),Ho(this),ge(19))};function ya(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Go(c,y){var _=null;if(c.g==y){ya(c),Fo(c),c.g=null;var S=2}else if(rs(c.h,y))_=y.G,Si(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){_=y.u?y.u.length:0,y=Date.now()-y.F;var k=c.D;S=aa(),Me(S,new Nu(S,_)),ps(c)}else qu(c);else if(k=y.m,k==3||k==0&&y.X>0||!(S==1&&Tf(c,y)||S==2&&Ho(c)))switch(_&&_.length>0&&(y=c.h,y.i=y.i.concat(_)),k){case 1:wi(c,5);break;case 4:wi(c,10);break;case 3:wi(c,6);break;default:wi(c,2)}}}function Fu(c,y){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*y}function wi(c,y){if(c.j.info("Error code "+y),y==2){var _=p(c.bb,c),S=c.Ua;const k=!S;S=new zn(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ar(S,"https"),Ai(S),k?jo(S.toString(),_):ur(S.toString(),_)}else ge(2);c.I=0,c.l&&c.l.pa(y),Gu(c),gs(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ge(2)):(this.j.info("Failed to ping google.com"),ge(1))};function Gu(c){if(c.I=0,c.ja=[],c.l){const y=ha(c.h);(y.length!=0||c.i.length!=0)&&(Q(c.ja,y),Q(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function Ku(c,y,_){var S=_ instanceof zn?oe(_):new zn(_);if(S.g!="")y&&(S.g=y+"."+S.g),ss(S,S.u);else{var k=h.location;S=k.protocol,y=y?y+"."+k.hostname:k.hostname,k=+k.port;const F=new zn(null);S&&ar(F,S),y&&(F.g=y),k&&ss(F,k),_&&(F.h=_),S=F}return _=c.G,y=c.wa,_&&y&&Qt(S,_,y),Qt(S,"VER",c.ka),ys(c,S),S}function _a(c,y,_){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new te(new os({ab:_})):new te(c.ma),y.Fa(c.L),y}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qu(){}s=Qu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function va(){}va.prototype.g=function(c,y){return new en(c,y)};function en(c,y){we.call(this),this.g=new ga(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new fr(this)}b(en,we),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){ms(this.g)},en.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=Tn(c),c=_);y.i.push(new vf(y.Ya++,c)),y.I==3&&ps(y)},en.prototype.N=function(){this.g.l=null,delete this.j,ms(this.g),delete this.g,en.Z.N.call(this)};function Ko(c){Ji.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}b(Ko,Ji);function Yu(){Un.call(this),this.status=1}b(Yu,Un);function fr(c){this.g=c}b(fr,Qu),fr.prototype.ra=function(){Me(this.g,"a")},fr.prototype.qa=function(c){Me(this.g,new Ko(c))},fr.prototype.pa=function(c){Me(this.g,new Yu)},fr.prototype.oa=function(){Me(this.g,"b")},va.prototype.createWebChannel=va.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,Q_=function(){return new va},K_=function(){return aa()},G_=bn,k1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pe.NO_ERROR=0,pe.TIMEOUT=8,pe.HTTP_ERROR=6,oh=pe,ke.COMPLETE="complete",F_=ke,Mu.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",we.prototype.listen=we.prototype.J,Hl=Mu,te.prototype.listenOnce=te.prototype.K,te.prototype.getLastError=te.prototype.Ha,te.prototype.getLastErrorCode=te.prototype.ya,te.prototype.getStatus=te.prototype.ca,te.prototype.getResponseJson=te.prototype.La,te.prototype.getResponseText=te.prototype.la,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Fa,H_=te}).apply(typeof Jc<"u"?Jc:typeof self<"u"?self:typeof window<"u"?window:{});const B0="@firebase/firestore",U0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}He.UNAUTHENTICATED=new He(null),He.GOOGLE_CREDENTIALS=new He("google-credentials-uid"),He.FIRST_PARTY=new He("first-party-uid"),He.MOCK_USER=new He("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=new P_("@firebase/firestore");function eo(){return Qs.logLevel}function nt(s,...t){if(Qs.logLevel<=Ut.DEBUG){const n=t.map(_m);Qs.debug(`Firestore (${Ro}): ${s}`,...n)}}function rn(s,...t){if(Qs.logLevel<=Ut.ERROR){const n=t.map(_m);Qs.error(`Firestore (${Ro}): ${s}`,...n)}}function Ys(s,...t){if(Qs.logLevel<=Ut.WARN){const n=t.map(_m);Qs.warn(`Firestore (${Ro}): ${s}`,...n)}}function _m(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(s,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,Y_(s,r,n)}function Y_(s,t,n){let r=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw rn(r),new Error(r)}function mt(s,t,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||Y_(t,o,r)}function wt(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends Co{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class z9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(He.UNAUTHENTICATED)))}shutdown(){}}class j9{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class q9{constructor(t){this.t=t,this.currentUser=He.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){mt(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let u=new qs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new qs,t.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new qs)}}),0),h()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(mt(typeof r.accessToken=="string",31837,{l:r}),new X_(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return mt(t===null||typeof t=="string",2055,{h:t}),new He(t)}}class H9{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=He.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class F9{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new H9(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(He.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class k0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G9{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,R9(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){mt(this.o===void 0,3512);const r=u=>{u.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,nt("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new k0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(mt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new k0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K9(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=K9(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=t.charAt(o[u]%62))}return r}}function Rt(s,t){return s<t?-1:s>t?1:0}function z1(s,t){const n=Math.min(s.length,t.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=t.charAt(r);if(o!==u)return A1(o)===A1(u)?Rt(o,u):A1(o)?1:-1}return Rt(s.length,t.length)}const Q9=55296,Y9=57343;function A1(s){const t=s.charCodeAt(0);return t>=Q9&&t<=Y9}function ho(s,t,n){return s.length===t.length&&s.every(((r,o)=>n(r,t[o])))}function $_(s){return s+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="__name__";class hi{constructor(t,n,r){n===void 0?n=0:n>t.length&&dt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&dt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return hi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof hi?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let o=0;o<r;o++){const u=hi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Rt(t.length,n.length)}static compareSegments(t,n){const r=hi.isNumericId(t),o=hi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?hi.extractNumericId(t).compare(hi.extractNumericId(n)):z1(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return jr.fromString(t.substring(4,t.length-2))}}class $t extends hi{construct(t,n,r){return new $t(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ht(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new $t(n)}static emptyPath(){return new $t([])}}const X9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Te extends hi{construct(t,n,r){return new Te(t,n,r)}static isValidIdentifier(t){return X9.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Te.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===z0}static keyField(){return new Te([z0])}static fromServerFormat(t){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new ht(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let h=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ht(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ht(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(r+=m,o++):(u(),o++)}if(u(),h)throw new ht(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Te(n)}static emptyPath(){return new Te([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(t){this.path=t}static fromPath(t){return new ut($t.fromString(t))}static fromName(t){return new ut($t.fromString(t).popFirst(5))}static empty(){return new ut($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&$t.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return $t.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ut(new $t(t.slice()))}}function Z9(s,t,n,r){if(t===!0&&r===!0)throw new ht(W.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function j0(s){if(ut.isDocumentKey(s))throw new ht(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function $9(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function J9(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":dt(12329,{type:typeof s})}function Xl(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ht(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=J9(s);throw new ht(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(s,t){const n={typeString:s};return t&&(n.value=t),n}function bu(s,t){if(!$9(s))throw new ht(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const h=s[r];if(o&&typeof h!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new ht(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=-62135596800,H0=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(t){return ae.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*H0);return new ae(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ht(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ht(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<q0)throw new ht(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/H0}_compareTo(t){return this.seconds===t.seconds?Rt(this.nanoseconds,t.nanoseconds):Rt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(bu(t,ae._jsonSchema))return new ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-q0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:Ce("string",ae._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new ae(0,0))}static max(){return new _t(new ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=-1;class Ah{constructor(t,n,r,o){this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=o}}function j1(s){return s.fields.find((t=>t.kind===2))}function Ps(s){return s.fields.filter((t=>t.kind!==2))}Ah.UNKNOWN_ID=-1;class lh{constructor(t,n){this.fieldPath=t,this.kind=n}}class lu{constructor(t,n){this.sequenceNumber=t,this.offset=n}static empty(){return new lu(0,En.min())}}function W9(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=_t.fromTimestamp(r===1e9?new ae(n+1,0):new ae(n,r));return new En(o,ut.empty(),t)}function J_(s){return new En(s.readTime,s.key,ou)}class En{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new En(_t.min(),ut.empty(),ou)}static max(){return new En(_t.max(),ut.empty(),ou)}}function vm(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=ut.comparator(s.documentKey,t.documentKey),n!==0?n:Rt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ea(s){if(s.code!==W.FAILED_PRECONDITION||s.message!==W_)throw s;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new B(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):B.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):B.reject(n)}static resolve(t){return new B(((n,r)=>{n(t)}))}static reject(t){return new B(((n,r)=>{r(t)}))}static waitFor(t){return new B(((n,r)=>{let o=0,u=0,h=!1;t.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(g=>r(g)))})),h=!0,u===o&&n()}))}static or(t){let n=B.resolve(!1);for(const r of t)n=n.next((o=>o?B.resolve(o):r()));return n}static forEach(t,n){const r=[];return t.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(t,n){return new B(((r,o)=>{const u=t.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(t[p]).next((E=>{h[p]=E,++m,m===u&&r(h)}),(E=>o(E)))}}))}static doWhile(t,n){return new B(((r,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):r()};u()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n="SimpleDb";class Kh{static open(t,n,r,o){try{return new Kh(n,t.transaction(o,r))}catch(u){throw new Zl(n,u)}}constructor(t,n){this.action=t,this.transaction=n,this.aborted=!1,this.S=new qs,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Zl(t,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const o=Em(r.target.error);this.S.reject(new Zl(t,o))}}get D(){return this.S.promise}abort(t){t&&this.S.reject(t),this.aborted||(nt(_n,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const n=this.transaction.objectStore(t);return new e3(n)}}class qr{static delete(t){return nt(_n,"Removing database:",t),Bs(w_().indexedDB.deleteDatabase(t)).toPromise()}static v(){if(!M_())return!1;if(qr.F())return!0;const t=Eh(),n=qr.M(t),r=0<n&&n<10,o=ev(t),u=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||u)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(t,n){return t.store(n)}static M(t){const n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(t,n,r){this.name=t,this.version=n,this.N=r,this.B=null,qr.M(Eh())===12.2&&rn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(t){return this.db||(nt(_n,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const o=indexedDB.open(this.name,this.version);o.onsuccess=u=>{const h=u.target.result;n(h)},o.onblocked=()=>{r(new Zl(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const h=u.target.error;h.name==="VersionError"?r(new ht(W.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):h.name==="InvalidStateError"?r(new ht(W.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h)):r(new Zl(t,h))},o.onupgradeneeded=u=>{nt(_n,'Database "'+this.name+'" requires upgrade from version:',u.oldVersion);const h=u.target.result;this.N.k(h,o.transaction,u.oldVersion,this.version).next((()=>{nt(_n,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(t){this.q=t,this.db&&(this.db.onversionchange=n=>t(n))}async runTransaction(t,n,r,o){const u=n==="readonly";let h=0;for(;;){++h;try{this.db=await this.L(t);const m=Kh.open(this.db,t,u?"readonly":"readwrite",r),g=o(m).next((p=>(m.C(),p))).catch((p=>(m.abort(p),B.reject(p)))).toPromise();return g.catch((()=>{})),await m.D,g}catch(m){const g=m,p=g.name!=="FirebaseError"&&h<3;if(nt(_n,"Transaction failed with error:",g.message,"Retrying:",p),this.close(),!p)return Promise.reject(g)}}}close(){this.db&&this.db.close(),this.db=void 0}}function ev(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class t3{constructor(t){this.U=t,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(t){this.U=t}done(){this.K=!0}j(t){this.W=t}delete(){return Bs(this.U.delete())}}class Zl extends ht{constructor(t,n){super(W.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Xr(s){return s.name==="IndexedDbTransactionError"}class e3{constructor(t){this.store=t}put(t,n){let r;return n!==void 0?(nt(_n,"PUT",this.store.name,t,n),r=this.store.put(n,t)):(nt(_n,"PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Bs(r)}add(t){return nt(_n,"ADD",this.store.name,t,t),Bs(this.store.add(t))}get(t){return Bs(this.store.get(t)).next((n=>(n===void 0&&(n=null),nt(_n,"GET",this.store.name,t,n),n)))}delete(t){return nt(_n,"DELETE",this.store.name,t),Bs(this.store.delete(t))}count(){return nt(_n,"COUNT",this.store.name),Bs(this.store.count())}J(t,n){const r=this.options(t,n),o=r.index?this.store.index(r.index):this.store;if(typeof o.getAll=="function"){const u=o.getAll(r.range);return new B(((h,m)=>{u.onerror=g=>{m(g.target.error)},u.onsuccess=g=>{h(g.target.result)}}))}{const u=this.cursor(r),h=[];return this.H(u,((m,g)=>{h.push(g)})).next((()=>h))}}Y(t,n){const r=this.store.getAll(t,n===null?void 0:n);return new B(((o,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{o(h.target.result)}}))}Z(t,n){nt(_n,"DELETE ALL",this.store.name);const r=this.options(t,n);r.X=!1;const o=this.cursor(r);return this.H(o,((u,h,m)=>m.delete()))}ee(t,n){let r;n?r=t:(r={},n=t);const o=this.cursor(r);return this.H(o,n)}te(t){const n=this.cursor({});return new B(((r,o)=>{n.onerror=u=>{const h=Em(u.target.error);o(h)},n.onsuccess=u=>{const h=u.target.result;h?t(h.primaryKey,h.value).next((m=>{m?h.continue():r()})):r()}}))}H(t,n){const r=[];return new B(((o,u)=>{t.onerror=h=>{u(h.target.error)},t.onsuccess=h=>{const m=h.target.result;if(!m)return void o();const g=new t3(m),p=n(m.primaryKey,m.value,g);if(p instanceof B){const E=p.catch((b=>(g.done(),B.reject(b))));r.push(E)}g.isDone?o():g.G===null?m.continue():m.continue(g.G)}})).next((()=>B.waitFor(r)))}options(t,n){let r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}}cursor(t){let n="next";if(t.reverse&&(n="prev"),t.index){const r=this.store.index(t.index);return t.X?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)}}function Bs(s){return new B(((t,n)=>{s.onsuccess=r=>{const o=r.target.result;t(o)},s.onerror=r=>{const o=Em(r.target.error);n(o)}}))}let F0=!1;function Em(s){const t=qr.M(Eh());if(t>=12.2&&t<13){const n="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(n)>=0){const r=new ht("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return F0||(F0=!0,setTimeout((()=>{throw r}),0)),r}}return s}const $l="IndexBackfiller";class n3{constructor(t,n){this.asyncQueue=t,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(t){nt($l,`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(async()=>{this.task=null;try{const n=await this.ne.ie();nt($l,`Documents written: ${n}`)}catch(n){Xr(n)?nt($l,"Ignoring IndexedDB error during index backfill: ",n):await ea(n)}await this.re(6e4)}))}}class i3{constructor(t,n){this.localStore=t,this.persistence=n}async ie(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,t)))}se(t,n){const r=new Set;let o=n,u=!0;return B.doWhile((()=>u===!0&&o>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next((h=>{if(h!==null&&!r.has(h))return nt($l,`Processing collection: ${h}`),this.oe(t,h,o).next((m=>{o-=m,r.add(h)}));u=!1})))).next((()=>n-o))}oe(t,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,n).next((o=>this.localStore.localDocuments.getNextDocuments(t,n,o,r).next((u=>{const h=u.changes;return this.localStore.indexManager.updateIndexEntries(t,h).next((()=>this._e(o,u))).next((m=>(nt($l,`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(t,n,m)))).next((()=>h.size))}))))}_e(t,n){let r=t;return n.changes.forEach(((o,u)=>{const h=J_(u);vm(h,r)>0&&(r=h)})),new En(r.readTime,r.documentKey,Math.max(n.batchId,t.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}On.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=-1;function Qh(s){return s==null}function Ch(s){return s===0&&1/s==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh="";function $e(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=G0(t)),t=r3(s.get(n),t);return G0(t)}function r3(s,t){let n=t;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case Rh:n+="";break;default:n+=u}}return n}function G0(s){return s+Rh+""}function di(s){const t=s.length;if(mt(t>=2,64408,{path:s}),t===2)return mt(s.charAt(0)===Rh&&s.charAt(1)==="",56145,{path:s}),$t.emptyPath();const n=t-2,r=[];let o="";for(let u=0;u<t;){const h=s.indexOf(Rh,u);switch((h<0||h>n)&&dt(50515,{path:s}),s.charAt(h+1)){case"":const m=s.substring(u,h);let g;o.length===0?g=m:(o+=m,g=o,o=""),r.push(g);break;case"":o+=s.substring(u,h),o+="\0";break;case"":o+=s.substring(u,h+1);break;default:dt(61167,{path:s})}u=h+2}return new $t(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="remoteDocuments",Su="owner",Xa="owner",uu="mutationQueues",s3="userId",Yn="mutations",K0="batchId",js="userMutationsIndex",Q0=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(s,t){return[s,$e(t)]}function nv(s,t,n){return[s,$e(t),n]}const a3={},fo="documentMutations",wh="remoteDocumentsV14",o3=["prefixPath","collectionGroup","readTime","documentId"],ch="documentKeyIndex",l3=["prefixPath","collectionGroup","documentId"],iv="collectionGroupIndex",u3=["collectionGroup","readTime","prefixPath","documentId"],cu="remoteDocumentGlobal",q1="remoteDocumentGlobalKey",mo="targets",rv="queryTargetsIndex",c3=["canonicalId","targetId"],go="targetDocuments",h3=["targetId","path"],Tm="documentTargetsIndex",f3=["path","targetId"],Ih="targetGlobalKey",Fs="targetGlobal",hu="collectionParents",d3=["collectionId","parent"],po="clientMetadata",m3="clientId",Yh="bundles",g3="bundleId",Xh="namedQueries",p3="name",bm="indexConfiguration",y3="indexId",H1="collectionGroupIndex",_3="collectionGroup",Jl="indexState",v3=["indexId","uid"],sv="sequenceNumberIndex",E3=["uid","sequenceNumber"],Wl="indexEntries",T3=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],av="documentKeyIndex",b3=["indexId","uid","orderedDocumentKey"],Zh="documentOverlays",S3=["userId","collectionPath","documentId"],F1="collectionPathOverlayIndex",A3=["userId","collectionPath","largestBatchId"],ov="collectionGroupOverlayIndex",C3=["userId","collectionGroup","largestBatchId"],Sm="globals",R3="name",lv=[uu,Yn,fo,Ls,mo,Su,Fs,go,po,cu,hu,Yh,Xh],w3=[...lv,Zh],uv=[uu,Yn,fo,wh,mo,Su,Fs,go,po,cu,hu,Yh,Xh,Zh],cv=uv,Am=[...cv,bm,Jl,Wl],I3=Am,hv=[...Am,Sm],x3=hv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1 extends tv{constructor(t,n){super(),this.le=t,this.currentSequenceNumber=n}}function Ve(s,t){const n=wt(s);return qr.O(n.le,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function Au(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function D3(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,n){this.comparator=t,this.root=n||Fe.EMPTY}insert(t,n){return new ce(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Wc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Wc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Wc(this.root,t,this.comparator,!0)}}class Wc{constructor(t,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,n,r,o,u){this.key=t,this.value=n,this.color=r??Fe.RED,this.left=o??Fe.EMPTY,this.right=u??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,o,u){return new Fe(t??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Fe.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw dt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(t,n,r,o,u){return this}insert(t,n,r){return new Fe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new X0(this.data.getIterator())}getIteratorFrom(t){return new X0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof Gt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Gt(this.comparator);return n.data=t,n}}class X0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Za(s){return s.hasNext()?s.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(t){this.fields=t,t.sort(Te.comparator)}static empty(){return new qi([])}unionWith(t){let n=new Gt(Te.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new qi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ho(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new fv("Invalid base64 string: "+u):u}})(t);return new Re(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(t);return new Re(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Rt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Re.EMPTY_BYTE_STRING=new Re("");const V3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qi(s){if(mt(!!s,39018),typeof s=="string"){let t=0;const n=V3.exec(s);if(mt(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:se(s.seconds),nanos:se(s.nanos)}}function se(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Yi(s){return typeof s=="string"?Re.fromBase64String(s):Re.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="server_timestamp",mv="__type__",gv="__previous_value__",pv="__local_write_time__";function Cm(s){return(s?.mapValue?.fields||{})[mv]?.stringValue===dv}function $h(s){const t=s.mapValue.fields[gv];return Cm(t)?$h(t):t}function fu(s){const t=Qi(s.mapValue.fields[pv].timestampValue);return new ae(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(t,n,r,o,u,h,m,g,p,E){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=E}}const xh="(default)";class Xs{constructor(t,n){this.projectId=t,this.database=n||xh}static empty(){return new Xs("","")}get isDefaultDatabase(){return this.database===xh}isEqual(t){return t instanceof Xs&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="__type__",_v="__max__",Ur={mapValue:{fields:{__type__:{stringValue:_v}}}},vv="__vector__",du="value",hh={nullValue:"NULL_VALUE"};function Gr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Cm(s)?4:Ev(s)?9007199254740991:Jh(s)?10:11:dt(28295,{value:s})}function pi(s,t){if(s===t)return!0;const n=Gr(s);if(n!==Gr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return fu(s).isEqual(fu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Qi(o.timestampValue),m=Qi(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(o,u){return Yi(o.bytesValue).isEqual(Yi(u.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(o,u){return se(o.geoPointValue.latitude)===se(u.geoPointValue.latitude)&&se(o.geoPointValue.longitude)===se(u.geoPointValue.longitude)})(s,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return se(o.integerValue)===se(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=se(o.doubleValue),m=se(u.doubleValue);return h===m?Ch(h)===Ch(m):isNaN(h)&&isNaN(m)}return!1})(s,t);case 9:return ho(s.arrayValue.values||[],t.arrayValue.values||[],pi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Y0(h)!==Y0(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!pi(h[g],m[g])))return!1;return!0})(s,t);default:return dt(52216,{left:s})}}function mu(s,t){return(s.values||[]).find((n=>pi(n,t)))!==void 0}function Kr(s,t){if(s===t)return 0;const n=Gr(s),r=Gr(t);if(n!==r)return Rt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Rt(s.booleanValue,t.booleanValue);case 2:return(function(u,h){const m=se(u.integerValue||u.doubleValue),g=se(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(s,t);case 3:return Z0(s.timestampValue,t.timestampValue);case 4:return Z0(fu(s),fu(t));case 5:return z1(s.stringValue,t.stringValue);case 6:return(function(u,h){const m=Yi(u),g=Yi(h);return m.compareTo(g)})(s.bytesValue,t.bytesValue);case 7:return(function(u,h){const m=u.split("/"),g=h.split("/");for(let p=0;p<m.length&&p<g.length;p++){const E=Rt(m[p],g[p]);if(E!==0)return E}return Rt(m.length,g.length)})(s.referenceValue,t.referenceValue);case 8:return(function(u,h){const m=Rt(se(u.latitude),se(h.latitude));return m!==0?m:Rt(se(u.longitude),se(h.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return $0(s.arrayValue,t.arrayValue);case 10:return(function(u,h){const m=u.fields||{},g=h.fields||{},p=m[du]?.arrayValue,E=g[du]?.arrayValue,b=Rt(p?.values?.length||0,E?.values?.length||0);return b!==0?b:$0(p,E)})(s.mapValue,t.mapValue);case 11:return(function(u,h){if(u===Ur.mapValue&&h===Ur.mapValue)return 0;if(u===Ur.mapValue)return 1;if(h===Ur.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=h.fields||{},E=Object.keys(p);g.sort(),E.sort();for(let b=0;b<g.length&&b<E.length;++b){const C=z1(g[b],E[b]);if(C!==0)return C;const P=Kr(m[g[b]],p[E[b]]);if(P!==0)return P}return Rt(g.length,E.length)})(s.mapValue,t.mapValue);default:throw dt(23264,{he:n})}}function Z0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Rt(s,t);const n=Qi(s),r=Qi(t),o=Rt(n.seconds,r.seconds);return o!==0?o:Rt(n.nanos,r.nanos)}function $0(s,t){const n=s.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=Kr(n[o],r[o]);if(u)return u}return Rt(n.length,r.length)}function yo(s){return K1(s)}function K1(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=Qi(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return Yi(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ut.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=K1(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${K1(n.fields[h])}`;return o+"}"})(s.mapValue):dt(61005,{value:s})}function fh(s){switch(Gr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=$h(s);return t?16+fh(t):16;case 5:return 2*s.stringValue.length;case 6:return Yi(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+fh(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Au(r.fields,((u,h)=>{o+=u.length+fh(h)})),o})(s.mapValue);default:throw dt(13486,{value:s})}}function Rm(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function Q1(s){return!!s&&"integerValue"in s}function gu(s){return!!s&&"arrayValue"in s}function J0(s){return!!s&&"nullValue"in s}function W0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function C1(s){return!!s&&"mapValue"in s}function Jh(s){return(s?.mapValue?.fields||{})[yv]?.stringValue===vv}function tu(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Au(s.mapValue.fields,((n,r)=>t.mapValue.fields[n]=tu(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=tu(s.arrayValue.values[n]);return t}return{...s}}function Ev(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===_v}const Tv={mapValue:{fields:{[yv]:{stringValue:vv},[du]:{arrayValue:{}}}}};function N3(s){return"nullValue"in s?hh:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?Rm(Xs.empty(),ut.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?Jh(s)?Tv:{mapValue:{}}:dt(35942,{value:s})}function O3(s){return"nullValue"in s?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?Rm(Xs.empty(),ut.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?Tv:"mapValue"in s?Jh(s)?{mapValue:{}}:Ur:dt(61959,{value:s})}function t2(s,t){const n=Kr(s.value,t.value);return n!==0?n:s.inclusive&&!t.inclusive?-1:!s.inclusive&&t.inclusive?1:0}function e2(s,t){const n=Kr(s.value,t.value);return n!==0?n:s.inclusive&&!t.inclusive?1:!s.inclusive&&t.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this.value=t}static empty(){return new Nn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!C1(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=tu(n)}setAll(t){let n=Te.emptyPath(),r={},o=[];t.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=m.popLast()}h?r[m.lastSegment()]=tu(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(t){const n=this.field(t.popLast());C1(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return pi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=n.mapValue.fields[t.get(r)];C1(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,r){Au(n,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new Nn(tu(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(t,n,r,o,u,h,m){this.key=t,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(t){return new me(t,0,_t.min(),_t.min(),_t.min(),Nn.empty(),0)}static newFoundDocument(t,n,r,o){return new me(t,1,n,_t.min(),r,o,0)}static newNoDocument(t,n){return new me(t,2,n,_t.min(),_t.min(),Nn.empty(),0)}static newUnknownDocument(t,n){return new me(t,3,n,_t.min(),_t.min(),Nn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof me&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new me(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(t,n){this.position=t,this.inclusive=n}}function n2(s,t,n){let r=0;for(let o=0;o<s.position.length;o++){const u=t[o],h=s.position[o];if(u.field.isKeyField()?r=ut.comparator(ut.fromName(h.referenceValue),n.key):r=Kr(h,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function i2(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!pi(s.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(t,n="asc"){this.field=t,this.dir=n}}function P3(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{}class Pt extends bv{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new L3(t,n,r):n==="array-contains"?new k3(t,r):n==="in"?new Iv(t,r):n==="not-in"?new z3(t,r):n==="array-contains-any"?new j3(t,r):new Pt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new B3(t,r):new U3(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Kr(n,this.value)):n!==null&&Gr(this.value)===Gr(n)&&this.matchesComparison(Kr(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jt extends bv{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Jt(t,n)}matches(t){return vo(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vo(s){return s.op==="and"}function Y1(s){return s.op==="or"}function wm(s){return Sv(s)&&vo(s)}function Sv(s){for(const t of s.filters)if(t instanceof Jt)return!1;return!0}function X1(s){if(s instanceof Pt)return s.field.canonicalString()+s.op.toString()+yo(s.value);if(wm(s))return s.filters.map((t=>X1(t))).join(",");{const t=s.filters.map((n=>X1(n))).join(",");return`${s.op}(${t})`}}function Av(s,t){return s instanceof Pt?(function(r,o){return o instanceof Pt&&r.op===o.op&&r.field.isEqual(o.field)&&pi(r.value,o.value)})(s,t):s instanceof Jt?(function(r,o){return o instanceof Jt&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,h,m)=>u&&Av(h,o.filters[m])),!0):!1})(s,t):void dt(19439)}function Cv(s,t){const n=s.filters.concat(t);return Jt.create(n,s.op)}function Rv(s){return s instanceof Pt?(function(n){return`${n.field.canonicalString()} ${n.op} ${yo(n.value)}`})(s):s instanceof Jt?(function(n){return n.op.toString()+" {"+n.getFilters().map(Rv).join(" ,")+"}"})(s):"Filter"}class L3 extends Pt{constructor(t,n,r){super(t,n,r),this.key=ut.fromName(r.referenceValue)}matches(t){const n=ut.comparator(t.key,this.key);return this.matchesComparison(n)}}class B3 extends Pt{constructor(t,n){super(t,"in",n),this.keys=wv("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class U3 extends Pt{constructor(t,n){super(t,"not-in",n),this.keys=wv("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function wv(s,t){return(t.arrayValue?.values||[]).map((n=>ut.fromName(n.referenceValue)))}class k3 extends Pt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return gu(n)&&mu(n.arrayValue,this.value)}}class Iv extends Pt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&mu(this.value.arrayValue,n)}}class z3 extends Pt{constructor(t,n){super(t,"not-in",n)}matches(t){if(mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mu(this.value.arrayValue,n)}}class j3 extends Pt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!gu(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>mu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(t,n=null,r=[],o=[],u=null,h=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function Z1(s,t=null,n=[],r=[],o=null,u=null,h=null){return new q3(s,t,n,r,o,u,h)}function Zs(s){const t=wt(s);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>X1(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Qh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>yo(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>yo(r))).join(",")),t.Te=n}return t.Te}function Cu(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!P3(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!Av(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!i2(s.startAt,t.startAt)&&i2(s.endAt,t.endAt)}function Vh(s){return ut.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function Mh(s,t){return s.filters.filter((n=>n instanceof Pt&&n.field.isEqual(t)))}function r2(s,t,n){let r=hh,o=!0;for(const u of Mh(s,t)){let h=hh,m=!0;switch(u.op){case"<":case"<=":h=N3(u.value);break;case"==":case"in":case">=":h=u.value;break;case">":h=u.value,m=!1;break;case"!=":case"not-in":h=hh}t2({value:r,inclusive:o},{value:h,inclusive:m})<0&&(r=h,o=m)}if(n!==null){for(let u=0;u<s.orderBy.length;++u)if(s.orderBy[u].field.isEqual(t)){const h=n.position[u];t2({value:r,inclusive:o},{value:h,inclusive:n.inclusive})<0&&(r=h,o=n.inclusive);break}}return{value:r,inclusive:o}}function s2(s,t,n){let r=Ur,o=!0;for(const u of Mh(s,t)){let h=Ur,m=!0;switch(u.op){case">=":case">":h=O3(u.value),m=!1;break;case"==":case"in":case"<=":h=u.value;break;case"<":h=u.value,m=!1;break;case"!=":case"not-in":h=Ur}e2({value:r,inclusive:o},{value:h,inclusive:m})>0&&(r=h,o=m)}if(n!==null){for(let u=0;u<s.orderBy.length;++u)if(s.orderBy[u].field.isEqual(t)){const h=n.position[u];e2({value:r,inclusive:o},{value:h,inclusive:n.inclusive})>0&&(r=h,o=n.inclusive);break}}return{value:r,inclusive:o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(t,n=null,r=[],o=[],u=null,h="F",m=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function H3(s,t,n,r,o,u,h,m){return new Wh(s,t,n,r,o,u,h,m)}function tf(s){return new Wh(s)}function a2(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function F3(s){return s.collectionGroup!==null}function eu(s){const t=wt(s);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Gt(Te.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Dh(u,r))})),n.has(Te.keyField().canonicalString())||t.Ie.push(new Dh(Te.keyField(),r))}return t.Ie}function Ln(s){const t=wt(s);return t.Ee||(t.Ee=G3(t,eu(s))),t.Ee}function G3(s,t){if(s.limitType==="F")return Z1(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Dh(o.field,u)}));const n=s.endAt?new _o(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new _o(s.startAt.position,s.startAt.inclusive):null;return Z1(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function $1(s,t,n){return new Wh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function ef(s,t){return Cu(Ln(s),Ln(t))&&s.limitType===t.limitType}function xv(s){return`${Zs(Ln(s))}|lt:${s.limitType}`}function no(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>Rv(o))).join(", ")}]`),Qh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>yo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>yo(o))).join(",")),`Target(${r})`})(Ln(s))}; limitType=${s.limitType})`}function Ru(s,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):ut.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,t)&&(function(r,o){for(const u of eu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,t)&&(function(r,o){return!(r.startAt&&!(function(h,m,g){const p=n2(h,m,g);return h.inclusive?p<=0:p<0})(r.startAt,eu(r),o)||r.endAt&&!(function(h,m,g){const p=n2(h,m,g);return h.inclusive?p>=0:p>0})(r.endAt,eu(r),o))})(s,t)}function K3(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Dv(s){return(t,n)=>{let r=!1;for(const o of eu(s)){const u=Q3(o,t,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function Q3(s,t,n){const r=s.field.isKeyField()?ut.comparator(t.key,n.key):(function(u,h,m){const g=h.data.field(u),p=m.data.field(u);return g!==null&&p!==null?Kr(g,p):dt(42886)})(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return dt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Au(this.inner,((n,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return D3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3=new ce(ut.comparator);function Pn(){return Y3}const Vv=new ce(ut.comparator);function Fl(...s){let t=Vv;for(const n of s)t=t.insert(n.key,n);return t}function X3(s){let t=Vv;return s.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function mi(){return nu()}function Mv(){return nu()}function nu(){return new Zi((s=>s.toString()),((s,t)=>s.isEqual(t)))}const Z3=new ce(ut.comparator),$3=new Gt(ut.comparator);function Nt(...s){let t=$3;for(const n of s)t=t.add(n);return t}const J3=new Gt(Rt);function W3(){return J3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ch(t)?"-0":t}}function eb(s){return{integerValue:""+s}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(){this._=void 0}}function nb(s,t,n){return s instanceof pu?(function(o,u){const h={fields:{[mv]:{stringValue:dv},[pv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Cm(u)&&(u=$h(u)),u&&(h.fields[gv]=u),{mapValue:h}})(n,t):s instanceof Eo?Nv(s,t):s instanceof To?Ov(s,t):(function(o,u){const h=rb(o,u),m=o2(h)+o2(o.Ae);return Q1(h)&&Q1(o.Ae)?eb(m):tb(o.serializer,m)})(s,t)}function ib(s,t,n){return s instanceof Eo?Nv(s,t):s instanceof To?Ov(s,t):n}function rb(s,t){return s instanceof yu?(function(r){return Q1(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class pu extends nf{}class Eo extends nf{constructor(t){super(),this.elements=t}}function Nv(s,t){const n=Pv(t);for(const r of s.elements)n.some((o=>pi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class To extends nf{constructor(t){super(),this.elements=t}}function Ov(s,t){let n=Pv(t);for(const r of s.elements)n=n.filter((o=>!pi(o,r)));return{arrayValue:{values:n}}}class yu extends nf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function o2(s){return se(s.integerValue||s.doubleValue)}function Pv(s){return gu(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(t,n){this.field=t,this.transform=n}}function ab(s,t){return s.field.isEqual(t.field)&&(function(r,o){return r instanceof Eo&&o instanceof Eo||r instanceof To&&o instanceof To?ho(r.elements,o.elements,pi):r instanceof yu&&o instanceof yu?pi(r.Ae,o.Ae):r instanceof pu&&o instanceof pu})(s.transform,t.transform)}class ob{constructor(t,n){this.version=t,this.transformResults=n}}class Xn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Xn}static exists(t){return new Xn(void 0,t)}static updateTime(t){return new Xn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function dh(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class rf{}function Lv(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Im(s.key,Xn.none()):new wu(s.key,s.data,Xn.none());{const n=s.data,r=Nn.empty();let o=new Gt(Te.comparator);for(let u of t.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?r.delete(u):r.set(u,h),o=o.add(u)}return new wo(s.key,r,new qi(o.toArray()),Xn.none())}}function lb(s,t,n){s instanceof wu?(function(o,u,h){const m=o.value.clone(),g=u2(o.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(s,t,n):s instanceof wo?(function(o,u,h){if(!dh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=u2(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(Bv(o)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(s,t,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,t,n)}function iu(s,t,n,r){return s instanceof wu?(function(u,h,m,g){if(!dh(u.precondition,h))return m;const p=u.value.clone(),E=c2(u.fieldTransforms,g,h);return p.setAll(E),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null})(s,t,n,r):s instanceof wo?(function(u,h,m,g){if(!dh(u.precondition,h))return m;const p=c2(u.fieldTransforms,g,h),E=h.data;return E.setAll(Bv(u)),E.setAll(p),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(s,t,n,r):(function(u,h,m){return dh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(s,t,n)}function l2(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ho(r,o,((u,h)=>ab(u,h)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class wu extends rf{constructor(t,n,r,o=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class wo extends rf{constructor(t,n,r,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Bv(s){const t=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}})),t}function u2(s,t,n){const r=new Map;mt(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let o=0;o<n.length;o++){const u=s[o],h=u.transform,m=t.data.field(u.field);r.set(u.field,ib(h,m,n[o]))}return r}function c2(s,t,n){const r=new Map;for(const o of s){const u=o.transform,h=n.data.field(o.field);r.set(o.field,nb(u,h,t))}return r}class Im extends rf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Uv extends rf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&lb(u,t,r[o])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=iu(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=iu(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Mv();return this.mutations.forEach((o=>{const u=t.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const g=Lv(h,m);g!==null&&r.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(_t.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Nt())}isEqual(t){return this.batchId===t.batchId&&ho(this.mutations,t.mutations,((n,r)=>l2(n,r)))&&ho(this.baseMutations,t.baseMutations,((n,r)=>l2(n,r)))}}class Dm{constructor(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(t,n,r){mt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return Z3})();const u=t.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,r[h].version);return new Dm(t,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,Bt;function cb(s){switch(s){case W.OK:return dt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return dt(15467,{code:s})}}function kv(s){if(s===void 0)return rn("GRPC error has no .code"),W.UNKNOWN;switch(s){case Ae.OK:return W.OK;case Ae.CANCELLED:return W.CANCELLED;case Ae.UNKNOWN:return W.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return W.INTERNAL;case Ae.UNAVAILABLE:return W.UNAVAILABLE;case Ae.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ae.NOT_FOUND:return W.NOT_FOUND;case Ae.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ae.ABORTED:return W.ABORTED;case Ae.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ae.DATA_LOSS:return W.DATA_LOSS;default:return dt(39323,{code:s})}}(Bt=Ae||(Ae={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=new jr([4294967295,4294967295],0);function h2(s){const t=hb().encode(s),n=new q_;return n.update(t),new Uint8Array(n.digest())}function f2(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new jr([n,r],0),new jr([o,u],0)]}class Mm{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Gl(`Invalid padding: ${n}`);if(r<0)throw new Gl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Gl(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Gl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=jr.fromNumber(this.ge)}ye(t,n,r){let o=t.add(n.multiply(jr.fromNumber(r)));return o.compare(fb)===1&&(o=new jr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=h2(t),[r,o]=f2(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,o,u);if(!this.we(h))return!1}return!0}static create(t,n,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new Mm(u,o,n);return r.forEach((m=>h.insert(m))),h}insert(t){if(this.ge===0)return;const n=h2(t),[r,o]=f2(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,o,u);this.Se(h)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(t,n,r,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const o=new Map;return o.set(t,Iu.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new sf(_t.min(),o,new ce(Rt),Pn(),Nt())}}class Iu{constructor(t,n,r,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Iu(r,n,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t,n,r,o){this.be=t,this.removedTargetIds=n,this.key=r,this.De=o}}class zv{constructor(t,n){this.targetId=t,this.Ce=n}}class jv{constructor(t,n,r=Re.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=o}}class d2{constructor(){this.ve=0,this.Fe=m2(),this.Me=Re.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Nt(),n=Nt(),r=Nt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:dt(38017,{changeType:u})}})),new Iu(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=m2()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,mt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class db{constructor(t){this.Ge=t,this.ze=new Map,this.je=Pn(),this.Je=th(),this.He=th(),this.Ye=new ce(Rt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:dt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,r=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Vh(u))if(r===0){const h=new ut(u.path);this.et(n,h,me.newNoDocument(h,_t.min()))}else mt(r===1,20013,{expectedCount:r});else{const h=this._t(n);if(h!==r){const m=this.ut(t),g=m?this.ct(m,t,h):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=Yi(r).toUint8Array()}catch(g){if(g instanceof fv)return Ys("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Mm(h,o,u)}catch(g){return Ys(g instanceof Gl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Vh(m.target)){const g=new ut(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,me.newNoDocument(g,t))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let r=Nt();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(t)));const o=new sf(t,n,this.Ye,this.je,r);return this.je=Pn(),this.Je=th(),this.He=th(),this.Ye=new ce(Rt),o}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new d2,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Gt(Rt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Gt(Rt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||nt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new d2),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function th(){return new ce(ut.comparator)}function m2(){return new ce(ut.comparator)}const mb={asc:"ASCENDING",desc:"DESCENDING"},gb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pb={and:"AND",or:"OR"};class yb{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function J1(s,t){return s.useProto3Json||Qh(t)?t:{value:t}}function Nh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _b(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function vb(s,t){return Nh(s,t.toTimestamp())}function sn(s){return mt(!!s,49232),_t.fromTimestamp((function(n){const r=Qi(n);return new ae(r.seconds,r.nanos)})(s))}function qv(s,t){return W1(s,t).canonicalString()}function W1(s,t){const n=(function(o){return new $t(["projects",o.projectId,"databases",o.database])})(s).child("documents");return t===void 0?n:n.child(t)}function Hv(s){const t=$t.fromString(s);return mt(Jv(t),10190,{key:t.toString()}),t}function Oh(s,t){return qv(s.databaseId,t.path)}function Gs(s,t){const n=Hv(t);if(n.get(1)!==s.databaseId.projectId)throw new ht(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new ht(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ut(Kv(n))}function Fv(s,t){return qv(s.databaseId,t)}function Gv(s){const t=Hv(s);return t.length===4?$t.emptyPath():Kv(t)}function tm(s){return new $t(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Kv(s){return mt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function g2(s,t,n){return{name:Oh(s,t),fields:n.value.mapValue.fields}}function Eb(s,t,n){const r=Gs(s,t.name),o=sn(t.updateTime),u=t.createTime?sn(t.createTime):_t.min(),h=new Nn({mapValue:{fields:t.fields}}),m=me.newFoundDocument(r,o,u,h);return n&&m.setHasCommittedMutations(),n?m.setHasCommittedMutations():m}function Tb(s,t){let n;if("targetChange"in t){t.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:dt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(p,E){return p.useProto3Json?(mt(E===void 0||typeof E=="string",58123),Re.fromBase64String(E||"")):(mt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Re.fromUint8Array(E||new Uint8Array))})(s,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&(function(p){const E=p.code===void 0?W.UNKNOWN:kv(p.code);return new ht(E,p.message||"")})(h);n=new jv(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Gs(s,r.document.name),u=sn(r.document.updateTime),h=r.document.createTime?sn(r.document.createTime):_t.min(),m=new Nn({mapValue:{fields:r.document.fields}}),g=me.newFoundDocument(o,u,h,m),p=r.targetIds||[],E=r.removedTargetIds||[];n=new mh(p,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Gs(s,r.document),u=r.readTime?sn(r.readTime):_t.min(),h=me.newNoDocument(o,u),m=r.removedTargetIds||[];n=new mh([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Gs(s,r.document),u=r.removedTargetIds||[];n=new mh([],u,o,null)}else{if(!("filter"in t))return dt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,h=new ub(o,u),m=r.targetId;n=new zv(m,h)}}return n}function Ph(s,t){let n;if(t instanceof wu)n={update:g2(s,t.key,t.value)};else if(t instanceof Im)n={delete:Oh(s,t.key)};else if(t instanceof wo)n={update:g2(s,t.key,t.data),updateMask:wb(t.fieldMask)};else{if(!(t instanceof Uv))return dt(16599,{Vt:t.type});n={verify:Oh(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(u,h){const m=h.transform;if(m instanceof pu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Eo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof To)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof yu)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw dt(20930,{transform:h.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:vb(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:dt(27497)})(s,t.precondition)),n}function em(s,t){const n=t.currentDocument?(function(u){return u.updateTime!==void 0?Xn.updateTime(sn(u.updateTime)):u.exists!==void 0?Xn.exists(u.exists):Xn.none()})(t.currentDocument):Xn.none(),r=t.updateTransforms?t.updateTransforms.map((o=>(function(h,m){let g=null;if("setToServerValue"in m)mt(m.setToServerValue==="REQUEST_TIME",16630,{proto:m}),g=new pu;else if("appendMissingElements"in m){const E=m.appendMissingElements.values||[];g=new Eo(E)}else if("removeAllFromArray"in m){const E=m.removeAllFromArray.values||[];g=new To(E)}else"increment"in m?g=new yu(h,m.increment):dt(16584,{proto:m});const p=Te.fromServerFormat(m.fieldPath);return new sb(p,g)})(s,o))):[];if(t.update){t.update.name;const o=Gs(s,t.update.name),u=new Nn({mapValue:{fields:t.update.fields}});if(t.updateMask){const h=(function(g){const p=g.fieldPaths||[];return new qi(p.map((E=>Te.fromServerFormat(E))))})(t.updateMask);return new wo(o,u,h,n,r)}return new wu(o,u,n,r)}if(t.delete){const o=Gs(s,t.delete);return new Im(o,n)}if(t.verify){const o=Gs(s,t.verify);return new Uv(o,n)}return dt(1463,{proto:t})}function bb(s,t){return s&&s.length>0?(mt(t!==void 0,14353),s.map((n=>(function(o,u){let h=o.updateTime?sn(o.updateTime):sn(u);return h.isEqual(_t.min())&&(h=sn(u)),new ob(h,o.transformResults||[])})(n,t)))):[]}function Qv(s,t){return{documents:[Fv(s,t.path)]}}function Yv(s,t){const n={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Fv(s,o);const u=(function(p){if(p.length!==0)return $v(Jt.create(p,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const h=(function(p){if(p.length!==0)return p.map((E=>(function(C){return{field:io(C.field),direction:Ab(C.dir)}})(E)))})(t.orderBy);h&&(n.structuredQuery.orderBy=h);const m=J1(s,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:n,parent:o}}function Xv(s){let t=Gv(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){mt(r===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(b){const C=Zv(b);return C instanceof Jt&&wm(C)?C.getFilters():[C]})(n.where));let h=[];n.orderBy&&(h=(function(b){return b.map((C=>(function(Q){return new Dh(ro(Q.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(C)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let C;return C=typeof b=="object"?b.value:b,Qh(C)?null:C})(n.limit));let g=null;n.startAt&&(g=(function(b){const C=!!b.before,P=b.values||[];return new _o(P,C)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const C=!b.before,P=b.values||[];return new _o(P,C)})(n.endAt)),H3(t,o,h,u,m,"F",g,p)}function Sb(s,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Zv(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ro(n.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ro(n.unaryFilter.field);return Pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ro(n.unaryFilter.field);return Pt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ro(n.unaryFilter.field);return Pt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Pt.create(ro(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Jt.create(n.compositeFilter.filters.map((r=>Zv(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return dt(1026)}})(n.compositeFilter.op))})(s):dt(30097,{filter:s})}function Ab(s){return mb[s]}function Cb(s){return gb[s]}function Rb(s){return pb[s]}function io(s){return{fieldPath:s.canonicalString()}}function ro(s){return Te.fromServerFormat(s.fieldPath)}function $v(s){return s instanceof Pt?(function(n){if(n.op==="=="){if(W0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(J0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(W0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(J0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:Cb(n.op),value:n.value}}})(s):s instanceof Jt?(function(n){const r=n.getFilters().map((o=>$v(o)));return r.length===1?r[0]:{compositeFilter:{op:Rb(n.op),filters:r}}})(s):dt(54877,{filter:s})}function wb(s){const t=[];return s.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function Jv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(t,n,r,o,u=_t.min(),h=_t.min(),m=Re.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new Hi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(t){this.yt=t}}function Ib(s,t){let n;if(t.document)n=Eb(s.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const r=ut.fromSegments(t.noDocument.path),o=Js(t.noDocument.readTime);n=me.newNoDocument(r,o),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return dt(56709);{const r=ut.fromSegments(t.unknownDocument.path),o=Js(t.unknownDocument.version);n=me.newUnknownDocument(r,o)}}return t.readTime&&n.setReadTime((function(o){const u=new ae(o[0],o[1]);return _t.fromTimestamp(u)})(t.readTime)),n}function p2(s,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Lh(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=(function(u,h){return{name:Oh(u,h.key),fields:h.data.value.mapValue.fields,updateTime:Nh(u,h.version.toTimestamp()),createTime:Nh(u,h.createTime.toTimestamp())}})(s.yt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:$s(t.version)};else{if(!t.isUnknownDocument())return dt(57904,{document:t});r.unknownDocument={path:n.path.toArray(),version:$s(t.version)}}return r}function Lh(s){const t=s.toTimestamp();return[t.seconds,t.nanoseconds]}function $s(s){const t=s.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Js(s){const t=new ae(s.seconds,s.nanoseconds);return _t.fromTimestamp(t)}function Us(s,t){const n=(t.baseMutations||[]).map((u=>em(s.yt,u)));for(let u=0;u<t.mutations.length-1;++u){const h=t.mutations[u];if(u+1<t.mutations.length&&t.mutations[u+1].transform!==void 0){const m=t.mutations[u+1];h.updateTransforms=m.transform.fieldTransforms,t.mutations.splice(u+1,1),++u}}const r=t.mutations.map((u=>em(s.yt,u))),o=ae.fromMillis(t.localWriteTimeMs);return new xm(t.batchId,o,n,r)}function Kl(s){const t=Js(s.readTime),n=s.lastLimboFreeSnapshotVersion!==void 0?Js(s.lastLimboFreeSnapshotVersion):_t.min();let r;return r=(function(u){return u.documents!==void 0})(s.query)?(function(u){const h=u.documents.length;return mt(h===1,1966,{count:h}),Ln(tf(Gv(u.documents[0])))})(s.query):(function(u){return Ln(Xv(u))})(s.query),new Hi(r,s.targetId,"TargetPurposeListen",s.lastListenSequenceNumber,t,n,Re.fromBase64String(s.resumeToken))}function tE(s,t){const n=$s(t.snapshotVersion),r=$s(t.lastLimboFreeSnapshotVersion);let o;o=Vh(t.target)?Qv(s.yt,t.target):Yv(s.yt,t.target).ft;const u=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Zs(t.target),readTime:n,resumeToken:u,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function eE(s){const t=Xv({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?$1(t,t.limit,"L"):t}function R1(s,t){return new Vm(t.largestBatchId,em(s.yt,t.overlayMutation))}function y2(s,t){const n=t.path.lastSegment();return[s,$e(t.path.popLast()),n]}function _2(s,t,n,r){return{indexId:s,uid:t,sequenceNumber:n,readTime:$s(r.readTime),documentKey:$e(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{getBundleMetadata(t,n){return v2(t).get(n).next((r=>{if(r)return(function(u){return{id:u.bundleId,createTime:Js(u.createTime),version:u.version}})(r)}))}saveBundleMetadata(t,n){return v2(t).put((function(o){return{bundleId:o.id,createTime:$s(sn(o.createTime)),version:o.version}})(n))}getNamedQuery(t,n){return E2(t).get(n).next((r=>{if(r)return(function(u){return{name:u.name,query:eE(u.bundledQuery),readTime:Js(u.readTime)}})(r)}))}saveNamedQuery(t,n){return E2(t).put((function(o){return{name:o.name,readTime:$s(sn(o.readTime)),bundledQuery:o.bundledQuery}})(n))}}function v2(s){return Ve(s,Yh)}function E2(s){return Ve(s,Xh)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(t,n){this.serializer=t,this.userId=n}static wt(t,n){const r=n.uid||"";return new af(t,r)}getOverlay(t,n){return Ul(t).get(y2(this.userId,n)).next((r=>r?R1(this.serializer,r):null))}getOverlays(t,n){const r=mi();return B.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,n,r){const o=[];return r.forEach(((u,h)=>{const m=new Vm(n,h);o.push(this.St(t,m))})),B.waitFor(o)}removeOverlaysForBatchId(t,n,r){const o=new Set;n.forEach((h=>o.add($e(h.getCollectionPath()))));const u=[];return o.forEach((h=>{const m=IDBKeyRange.bound([this.userId,h,r],[this.userId,h,r+1],!1,!0);u.push(Ul(t).Z(F1,m))})),B.waitFor(u)}getOverlaysForCollection(t,n,r){const o=mi(),u=$e(n),h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Ul(t).J(F1,h).next((m=>{for(const g of m){const p=R1(this.serializer,g);o.set(p.getKey(),p)}return o}))}getOverlaysForCollectionGroup(t,n,r,o){const u=mi();let h;const m=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Ul(t).ee({index:ov,range:m},((g,p,E)=>{const b=R1(this.serializer,p);u.size()<o||b.largestBatchId===h?(u.set(b.getKey(),b),h=b.largestBatchId):E.done()})).next((()=>u))}St(t,n){return Ul(t).put((function(o,u,h){const[m,g,p]=y2(u,h.mutation.key);return{userId:u,collectionPath:g,documentId:p,collectionGroup:h.mutation.key.getCollectionGroup(),largestBatchId:h.largestBatchId,overlayMutation:Ph(o.yt,h.mutation)}})(this.serializer,this.userId,n))}}function Ul(s){return Ve(s,Zh)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{bt(t){return Ve(t,Sm)}getSessionToken(t){return this.bt(t).get("sessionToken").next((n=>{const r=n?.value;return r?Re.fromUint8Array(r):Re.EMPTY_BYTE_STRING}))}setSessionToken(t,n){return this.bt(t).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(){}Dt(t,n){this.Ct(t,n),n.vt()}Ct(t,n){if("nullValue"in t)this.Ft(n,5);else if("booleanValue"in t)this.Ft(n,10),n.Mt(t.booleanValue?1:0);else if("integerValue"in t)this.Ft(n,15),n.Mt(se(t.integerValue));else if("doubleValue"in t){const r=se(t.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Ch(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in t){let r=t.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Qi(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in t)this.Ot(t.stringValue,n),this.Nt(n);else if("bytesValue"in t)this.Ft(n,30),n.Bt(Yi(t.bytesValue)),this.Nt(n);else if("referenceValue"in t)this.Lt(t.referenceValue,n);else if("geoPointValue"in t){const r=t.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in t?Ev(t)?this.Ft(n,Number.MAX_SAFE_INTEGER):Jh(t)?this.kt(t.mapValue,n):(this.qt(t.mapValue,n),this.Nt(n)):"arrayValue"in t?(this.Qt(t.arrayValue,n),this.Nt(n)):dt(19022,{$t:t})}Ot(t,n){this.Ft(n,25),this.Ut(t,n)}Ut(t,n){n.xt(t)}qt(t,n){const r=t.fields||{};this.Ft(n,55);for(const o of Object.keys(r))this.Ot(o,n),this.Ct(r[o],n)}kt(t,n){const r=t.fields||{};this.Ft(n,53);const o=du,u=r[o].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(se(u)),this.Ot(o,n),this.Ct(r[o],n)}Qt(t,n){const r=t.values||[];this.Ft(n,50);for(const o of r)this.Ct(o,n)}Lt(t,n){this.Ft(n,37),ut.fromName(t).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(t,n){t.Mt(n)}Nt(t){t.Mt(2)}}ks.Kt=new ks;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=255;function Vb(s){if(s===0)return 8;let t=0;return s>>4||(t+=4,s<<=4),s>>6||(t+=2,s<<=2),s>>7||(t+=1),t}function T2(s){const t=64-(function(r){let o=0;for(let u=0;u<8;++u){const h=Vb(255&r[u]);if(o+=h,h!==8)break}return o})(s);return Math.ceil(t/8)}class Mb{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(t){const n=t[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(t){const n=t[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(t){for(const n of t){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const o=n.codePointAt(0);this.Gt(240|o>>>18),this.Gt(128|63&o>>>12),this.Gt(128|63&o>>>6),this.Gt(128|63&o)}}this.zt()}Zt(t){for(const n of t){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const o=n.codePointAt(0);this.Jt(240|o>>>18),this.Jt(128|63&o>>>12),this.Jt(128|63&o>>>6),this.Jt(128|63&o)}}this.Ht()}Xt(t){const n=this.en(t),r=T2(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let o=n.length-r;o<n.length;++o)this.buffer[this.position++]=255&n[o]}nn(t){const n=this.en(t),r=T2(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let o=n.length-r;o<n.length;++o)this.buffer[this.position++]=~(255&n[o])}rn(){this.sn($a),this.sn(255)}_n(){this.an($a),this.an(255)}reset(){this.position=0}seed(t){this.tn(t.length),this.buffer.set(t,this.position),this.position+=t.length}un(){return this.buffer.slice(0,this.position)}en(t){const n=(function(u){const h=new DataView(new ArrayBuffer(8));return h.setFloat64(0,u,!1),new Uint8Array(h.buffer)})(t),r=!!(128&n[0]);n[0]^=r?255:128;for(let o=1;o<n.length;++o)n[o]^=r?255:0;return n}Gt(t){const n=255&t;n===0?(this.sn(0),this.sn(255)):n===$a?(this.sn($a),this.sn(0)):this.sn(n)}Jt(t){const n=255&t;n===0?(this.an(0),this.an(255)):n===$a?(this.an($a),this.an(0)):this.an(t)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(t){this.tn(1),this.buffer[this.position++]=t}an(t){this.tn(1),this.buffer[this.position++]=~t}tn(t){const n=t+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class Nb{constructor(t){this.cn=t}Bt(t){this.cn.Wt(t)}xt(t){this.cn.Yt(t)}Mt(t){this.cn.Xt(t)}vt(){this.cn.rn()}}class Ob{constructor(t){this.cn=t}Bt(t){this.cn.jt(t)}xt(t){this.cn.Zt(t)}Mt(t){this.cn.nn(t)}vt(){this.cn._n()}}class kl{constructor(){this.cn=new Mb,this.ln=new Nb(this.cn),this.hn=new Ob(this.cn)}seed(t){this.cn.seed(t)}Pn(t){return t===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(t,n,r,o){this.Tn=t,this.In=n,this.En=r,this.dn=o}An(){const t=this.dn.length,n=t===0||this.dn[t-1]===255?t+1:t,r=new Uint8Array(n);return r.set(this.dn,0),n!==t?r.set([0],this.dn.length):++r[r.length-1],new zs(this.Tn,this.In,this.En,r)}Rn(t,n,r){return{indexId:this.Tn,uid:t,arrayValue:gh(this.En),directionalValue:gh(this.dn),orderedDocumentKey:gh(n),documentKey:r.path.toArray()}}Vn(t,n,r){const o=this.Rn(t,n,r);return[o.indexId,o.uid,o.arrayValue,o.directionalValue,o.orderedDocumentKey,o.documentKey]}}function Or(s,t){let n=s.Tn-t.Tn;return n!==0?n:(n=b2(s.En,t.En),n!==0?n:(n=b2(s.dn,t.dn),n!==0?n:ut.comparator(s.In,t.In)))}function b2(s,t){for(let n=0;n<s.length&&n<t.length;++n){const r=s[n]-t[n];if(r!==0)return r}return s.length-t.length}function gh(s){return V_()?(function(n){let r="";for(let o=0;o<n.length;o++)r+=String.fromCharCode(n[o]);return r})(s):s}function S2(s){return typeof s!="string"?s:(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(s)}class A2{constructor(t){this.mn=new Gt(((n,r)=>Te.comparator(n.field,r.field))),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.fn=t.orderBy,this.gn=[];for(const n of t.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(t){if(mt(t.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=j1(t);if(n!==void 0&&!this.wn(n))return!1;const r=Ps(t);let o=new Set,u=0,h=0;for(;u<r.length&&this.wn(r[u]);++u)o=o.add(r[u].fieldPath.canonicalString());if(u===r.length)return!0;if(this.mn.size>0){const m=this.mn.getIterator().getNext();if(!o.has(m.field.canonicalString())){const g=r[u];if(!this.Sn(m,g)||!this.bn(this.fn[h++],g))return!1}++u}for(;u<r.length;++u){const m=r[u];if(h>=this.fn.length||!this.bn(this.fn[h++],m))return!1}return!0}Dn(){if(this.pn)return null;let t=new Gt(Te.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new lh(r.field,2));else{if(t.has(r.field))continue;t=t.add(r.field),n.push(new lh(r.field,0))}for(const r of this.fn)r.field.isKeyField()||t.has(r.field)||(t=t.add(r.field),n.push(new lh(r.field,r.dir==="asc"?0:1)));return new Ah(Ah.UNKNOWN_ID,this.collectionId,n,lu.empty())}wn(t){for(const n of this.gn)if(this.Sn(n,t))return!0;return!1}Sn(t,n){if(t===void 0||!t.field.isEqual(n.fieldPath))return!1;const r=t.op==="array-contains"||t.op==="array-contains-any";return n.kind===2===r}bn(t,n){return!!t.field.isEqual(n.fieldPath)&&(n.kind===0&&t.dir==="asc"||n.kind===1&&t.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(s){if(mt(s instanceof Pt||s instanceof Jt,20012),s instanceof Pt){if(s instanceof Iv){const n=s.value.arrayValue?.values?.map((r=>Pt.create(s.field,"==",r)))||[];return Jt.create(n,"or")}return s}const t=s.filters.map((n=>nE(n)));return Jt.create(t,s.op)}function Pb(s){if(s.getFilters().length===0)return[];const t=rm(nE(s));return mt(iE(t),7391),nm(t)||im(t)?[t]:t.getFilters()}function nm(s){return s instanceof Pt}function im(s){return s instanceof Jt&&wm(s)}function iE(s){return nm(s)||im(s)||(function(n){if(n instanceof Jt&&Y1(n)){for(const r of n.getFilters())if(!nm(r)&&!im(r))return!1;return!0}return!1})(s)}function rm(s){if(mt(s instanceof Pt||s instanceof Jt,34018),s instanceof Pt)return s;if(s.filters.length===1)return rm(s.filters[0]);const t=s.filters.map((r=>rm(r)));let n=Jt.create(t,s.op);return n=Bh(n),iE(n)?n:(mt(n instanceof Jt,64498),mt(vo(n),40251),mt(n.filters.length>1,57927),n.filters.reduce(((r,o)=>Nm(r,o))))}function Nm(s,t){let n;return mt(s instanceof Pt||s instanceof Jt,38388),mt(t instanceof Pt||t instanceof Jt,25473),n=s instanceof Pt?t instanceof Pt?(function(o,u){return Jt.create([o,u],"and")})(s,t):C2(s,t):t instanceof Pt?C2(t,s):(function(o,u){if(mt(o.filters.length>0&&u.filters.length>0,48005),vo(o)&&vo(u))return Cv(o,u.getFilters());const h=Y1(o)?o:u,m=Y1(o)?u:o,g=h.filters.map((p=>Nm(p,m)));return Jt.create(g,"or")})(s,t),Bh(n)}function C2(s,t){if(vo(t))return Cv(t,s.getFilters());{const n=t.filters.map((r=>Nm(s,r)));return Jt.create(n,"or")}}function Bh(s){if(mt(s instanceof Pt||s instanceof Jt,11850),s instanceof Pt)return s;const t=s.getFilters();if(t.length===1)return Bh(t[0]);if(Sv(s))return s;const n=t.map((o=>Bh(o))),r=[];return n.forEach((o=>{o instanceof Pt?r.push(o):o instanceof Jt&&(o.op===s.op?r.push(...o.filters):r.push(o))})),r.length===1?r[0]:Jt.create(r,s.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(){this.Cn=new Om}addToCollectionParentIndex(t,n){return this.Cn.add(n),B.resolve()}getCollectionParents(t,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return B.resolve()}deleteFieldIndex(t,n){return B.resolve()}deleteAllFieldIndexes(t){return B.resolve()}createTargetIndexes(t,n){return B.resolve()}getDocumentsMatchingTarget(t,n){return B.resolve(null)}getIndexType(t,n){return B.resolve(0)}getFieldIndexes(t,n){return B.resolve([])}getNextCollectionGroupToUpdate(t){return B.resolve(null)}getMinOffset(t,n){return B.resolve(En.min())}getMinOffsetFromCollectionGroup(t,n){return B.resolve(En.min())}updateCollectionGroup(t,n,r){return B.resolve()}updateIndexEntries(t,n){return B.resolve()}}class Om{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new Gt($t.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Gt($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="IndexedDbIndexManager",eh=new Uint8Array(0);class Bb{constructor(t,n){this.databaseId=n,this.vn=new Om,this.Fn=new Zi((r=>Zs(r)),((r,o)=>Cu(r,o))),this.uid=t.uid||""}addToCollectionParentIndex(t,n){if(!this.vn.has(n)){const r=n.lastSegment(),o=n.popLast();t.addOnCommittedListener((()=>{this.vn.add(n)}));const u={collectionId:r,parent:$e(o)};return w2(t).put(u)}return B.resolve()}getCollectionParents(t,n){const r=[],o=IDBKeyRange.bound([n,""],[$_(n),""],!1,!0);return w2(t).J(o).next((u=>{for(const h of u){if(h.collectionId!==n)break;r.push(di(h.parent))}return r}))}addFieldIndex(t,n){const r=zl(t),o=(function(m){return{indexId:m.indexId,collectionGroup:m.collectionGroup,fields:m.fields.map((g=>[g.fieldPath.canonicalString(),g.kind]))}})(n);delete o.indexId;const u=r.add(o);if(n.indexState){const h=Wa(t);return u.next((m=>{h.put(_2(m,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return u.next()}deleteFieldIndex(t,n){const r=zl(t),o=Wa(t),u=Ja(t);return r.delete(n.indexId).next((()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>u.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(t){const n=zl(t),r=Ja(t),o=Wa(t);return n.Z().next((()=>r.Z())).next((()=>o.Z()))}createTargetIndexes(t,n){return B.forEach(this.Mn(n),(r=>this.getIndexType(t,r).next((o=>{if(o===0||o===1){const u=new A2(r).Dn();if(u!=null)return this.addFieldIndex(t,u)}}))))}getDocumentsMatchingTarget(t,n){const r=Ja(t);let o=!0;const u=new Map;return B.forEach(this.Mn(n),(h=>this.xn(t,h).next((m=>{o&&(o=!!m),u.set(h,m)})))).next((()=>{if(o){let h=Nt();const m=[];return B.forEach(u,((g,p)=>{nt(R2,`Using index ${(function(it){return`id=${it.indexId}|cg=${it.collectionGroup}|f=${it.fields.map((Et=>`${Et.fieldPath}:${Et.kind}`)).join(",")}`})(g)} to execute ${Zs(n)}`);const E=(function(it,Et){const at=j1(Et);if(at===void 0)return null;for(const vt of Mh(it,at.fieldPath))switch(vt.op){case"array-contains-any":return vt.value.arrayValue.values||[];case"array-contains":return[vt.value]}return null})(p,g),b=(function(it,Et){const at=new Map;for(const vt of Ps(Et))for(const x of Mh(it,vt.fieldPath))switch(x.op){case"==":case"in":at.set(vt.fieldPath.canonicalString(),x.value);break;case"not-in":case"!=":return at.set(vt.fieldPath.canonicalString(),x.value),Array.from(at.values())}return null})(p,g),C=(function(it,Et){const at=[];let vt=!0;for(const x of Ps(Et)){const A=x.kind===0?r2(it,x.fieldPath,it.startAt):s2(it,x.fieldPath,it.startAt);at.push(A.value),vt&&(vt=A.inclusive)}return new _o(at,vt)})(p,g),P=(function(it,Et){const at=[];let vt=!0;for(const x of Ps(Et)){const A=x.kind===0?s2(it,x.fieldPath,it.endAt):r2(it,x.fieldPath,it.endAt);at.push(A.value),vt&&(vt=A.inclusive)}return new _o(at,vt)})(p,g),Q=this.On(g,p,C),$=this.On(g,p,P),G=this.Nn(g,p,b),rt=this.Bn(g.indexId,E,Q,C.inclusive,$,P.inclusive,G);return B.forEach(rt,(et=>r.Y(et,n.limit).next((it=>{it.forEach((Et=>{const at=ut.fromSegments(Et.documentKey);h.has(at)||(h=h.add(at),m.push(at))}))}))))})).next((()=>m))}return B.resolve(null)}))}Mn(t){let n=this.Fn.get(t);return n||(t.filters.length===0?n=[t]:n=Pb(Jt.create(t.filters,"and")).map((r=>Z1(t.path,t.collectionGroup,t.orderBy,r.getFilters(),t.limit,t.startAt,t.endAt))),this.Fn.set(t,n),n)}Bn(t,n,r,o,u,h,m){const g=(n!=null?n.length:1)*Math.max(r.length,u.length),p=g/(n!=null?n.length:1),E=[];for(let b=0;b<g;++b){const C=n?this.Ln(n[b/p]):eh,P=this.kn(t,C,r[b%p],o),Q=this.qn(t,C,u[b%p],h),$=m.map((G=>this.kn(t,C,G,!0)));E.push(...this.createRange(P,Q,$))}return E}kn(t,n,r,o){const u=new zs(t,ut.empty(),n,r);return o?u:u.An()}qn(t,n,r,o){const u=new zs(t,ut.empty(),n,r);return o?u.An():u}xn(t,n){const r=new A2(n),o=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(t,o).next((u=>{let h=null;for(const m of u)r.yn(m)&&(!h||m.fields.length>h.fields.length)&&(h=m);return h}))}getIndexType(t,n){let r=2;const o=this.Mn(n);return B.forEach(o,(u=>this.xn(t,u).next((h=>{h?r!==0&&h.fields.length<(function(g){let p=new Gt(Te.comparator),E=!1;for(const b of g.filters)for(const C of b.getFlattenedFilters())C.field.isKeyField()||(C.op==="array-contains"||C.op==="array-contains-any"?E=!0:p=p.add(C.field));for(const b of g.orderBy)b.field.isKeyField()||(p=p.add(b.field));return p.size+(E?1:0)})(u)&&(r=1):r=0})))).next((()=>(function(h){return h.limit!==null})(n)&&o.length>1&&r===2?1:r))}Qn(t,n){const r=new kl;for(const o of Ps(t)){const u=n.data.field(o.fieldPath);if(u==null)return null;const h=r.Pn(o.kind);ks.Kt.Dt(u,h)}return r.un()}Ln(t){const n=new kl;return ks.Kt.Dt(t,n.Pn(0)),n.un()}$n(t,n){const r=new kl;return ks.Kt.Dt(Rm(this.databaseId,n),r.Pn((function(u){const h=Ps(u);return h.length===0?0:h[h.length-1].kind})(t))),r.un()}Nn(t,n,r){if(r===null)return[];let o=[];o.push(new kl);let u=0;for(const h of Ps(t)){const m=r[u++];for(const g of o)if(this.Un(n,h.fieldPath)&&gu(m))o=this.Kn(o,h,m);else{const p=g.Pn(h.kind);ks.Kt.Dt(m,p)}}return this.Wn(o)}On(t,n,r){return this.Nn(t,n,r.position)}Wn(t){const n=[];for(let r=0;r<t.length;++r)n[r]=t[r].un();return n}Kn(t,n,r){const o=[...t],u=[];for(const h of r.arrayValue.values||[])for(const m of o){const g=new kl;g.seed(m.un()),ks.Kt.Dt(h,g.Pn(n.kind)),u.push(g)}return u}Un(t,n){return!!t.filters.find((r=>r instanceof Pt&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(t,n){const r=zl(t),o=Wa(t);return(n?r.J(H1,IDBKeyRange.bound(n,n)):r.J()).next((u=>{const h=[];return B.forEach(u,(m=>o.get([m.indexId,this.uid]).next((g=>{h.push((function(E,b){const C=b?new lu(b.sequenceNumber,new En(Js(b.readTime),new ut(di(b.documentKey)),b.largestBatchId)):lu.empty(),P=E.fields.map((([Q,$])=>new lh(Te.fromServerFormat(Q),$)));return new Ah(E.indexId,E.collectionGroup,P,C)})(m,g))})))).next((()=>h))}))}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next((n=>n.length===0?null:(n.sort(((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return u!==0?u:Rt(r.collectionGroup,o.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(t,n,r){const o=zl(t),u=Wa(t);return this.Gn(t).next((h=>o.J(H1,IDBKeyRange.bound(n,n)).next((m=>B.forEach(m,(g=>u.put(_2(g.indexId,this.uid,h,r))))))))}updateIndexEntries(t,n){const r=new Map;return B.forEach(n,((o,u)=>{const h=r.get(o.collectionGroup);return(h?B.resolve(h):this.getFieldIndexes(t,o.collectionGroup)).next((m=>(r.set(o.collectionGroup,m),B.forEach(m,(g=>this.zn(t,o,g).next((p=>{const E=this.jn(u,g);return p.isEqual(E)?B.resolve():this.Jn(t,u,g,p,E)})))))))}))}Hn(t,n,r,o){return Ja(t).put(o.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(t,n,r,o){return Ja(t).delete(o.Vn(this.uid,this.$n(r,n.key),n.key))}zn(t,n,r){const o=Ja(t);let u=new Gt(Or);return o.ee({index:av,range:IDBKeyRange.only([r.indexId,this.uid,gh(this.$n(r,n))])},((h,m)=>{u=u.add(new zs(r.indexId,n,S2(m.arrayValue),S2(m.directionalValue)))})).next((()=>u))}jn(t,n){let r=new Gt(Or);const o=this.Qn(n,t);if(o==null)return r;const u=j1(n);if(u!=null){const h=t.data.field(u.fieldPath);if(gu(h))for(const m of h.arrayValue.values||[])r=r.add(new zs(n.indexId,t.key,this.Ln(m),o))}else r=r.add(new zs(n.indexId,t.key,eh,o));return r}Jn(t,n,r,o,u){nt(R2,"Updating index entries for document '%s'",n.key);const h=[];return(function(g,p,E,b,C){const P=g.getIterator(),Q=p.getIterator();let $=Za(P),G=Za(Q);for(;$||G;){let rt=!1,et=!1;if($&&G){const it=E($,G);it<0?et=!0:it>0&&(rt=!0)}else $!=null?et=!0:rt=!0;rt?(b(G),G=Za(Q)):et?(C($),$=Za(P)):($=Za(P),G=Za(Q))}})(o,u,Or,(m=>{h.push(this.Hn(t,n,r,m))}),(m=>{h.push(this.Yn(t,n,r,m))})),B.waitFor(h)}Gn(t){let n=1;return Wa(t).ee({index:sv,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,o,u)=>{u.done(),n=o.sequenceNumber+1})).next((()=>n))}createRange(t,n,r){r=r.sort(((h,m)=>Or(h,m))).filter(((h,m,g)=>!m||Or(h,g[m-1])!==0));const o=[];o.push(t);for(const h of r){const m=Or(h,t),g=Or(h,n);if(m===0)o[0]=t.An();else if(m>0&&g<0)o.push(h),o.push(h.An());else if(g>0)break}o.push(n);const u=[];for(let h=0;h<o.length;h+=2){if(this.Zn(o[h],o[h+1]))return[];const m=o[h].Vn(this.uid,eh,ut.empty()),g=o[h+1].Vn(this.uid,eh,ut.empty());u.push(IDBKeyRange.bound(m,g))}return u}Zn(t,n){return Or(t,n)>0}getMinOffsetFromCollectionGroup(t,n){return this.getFieldIndexes(t,n).next(I2)}getMinOffset(t,n){return B.mapArray(this.Mn(n),(r=>this.xn(t,r).next((o=>o||dt(44426))))).next(I2)}}function w2(s){return Ve(s,hu)}function Ja(s){return Ve(s,Wl)}function zl(s){return Ve(s,bm)}function Wa(s){return Ve(s,Jl)}function I2(s){mt(s.length!==0,28825);let t=s[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<s.length;r++){const o=s[r].indexState.offset;vm(o,t)<0&&(t=o),n<o.largestBatchId&&(n=o.largestBatchId)}return new En(t.readTime,t.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rE=41943040;class Ze{static withCacheSize(t){return new Ze(t,Ze.DEFAULT_COLLECTION_PERCENTILE,Ze.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(s,t,n){const r=s.store(Yn),o=s.store(fo),u=[],h=IDBKeyRange.only(n.batchId);let m=0;const g=r.ee({range:h},((E,b,C)=>(m++,C.delete())));u.push(g.next((()=>{mt(m===1,47070,{batchId:n.batchId})})));const p=[];for(const E of n.mutations){const b=nv(t,E.key.path,n.batchId);u.push(o.delete(b)),p.push(E.key)}return B.waitFor(u).next((()=>p))}function Uh(s){if(!s)return 0;let t;if(s.document)t=s.document;else if(s.unknownDocument)t=s.unknownDocument;else{if(!s.noDocument)throw dt(14731);t=s.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ze.DEFAULT_COLLECTION_PERCENTILE=10,Ze.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ze.DEFAULT=new Ze(rE,Ze.DEFAULT_COLLECTION_PERCENTILE,Ze.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ze.DISABLED=new Ze(-1,0,0);class of{constructor(t,n,r,o){this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=o,this.Xn={}}static wt(t,n,r,o){mt(t.uid!=="",64387);const u=t.isAuthenticated()?t.uid:"";return new of(u,n,r,o)}checkEmpty(t){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Pr(t).ee({index:js,range:r},((o,u,h)=>{n=!1,h.done()})).next((()=>n))}addMutationBatch(t,n,r,o){const u=so(t),h=Pr(t);return h.add({}).next((m=>{mt(typeof m=="number",49019);const g=new xm(m,n,r,o),p=(function(P,Q,$){const G=$.baseMutations.map((et=>Ph(P.yt,et))),rt=$.mutations.map((et=>Ph(P.yt,et)));return{userId:Q,batchId:$.batchId,localWriteTimeMs:$.localWriteTime.toMillis(),baseMutations:G,mutations:rt}})(this.serializer,this.userId,g),E=[];let b=new Gt(((C,P)=>Rt(C.canonicalString(),P.canonicalString())));for(const C of o){const P=nv(this.userId,C.key.path,m);b=b.add(C.key.path.popLast()),E.push(h.put(p)),E.push(u.put(P,a3))}return b.forEach((C=>{E.push(this.indexManager.addToCollectionParentIndex(t,C))})),t.addOnCommittedListener((()=>{this.Xn[m]=g.keys()})),B.waitFor(E).next((()=>g))}))}lookupMutationBatch(t,n){return Pr(t).get(n).next((r=>r?(mt(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Us(this.serializer,r)):null))}er(t,n){return this.Xn[n]?B.resolve(this.Xn[n]):this.lookupMutationBatch(t,n).next((r=>{if(r){const o=r.keys();return this.Xn[n]=o,o}return null}))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Pr(t).ee({index:js,range:o},((h,m,g)=>{m.userId===this.userId&&(mt(m.batchId>=r,47524,{tr:r}),u=Us(this.serializer,m)),g.done()})).next((()=>u))}getHighestUnacknowledgedBatchId(t){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Hs;return Pr(t).ee({index:js,range:n,reverse:!0},((o,u,h)=>{r=u.batchId,h.done()})).next((()=>r))}getAllMutationBatches(t){const n=IDBKeyRange.bound([this.userId,Hs],[this.userId,Number.POSITIVE_INFINITY]);return Pr(t).J(js,n).next((r=>r.map((o=>Us(this.serializer,o)))))}getAllMutationBatchesAffectingDocumentKey(t,n){const r=uh(this.userId,n.path),o=IDBKeyRange.lowerBound(r),u=[];return so(t).ee({range:o},((h,m,g)=>{const[p,E,b]=h,C=di(E);if(p===this.userId&&n.path.isEqual(C))return Pr(t).get(b).next((P=>{if(!P)throw dt(61480,{nr:h,batchId:b});mt(P.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:P.userId,batchId:b}),u.push(Us(this.serializer,P))}));g.done()})).next((()=>u))}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Gt(Rt);const o=[];return n.forEach((u=>{const h=uh(this.userId,u.path),m=IDBKeyRange.lowerBound(h),g=so(t).ee({range:m},((p,E,b)=>{const[C,P,Q]=p,$=di(P);C===this.userId&&u.path.isEqual($)?r=r.add(Q):b.done()}));o.push(g)})),B.waitFor(o).next((()=>this.rr(t,r)))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1,u=uh(this.userId,r),h=IDBKeyRange.lowerBound(u);let m=new Gt(Rt);return so(t).ee({range:h},((g,p,E)=>{const[b,C,P]=g,Q=di(C);b===this.userId&&r.isPrefixOf(Q)?Q.length===o&&(m=m.add(P)):E.done()})).next((()=>this.rr(t,m)))}rr(t,n){const r=[],o=[];return n.forEach((u=>{o.push(Pr(t).get(u).next((h=>{if(h===null)throw dt(35274,{batchId:u});mt(h.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:h.userId,batchId:u}),r.push(Us(this.serializer,h))})))})),B.waitFor(o).next((()=>r))}removeMutationBatch(t,n){return sE(t.le,this.userId,n).next((r=>(t.addOnCommittedListener((()=>{this.ir(n.batchId)})),B.forEach(r,(o=>this.referenceDelegate.markPotentiallyOrphaned(t,o))))))}ir(t){delete this.Xn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next((n=>{if(!n)return B.resolve();const r=IDBKeyRange.lowerBound((function(h){return[h]})(this.userId)),o=[];return so(t).ee({range:r},((u,h,m)=>{if(u[0]===this.userId){const g=di(u[1]);o.push(g)}else m.done()})).next((()=>{mt(o.length===0,56720,{sr:o.map((u=>u.canonicalString()))})}))}))}containsKey(t,n){return aE(t,this.userId,n)}_r(t){return oE(t).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Hs,lastStreamToken:""}))}}function aE(s,t,n){const r=uh(t,n.path),o=r[1],u=IDBKeyRange.lowerBound(r);let h=!1;return so(s).ee({range:u,X:!0},((m,g,p)=>{const[E,b,C]=m;E===t&&b===o&&(h=!0),p.done()})).next((()=>h))}function Pr(s){return Ve(s,Yn)}function so(s){return Ve(s,fo)}function oE(s){return Ve(s,uu)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ws(0)}static cr(){return new Ws(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(t,n){this.referenceDelegate=t,this.serializer=n}allocateTargetId(t){return this.lr(t).next((n=>{const r=new Ws(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(t,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(t){return this.lr(t).next((n=>_t.fromTimestamp(new ae(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(t){return this.lr(t).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(t,n,r){return this.lr(t).next((o=>(o.highestListenSequenceNumber=n,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),n>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n),this.hr(t,o))))}addTargetData(t,n){return this.Pr(t,n).next((()=>this.lr(t).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(t,r))))))}updateTargetData(t,n){return this.Pr(t,n)}removeTargetData(t,n){return this.removeMatchingKeysForTargetId(t,n.targetId).next((()=>to(t).delete(n.targetId))).next((()=>this.lr(t))).next((r=>(mt(r.targetCount>0,8065),r.targetCount-=1,this.hr(t,r))))}removeTargets(t,n,r){let o=0;const u=[];return to(t).ee(((h,m)=>{const g=Kl(m);g.sequenceNumber<=n&&r.get(g.targetId)===null&&(o++,u.push(this.removeTargetData(t,g)))})).next((()=>B.waitFor(u))).next((()=>o))}forEachTarget(t,n){return to(t).ee(((r,o)=>{const u=Kl(o);n(u)}))}lr(t){return D2(t).get(Ih).next((n=>(mt(n!==null,2888),n)))}hr(t,n){return D2(t).put(Ih,n)}Pr(t,n){return to(t).put(tE(this.serializer,n))}Tr(t,n){let r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.lr(t).next((n=>n.targetCount))}getTargetData(t,n){const r=Zs(n),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return to(t).ee({range:o,index:rv},((h,m,g)=>{const p=Kl(m);Cu(n,p.target)&&(u=p,g.done())})).next((()=>u))}addMatchingKeys(t,n,r){const o=[],u=Br(t);return n.forEach((h=>{const m=$e(h.path);o.push(u.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(t,r,h))})),B.waitFor(o)}removeMatchingKeys(t,n,r){const o=Br(t);return B.forEach(n,(u=>{const h=$e(u.path);return B.waitFor([o.delete([r,h]),this.referenceDelegate.removeReference(t,r,u)])}))}removeMatchingKeysForTargetId(t,n){const r=Br(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(t,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),o=Br(t);let u=Nt();return o.ee({range:r,X:!0},((h,m,g)=>{const p=di(h[1]),E=new ut(p);u=u.add(E)})).next((()=>u))}containsKey(t,n){const r=$e(n.path),o=IDBKeyRange.bound([r],[$_(r)],!1,!0);let u=0;return Br(t).ee({index:Tm,X:!0,range:o},(([h,m],g,p)=>{h!==0&&(u++,p.done())})).next((()=>u>0))}At(t,n){return to(t).get(n).next((r=>r?Kl(r):null))}}function to(s){return Ve(s,mo)}function D2(s){return Ve(s,Fs)}function Br(s){return Ve(s,go)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="LruGarbageCollector",kb=1048576;function M2([s,t],[n,r]){const o=Rt(s,n);return o===0?Rt(t,r):o}class zb{constructor(t){this.Ir=t,this.buffer=new Gt(M2),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();M2(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lE{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){nt(V2,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xr(n)?nt(V2,"Ignoring IndexedDB error during garbage collection: ",n):await ea(n)}await this.Vr(3e5)}))}}class jb{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return B.resolve(On.ce);const r=new zb(n);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(x2)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),x2):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,o,u,h,m,g,p;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(t,o)))).next((b=>(r=b,m=Date.now(),this.removeTargets(t,r,n)))).next((b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(t,r)))).next((b=>(p=Date.now(),eo()<=Ut.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(p-g)+`ms
Total Duration: ${p-E}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function uE(s,t){return new jb(s,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(t,n){this.db=t,this.garbageCollector=uE(this,n)}gr(t){const n=this.wr(t);return this.db.getTargetCache().getTargetCount(t).next((r=>n.next((o=>r+o))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}forEachTarget(t,n){return this.db.getTargetCache().forEachTarget(t,n)}pr(t,n){return this.Sr(t,((r,o)=>n(o)))}addReference(t,n,r){return nh(t,r)}removeReference(t,n,r){return nh(t,r)}removeTargets(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)}markPotentiallyOrphaned(t,n){return nh(t,n)}br(t,n){return(function(o,u){let h=!1;return oE(o).te((m=>aE(o,m,u).next((g=>(g&&(h=!0),B.resolve(!g)))))).next((()=>h))})(t,n)}removeOrphanedDocuments(t,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Sr(t,((h,m)=>{if(m<=n){const g=this.br(t,h).next((p=>{if(!p)return u++,r.getEntry(t,h).next((()=>(r.removeEntry(h,_t.min()),Br(t).delete((function(b){return[0,$e(b.path)]})(h)))))}));o.push(g)}})).next((()=>B.waitFor(o))).next((()=>r.apply(t))).next((()=>u))}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,n){return nh(t,n)}Sr(t,n){const r=Br(t);let o,u=On.ce;return r.ee({index:Tm},(([h,m],{path:g,sequenceNumber:p})=>{h===0?(u!==On.ce&&n(new ut(di(o)),u),u=p,o=g):u=On.ce})).next((()=>{u!==On.ce&&n(new ut(di(o)),u)}))}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function nh(s,t){return Br(s).put((function(r,o){return{targetId:0,path:$e(r.path),sequenceNumber:o}})(t,s.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(){this.changes=new Zi((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,me.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,n,r){return Ns(t).put(r)}removeEntry(t,n,r){return Ns(t).delete((function(u,h){const m=u.path.toArray();return[m.slice(0,m.length-2),m[m.length-2],Lh(h),m[m.length-1]]})(n,r))}updateMetadata(t,n){return this.getMetadata(t).next((r=>(r.byteSize+=n,this.Dr(t,r))))}getEntry(t,n){let r=me.newInvalidDocument(n);return Ns(t).ee({index:ch,range:IDBKeyRange.only(jl(n))},((o,u)=>{r=this.Cr(n,u)})).next((()=>r))}vr(t,n){let r={size:0,document:me.newInvalidDocument(n)};return Ns(t).ee({index:ch,range:IDBKeyRange.only(jl(n))},((o,u)=>{r={document:this.Cr(n,u),size:Uh(u)}})).next((()=>r))}getEntries(t,n){let r=Pn();return this.Fr(t,n,((o,u)=>{const h=this.Cr(o,u);r=r.insert(o,h)})).next((()=>r))}Mr(t,n){let r=Pn(),o=new ce(ut.comparator);return this.Fr(t,n,((u,h)=>{const m=this.Cr(u,h);r=r.insert(u,m),o=o.insert(u,Uh(h))})).next((()=>({documents:r,Or:o})))}Fr(t,n,r){if(n.isEmpty())return B.resolve();let o=new Gt(P2);n.forEach((g=>o=o.add(g)));const u=IDBKeyRange.bound(jl(o.first()),jl(o.last())),h=o.getIterator();let m=h.getNext();return Ns(t).ee({index:ch,range:u},((g,p,E)=>{const b=ut.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;m&&P2(m,b)<0;)r(m,null),m=h.getNext();m&&m.isEqual(b)&&(r(m,p),m=h.hasNext()?h.getNext():null),m?E.j(jl(m)):E.done()})).next((()=>{for(;m;)r(m,null),m=h.hasNext()?h.getNext():null}))}getDocumentsMatchingQuery(t,n,r,o,u){const h=n.path,m=[h.popLast().toArray(),h.lastSegment(),Lh(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],g=[h.popLast().toArray(),h.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ns(t).J(IDBKeyRange.bound(m,g,!0)).next((p=>{u?.incrementDocumentReadCount(p.length);let E=Pn();for(const b of p){const C=this.Cr(ut.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);C.isFoundDocument()&&(Ru(n,C)||o.has(C.key))&&(E=E.insert(C.key,C))}return E}))}getAllFromCollectionGroup(t,n,r,o){let u=Pn();const h=O2(n,r),m=O2(n,En.max());return Ns(t).ee({index:iv,range:IDBKeyRange.bound(h,m,!0)},((g,p,E)=>{const b=this.Cr(ut.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);u=u.insert(b.key,b),u.size===o&&E.done()})).next((()=>u))}newChangeBuffer(t){return new Fb(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next((n=>n.byteSize))}getMetadata(t){return N2(t).get(q1).next((n=>(mt(!!n,20021),n)))}Dr(t,n){return N2(t).put(q1,n)}Cr(t,n){if(n){const r=Ib(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(_t.min())))return r}return me.newInvalidDocument(t)}}function hE(s){return new Hb(s)}class Fb extends cE{constructor(t,n){super(),this.Nr=t,this.trackRemovals=n,this.Br=new Zi((r=>r.toString()),((r,o)=>r.isEqual(o)))}applyChanges(t){const n=[];let r=0,o=new Gt(((u,h)=>Rt(u.canonicalString(),h.canonicalString())));return this.changes.forEach(((u,h)=>{const m=this.Br.get(u);if(n.push(this.Nr.removeEntry(t,u,m.readTime)),h.isValidDocument()){const g=p2(this.Nr.serializer,h);o=o.add(u.path.popLast());const p=Uh(g);r+=p-m.size,n.push(this.Nr.addEntry(t,u,g))}else if(r-=m.size,this.trackRemovals){const g=p2(this.Nr.serializer,h.convertToNoDocument(_t.min()));n.push(this.Nr.addEntry(t,u,g))}})),o.forEach((u=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(t,u))})),n.push(this.Nr.updateMetadata(t,r)),B.waitFor(n)}getFromCache(t,n){return this.Nr.vr(t,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(t,n){return this.Nr.Mr(t,n).next((({documents:r,Or:o})=>(o.forEach(((u,h)=>{this.Br.set(u,{size:h,readTime:r.get(u).readTime})})),r)))}}function N2(s){return Ve(s,cu)}function Ns(s){return Ve(s,wh)}function jl(s){const t=s.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function O2(s,t){const n=t.documentKey.path.toArray();return[s,Lh(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function P2(s,t){const n=s.path.toArray(),r=t.path.toArray();let o=0;for(let u=0;u<n.length-2&&u<r.length-2;++u)if(o=Rt(n[u],r[u]),o)return o;return o=Rt(n.length,r.length),o||(o=Rt(n[n.length-2],r[r.length-2]),o||Rt(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(t,n,r,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(r!==null&&iu(r.mutation,o,qi.empty(),ae.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,Nt()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=Nt()){const o=mi();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,r).next((u=>{let h=Fl();return u.forEach(((m,g)=>{h=h.insert(m,g.overlayedDocument)})),h}))))}getOverlayedDocuments(t,n){const r=mi();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,Nt())))}populateOverlays(t,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(t,n,r,o){let u=Pn();const h=nu(),m=(function(){return nu()})();return n.forEach(((g,p)=>{const E=r.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof wo)?u=u.insert(p.key,p):E!==void 0?(h.set(p.key,E.mutation.getFieldMask()),iu(E.mutation,p,E.mutation.getFieldMask(),ae.now())):h.set(p.key,qi.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((p,E)=>h.set(p,E))),n.forEach(((p,E)=>m.set(p,new Gb(E,h.get(p)??null)))),m)))}recalculateAndSaveOverlays(t,n){const r=nu();let o=new ce(((h,m)=>h-m)),u=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((h=>{for(const m of h)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let E=r.get(g)||qi.empty();E=m.applyToLocalView(p,E),r.set(g,E);const b=(o.get(m.batchId)||Nt()).add(g);o=o.insert(m.batchId,b)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,E=g.value,b=Mv();E.forEach((C=>{if(!u.has(C)){const P=Lv(n.get(C),r.get(C));P!==null&&b.set(C,P),u=u.add(C)}})),h.push(this.documentOverlayCache.saveOverlays(t,p,b))}return B.waitFor(h)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,o){return(function(h){return ut.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):F3(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,o):this.getDocumentsMatchingCollectionQuery(t,n,r,o)}getNextDocuments(t,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,o-u.size):B.resolve(mi());let m=ou,g=u;return h.next((p=>B.forEach(p,((E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?B.resolve():this.remoteDocumentCache.getEntry(t,E).next((C=>{g=g.insert(E,C)}))))).next((()=>this.populateOverlays(t,p,u))).next((()=>this.computeViews(t,g,p,Nt()))).next((E=>({batchId:m,changes:X3(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ut(n)).next((r=>{let o=Fl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,o){const u=n.collectionGroup;let h=Fl();return this.indexManager.getCollectionParents(t,u).next((m=>B.forEach(m,(g=>{const p=(function(b,C){return new Wh(C,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,p,r,o).next((E=>{E.forEach(((b,C)=>{h=h.insert(b,C)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(t,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,o)))).next((h=>{u.forEach(((g,p)=>{const E=p.getKey();h.get(E)===null&&(h=h.insert(E,me.newInvalidDocument(E)))}));let m=Fl();return h.forEach(((g,p)=>{const E=u.get(g);E!==void 0&&iu(E.mutation,p,qi.empty(),ae.now()),Ru(n,p)&&(m=m.insert(g,p))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:sn(o.createTime)}})(n)),B.resolve()}getNamedQuery(t,n){return B.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:eE(o.bundledQuery),readTime:sn(o.readTime)}})(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(){this.overlays=new ce(ut.comparator),this.qr=new Map}getOverlay(t,n){return B.resolve(this.overlays.get(n))}getOverlays(t,n){const r=mi();return B.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((o,u)=>{this.St(t,n,u)})),B.resolve()}removeOverlaysForBatchId(t,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(t,n,r){const o=mi(),u=n.length+1,h=new ut(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return B.resolve(o)}getOverlaysForCollectionGroup(t,n,r,o){let u=new ce(((p,E)=>p-E));const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let E=u.get(p.largestBatchId);E===null&&(E=mi(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=mi(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,E)=>m.set(p,E))),!(m.size()>=o)););return B.resolve(m)}St(t,n,r){const o=this.overlays.get(r.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new Vm(n,r));let u=this.qr.get(n);u===void 0&&(u=Nt(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(){this.sessionToken=Re.EMPTY_BYTE_STRING}getSessionToken(t){return B.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(){this.Qr=new Gt(Be.$r),this.Ur=new Gt(Be.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new Be(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new Be(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new ut(new $t([])),r=new Be(n,t),o=new Be(n,t+1),u=[];return this.Ur.forEachInRange([r,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new ut(new $t([])),r=new Be(n,t),o=new Be(n,t+1);let u=Nt();return this.Ur.forEachInRange([r,o],(h=>{u=u.add(h.key)})),u}containsKey(t){const n=new Be(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Be{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return ut.comparator(t.key,n.key)||Rt(t.Yr,n.Yr)}static Kr(t,n){return Rt(t.Yr,n.Yr)||ut.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Gt(Be.$r)}checkEmpty(t){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new xm(u,n,r,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Be(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return B.resolve(h)}lookupMutationBatch(t,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=this.ei(r),u=o<0?0:o;return B.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Hs:this.tr-1)}getAllMutationBatches(t){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Be(n,0),o=new Be(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),B.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Gt(Rt);return n.forEach((o=>{const u=new Be(o,0),h=new Be(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{r=r.add(m.Yr)}))})),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1;let u=r;ut.isDocumentKey(u)||(u=u.child(""));const h=new Be(new ut(u),0);let m=new Gt(Rt);return this.Zr.forEachWhile((g=>{const p=g.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Yr)),!0)}),h),B.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){mt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,(o=>{const u=new Be(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new Be(n,0),o=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,B.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(t){this.ri=t,this.docs=(function(){return new ce(ut.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():me.newInvalidDocument(n))}getEntries(t,n){let r=Pn();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():me.newInvalidDocument(o))})),B.resolve(r)}getDocumentsMatchingQuery(t,n,r,o){let u=Pn();const h=n.path,m=new ut(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:E}}=g.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||vm(J_(E),r)<=0||(o.has(E.key)||Ru(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return B.resolve(u)}getAllFromCollectionGroup(t,n,r,o){dt(9500)}ii(t,n){return B.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new $b(this)}getSize(t){return B.resolve(this.size)}}class $b extends cE{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),B.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(t){this.persistence=t,this.si=new Zi((n=>Zs(n)),Cu),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new Pm,this.targetCount=0,this.ai=Ws.ur()}forEachTarget(t,n){return this.si.forEach(((r,o)=>n(o))),B.resolve()}getLastRemoteSnapshotVersion(t){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return B.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Ws(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(t,n){return this.Pr(n),B.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(t,n,r){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),B.waitFor(u).next((()=>o))}getTargetCount(t){return B.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(t,h))})),B.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(t,n){return B.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t,n){this.ui={},this.overlays={},this.ci=new On(0),this.li=!1,this.li=!0,this.hi=new Yb,this.referenceDelegate=t(this),this.Pi=new Jb(this),this.indexManager=new Lb,this.remoteDocumentCache=(function(o){return new Zb(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Wv(n),this.Ii=new Kb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Qb,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new Xb(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){nt("MemoryPersistence","Starting transaction:",t);const o=new Wb(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return B.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class Wb extends tv{constructor(t){super(),this.currentSequenceNumber=t}}class lf{constructor(t){this.persistence=t,this.Ri=new Pm,this.Vi=null}static mi(t){return new lf(t)}get fi(){if(this.Vi)return this.Vi;throw dt(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,(r=>{const o=ut.fromPath(r);return this.gi(t,o).next((u=>{u||n.removeEntry(o,_t.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class kh{constructor(t,n){this.persistence=t,this.pi=new Zi((r=>$e(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=uE(this,n)}static mi(t,n){return new kh(t,n)}Ei(){}di(t){return B.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((o=>r+o))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return B.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?B.resolve():n(o)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(h=>this.br(t,h,n).next((m=>{m||(r++,u.removeEntry(h,_t.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),B.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),B.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),B.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),B.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=fh(t.data.value)),n}br(t,n,r){return B.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return B.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(t){this.serializer=t}k(t,n,r,o){const u=new Kh("createOrUpgrade",n);r<1&&o>=1&&((function(g){g.createObjectStore(Su)})(t),(function(g){g.createObjectStore(uu,{keyPath:s3}),g.createObjectStore(Yn,{keyPath:K0,autoIncrement:!0}).createIndex(js,Q0,{unique:!0}),g.createObjectStore(fo)})(t),L2(t),(function(g){g.createObjectStore(Ls)})(t));let h=B.resolve();return r<3&&o>=3&&(r!==0&&((function(g){g.deleteObjectStore(go),g.deleteObjectStore(mo),g.deleteObjectStore(Fs)})(t),L2(t)),h=h.next((()=>(function(g){const p=g.store(Fs),E={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_t.min().toTimestamp(),targetCount:0};return p.put(Ih,E)})(u)))),r<4&&o>=4&&(r!==0&&(h=h.next((()=>(function(g,p){return p.store(Yn).J().next((b=>{g.deleteObjectStore(Yn),g.createObjectStore(Yn,{keyPath:K0,autoIncrement:!0}).createIndex(js,Q0,{unique:!0});const C=p.store(Yn),P=b.map((Q=>C.put(Q)));return B.waitFor(P)}))})(t,u)))),h=h.next((()=>{(function(g){g.createObjectStore(po,{keyPath:m3})})(t)}))),r<5&&o>=5&&(h=h.next((()=>this.yi(u)))),r<6&&o>=6&&(h=h.next((()=>((function(g){g.createObjectStore(cu)})(t),this.wi(u))))),r<7&&o>=7&&(h=h.next((()=>this.Si(u)))),r<8&&o>=8&&(h=h.next((()=>this.bi(t,u)))),r<9&&o>=9&&(h=h.next((()=>{(function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")})(t)}))),r<10&&o>=10&&(h=h.next((()=>this.Di(u)))),r<11&&o>=11&&(h=h.next((()=>{(function(g){g.createObjectStore(Yh,{keyPath:g3})})(t),(function(g){g.createObjectStore(Xh,{keyPath:p3})})(t)}))),r<12&&o>=12&&(h=h.next((()=>{(function(g){const p=g.createObjectStore(Zh,{keyPath:S3});p.createIndex(F1,A3,{unique:!1}),p.createIndex(ov,C3,{unique:!1})})(t)}))),r<13&&o>=13&&(h=h.next((()=>(function(g){const p=g.createObjectStore(wh,{keyPath:o3});p.createIndex(ch,l3),p.createIndex(iv,u3)})(t))).next((()=>this.Ci(t,u))).next((()=>t.deleteObjectStore(Ls)))),r<14&&o>=14&&(h=h.next((()=>this.Fi(t,u)))),r<15&&o>=15&&(h=h.next((()=>(function(g){g.createObjectStore(bm,{keyPath:y3,autoIncrement:!0}).createIndex(H1,_3,{unique:!1}),g.createObjectStore(Jl,{keyPath:v3}).createIndex(sv,E3,{unique:!1}),g.createObjectStore(Wl,{keyPath:T3}).createIndex(av,b3,{unique:!1})})(t)))),r<16&&o>=16&&(h=h.next((()=>{n.objectStore(Jl).clear()})).next((()=>{n.objectStore(Wl).clear()}))),r<17&&o>=17&&(h=h.next((()=>{(function(g){g.createObjectStore(Sm,{keyPath:R3})})(t)}))),r<18&&o>=18&&V_()&&(h=h.next((()=>{n.objectStore(Jl).clear()})).next((()=>{n.objectStore(Wl).clear()}))),h}wi(t){let n=0;return t.store(Ls).ee(((r,o)=>{n+=Uh(o)})).next((()=>{const r={byteSize:n};return t.store(cu).put(q1,r)}))}yi(t){const n=t.store(uu),r=t.store(Yn);return n.J().next((o=>B.forEach(o,(u=>{const h=IDBKeyRange.bound([u.userId,Hs],[u.userId,u.lastAcknowledgedBatchId]);return r.J(js,h).next((m=>B.forEach(m,(g=>{mt(g.userId===u.userId,18650,"Cannot process batch from unexpected user",{batchId:g.batchId});const p=Us(this.serializer,g);return sE(t,u.userId,p).next((()=>{}))}))))}))))}Si(t){const n=t.store(go),r=t.store(Ls);return t.store(Fs).get(Ih).next((o=>{const u=[];return r.ee(((h,m)=>{const g=new $t(h),p=(function(b){return[0,$e(b)]})(g);u.push(n.get(p).next((E=>E?B.resolve():(b=>n.put({targetId:0,path:$e(b),sequenceNumber:o.highestListenSequenceNumber}))(g))))})).next((()=>B.waitFor(u)))}))}bi(t,n){t.createObjectStore(hu,{keyPath:d3});const r=n.store(hu),o=new Om,u=h=>{if(o.add(h)){const m=h.lastSegment(),g=h.popLast();return r.put({collectionId:m,parent:$e(g)})}};return n.store(Ls).ee({X:!0},((h,m)=>{const g=new $t(h);return u(g.popLast())})).next((()=>n.store(fo).ee({X:!0},(([h,m,g],p)=>{const E=di(m);return u(E.popLast())}))))}Di(t){const n=t.store(mo);return n.ee(((r,o)=>{const u=Kl(o),h=tE(this.serializer,u);return n.put(h)}))}Ci(t,n){const r=n.store(Ls),o=[];return r.ee(((u,h)=>{const m=n.store(wh),g=(function(b){return b.document?new ut($t.fromString(b.document.name).popFirst(5)):b.noDocument?ut.fromSegments(b.noDocument.path):b.unknownDocument?ut.fromSegments(b.unknownDocument.path):dt(36783)})(h).path.toArray(),p={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:h.readTime||[0,0],unknownDocument:h.unknownDocument,noDocument:h.noDocument,document:h.document,hasCommittedMutations:!!h.hasCommittedMutations};o.push(m.put(p))})).next((()=>B.waitFor(o)))}Fi(t,n){const r=n.store(Yn),o=hE(this.serializer),u=new Lm(lf.mi,this.serializer.yt);return r.J().next((h=>{const m=new Map;return h.forEach((g=>{let p=m.get(g.userId)??Nt();Us(this.serializer,g).keys().forEach((E=>p=p.add(E))),m.set(g.userId,p)})),B.forEach(m,((g,p)=>{const E=new He(p),b=af.wt(this.serializer,E),C=u.getIndexManager(E),P=of.wt(E,this.serializer,C,u.referenceDelegate);return new fE(o,P,b,C).recalculateAndSaveOverlaysForDocumentKeys(new G1(n,On.ce),g).next()}))}))}}function L2(s){s.createObjectStore(go,{keyPath:h3}).createIndex(Tm,f3,{unique:!0}),s.createObjectStore(mo,{keyPath:"targetId"}).createIndex(rv,c3,{unique:!0}),s.createObjectStore(Fs)}const Lr="IndexedDbPersistence",w1=18e5,I1=5e3,x1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",eS="main";class Bm{constructor(t,n,r,o,u,h,m,g,p,E,b=18){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Mi=u,this.window=h,this.document=m,this.xi=p,this.Oi=E,this.Ni=b,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=C=>Promise.resolve(),!Bm.v())throw new ht(W.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new qb(this,o),this.$i=n+eS,this.serializer=new Wv(g),this.Ui=new qr(this.$i,this.Ni,new tS(this.serializer)),this.hi=new Db,this.Pi=new Ub(this.referenceDelegate,this.serializer),this.remoteDocumentCache=hE(this.serializer),this.Ii=new xb,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,E===!1&&rn(Lr,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ht(W.FAILED_PRECONDITION,x1);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(t=>this.Pi.getHighestSequenceNumber(t)))})).then((t=>{this.ci=new On(t,this.xi)})).then((()=>{this.li=!0})).catch((t=>(this.Ui&&this.Ui.close(),Promise.reject(t))))}Ji(t){return this.Qi=async n=>{if(this.started)return t(n)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ui.$((async n=>{n.newVersion===null&&await t()}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(t=>ih(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(t).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(t))).next((n=>this.isPrimary&&!n?this.Zi(t).next((()=>!1)):!!n&&this.Xi(t).next((()=>!0)))))).catch((t=>{if(Xr(t))return nt(Lr,"Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return nt(Lr,"Releasing owner lease after error during lease refresh",t),!1})).then((t=>{this.isPrimary!==t&&this.Mi.enqueueRetryable((()=>this.Qi(t))),this.isPrimary=t}))}Hi(t){return ql(t).get(Xa).next((n=>B.resolve(this.es(n))))}ts(t){return ih(t).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,w1)){this.qi=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=Ve(n,po);return r.J().next((o=>{const u=this.ss(o,w1),h=o.filter((m=>u.indexOf(m)===-1));return B.forEach(h,(m=>r.delete(m.clientId))).next((()=>h))}))})).catch((()=>[]));if(this.Ki)for(const n of t)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(t){return!!t&&t.ownerId===this.clientId}Yi(t){return this.Oi?B.resolve(!0):ql(t).get(Xa).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,I1)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new ht(W.FAILED_PRECONDITION,x1);return!1}}return!(!this.networkEnabled||!this.inForeground)||ih(t).J().next((r=>this.ss(r,I1).find((o=>{if(this.clientId!==o.clientId){const u=!this.networkEnabled&&o.networkEnabled,h=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(u||h&&m)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&nt(Lr,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Su,po],(t=>{const n=new G1(t,On.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(t,n){return t.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(t=>ih(t).J().next((n=>this.ss(n,w1).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(t,n){return of.wt(t,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new Bb(t,this.serializer.yt.databaseId)}getDocumentOverlayCache(t){return af.wt(this.serializer,t)}getBundleCache(){return this.Ii}runTransaction(t,n,r){nt(Lr,"Starting transaction:",t);const o=n==="readonly"?"readonly":"readwrite",u=(function(g){return g===18?x3:g===17?hv:g===16?I3:g===15?Am:g===14?cv:g===13?uv:g===12?w3:g===11?lv:void dt(60245)})(this.Ni);let h;return this.Ui.runTransaction(t,o,u,(m=>(h=new G1(m,this.ci?this.ci.next():On.ce),n==="readwrite-primary"?this.Hi(h).next((g=>!!g||this.Yi(h))).next((g=>{if(!g)throw rn(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ht(W.FAILED_PRECONDITION,W_);return r(h)})).next((g=>this.Xi(h).next((()=>g)))):this.Is(h).next((()=>r(h)))))).then((m=>(h.raiseOnCommittedEvent(),m)))}Is(t){return ql(t).get(Xa).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,I1)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ht(W.FAILED_PRECONDITION,x1)}))}Xi(t){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ql(t).put(Xa,n)}static v(){return qr.v()}Zi(t){const n=ql(t);return n.get(Xa).next((r=>this.es(r)?(nt(Lr,"Releasing primary lease."),n.delete(Xa)):B.resolve()))}rs(t,n){const r=Date.now();return!(t<r-n)&&(!(t>r)||(rn(`Detected an update time that is in the future: ${t} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const t=/(?:Version|Mobile)\/1[456]/;D_()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(t){try{const n=this.Ki?.getItem(this._s(t))!==null;return nt(Lr,`Client '${t}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return rn(Lr,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(t){rn("Failed to set zombie client id.",t)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function ql(s){return Ve(s,Su)}function ih(s){return Ve(s,po)}function nS(s,t){let n=s.projectId;return s.isDefaultDatabase||(n+="."+s.database),"firestore/"+t+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t,n,r,o){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=o}static As(t,n){let r=Nt(),o=Nt();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Um(t,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return D_()?8:ev(Eh())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,o){const u={result:null};return this.ys(t,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(t,n,o,r).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new iS;return this.Ss(t,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,h,m.size)}))})).next((()=>u.result))}bs(t,n,r,o){return r.documentReadCount<this.fs?(eo()<=Ut.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",no(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(eo()<=Ut.DEBUG&&nt("QueryEngine","Query:",no(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(eo()<=Ut.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",no(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ln(n))):B.resolve())}ys(t,n){if(a2(n))return B.resolve(null);let r=Ln(n);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=$1(n,null,"F"),r=Ln(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const h=Nt(...u);return this.ps.getDocuments(t,h).next((m=>this.indexManager.getMinOffset(t,r).next((g=>{const p=this.Ds(n,m);return this.Cs(n,p,h,g.readTime)?this.ys(t,$1(n,null,"F")):this.vs(t,p,n,g)}))))})))))}ws(t,n,r,o){return a2(n)||o.isEqual(_t.min())?B.resolve(null):this.ps.getDocuments(t,r).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,r,o)?B.resolve(null):(eo()<=Ut.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),no(n)),this.vs(t,h,n,W9(o,ou)).next((m=>m)))}))}Ds(t,n){let r=new Gt(Dv(t));return n.forEach(((o,u)=>{Ru(t,u)&&(r=r.add(u))})),r}Cs(t,n,r,o){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,r){return eo()<=Ut.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",no(n)),this.ps.getDocumentsMatchingQuery(t,n,En.min(),r)}vs(t,n,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="LocalStore",rS=3e8;class sS{constructor(t,n,r,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new ce(Rt),this.xs=new Zi((u=>Zs(u)),Cu),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new fE(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function mE(s,t,n,r){return new sS(s,t,n,r)}async function gE(s,t){const n=wt(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const h=[],m=[];let g=Nt();for(const p of o){h.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(r,g).next((p=>({Ls:p,removedBatchIds:h,addedBatchIds:m})))}))}))}function aS(s,t){const n=wt(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,E){const b=p.batch,C=b.keys();let P=B.resolve();return C.forEach((Q=>{P=P.next((()=>E.getEntry(g,Q))).next(($=>{const G=p.docVersions.get(Q);mt(G!==null,48541),$.version.compareTo(G)<0&&(b.applyToRemoteDocument($,p),$.isValidDocument()&&($.setReadTime(p.commitVersion),E.addEntry($)))}))})),P.next((()=>m.mutationQueue.removeMutationBatch(g,b)))})(n,r,t,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let g=Nt();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function pE(s){const t=wt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function oS(s,t){const n=wt(s),r=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((E,b)=>{const C=o.get(b);if(!C)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,b))));let P=C.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?P=P.withResumeToken(Re.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,r)),o=o.insert(b,P),(function($,G,rt){return $.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=rS?!0:rt.addedDocuments.size+rt.modifiedDocuments.size+rt.removedDocuments.size>0})(C,P,E)&&m.push(n.Pi.updateTargetData(u,P))}));let g=Pn(),p=Nt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(lS(u,h,t.documentUpdates).next((E=>{g=E.ks,p=E.qs}))),!r.isEqual(_t.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(E)}return B.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function lS(s,t,n){let r=Nt(),o=Nt();return n.forEach((u=>r=r.add(u))),t.getEntries(s,r).next((u=>{let h=Pn();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(_t.min())?(t.removeEntry(m,g.readTime),h=h.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(g),h=h.insert(m,g)):nt(km,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{ks:h,qs:o}}))}function uS(s,t){const n=wt(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Hs),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function cS(s,t){const n=wt(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,t).next((u=>u?(o=u,B.resolve(o)):n.Pi.allocateTargetId(r).next((h=>(o=new Hi(t,h,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r}))}async function sm(s,t,n){const r=wt(s),o=r.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Xr(h))throw h;nt(km,`Failed to update sequence numbers for target ${t}: ${h}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function B2(s,t,n){const r=wt(s);let o=_t.min(),u=Nt();return r.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,p,E){const b=wt(g),C=b.xs.get(E);return C!==void 0?B.resolve(b.Ms.get(C)):b.Pi.getTargetData(p,E)})(r,h,Ln(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(h,m.targetId).next((g=>{u=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(h,t,n?o:_t.min(),n?u:Nt()))).next((m=>(hS(r,K3(t),m),{documents:m,Qs:u})))))}function hS(s,t,n){let r=s.Os.get(t)||_t.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(t,r)}class U2{constructor(){this.activeTargetIds=W3()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class yE{constructor(){this.Mo=new U2,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new U2,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="ConnectivityMonitor";class z2{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){nt(k2,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){nt(k2,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh=null;function am(){return rh===null?rh=(function(){return 268435456+Math.round(2147483648*Math.random())})():rh++,"0x"+rh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="RestConnection",dS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mS{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===xh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,n,r,o,u){const h=am(),m=this.zo(t,n.toUriEncodedString());nt(D1,`Sending RPC '${t}' ${h}:`,m,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:p}=new URL(m),E=pm(p);return this.Jo(t,m,g,r,E).then((b=>(nt(D1,`Received RPC '${t}' ${h}: `,b),b)),(b=>{throw Ys(D1,`RPC '${t}' ${h} failed with error: `,b,"url: ",m,"request:",r),b}))}Ho(t,n,r,o,u,h){return this.Go(t,n,r,o,u)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ro})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const r=dS[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection";class pS extends mS{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,o,u){const h=am();return new Promise(((m,g)=>{const p=new H_;p.setWithCredentials(!0),p.listenOnce(F_.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case oh.NO_ERROR:const b=p.getResponseJson();nt(Xe,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(b)),m(b);break;case oh.TIMEOUT:nt(Xe,`RPC '${t}' ${h} timed out`),g(new ht(W.DEADLINE_EXCEEDED,"Request time out"));break;case oh.HTTP_ERROR:const C=p.getStatus();if(nt(Xe,`RPC '${t}' ${h} failed with status:`,C,"response text:",p.getResponseText()),C>0){let P=p.getResponseJson();Array.isArray(P)&&(P=P[0]);const Q=P?.error;if(Q&&Q.status&&Q.message){const $=(function(rt){const et=rt.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(et)>=0?et:W.UNKNOWN})(Q.status);g(new ht($,Q.message))}else g(new ht(W.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ht(W.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:t,streamId:h,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{nt(Xe,`RPC '${t}' ${h} completed.`)}}));const E=JSON.stringify(o);nt(Xe,`RPC '${t}' ${h} sending request:`,o),p.send(n,"POST",E,r,15)}))}T_(t,n,r){const o=am(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=Q_(),m=K_(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const E=u.join("");nt(Xe,`Creating RPC '${t}' stream ${o}: ${E}`,g);const b=h.createWebChannel(E,g);this.I_(b);let C=!1,P=!1;const Q=new gS({Yo:G=>{P?nt(Xe,`Not sending because RPC '${t}' stream ${o} is closed:`,G):(C||(nt(Xe,`Opening RPC '${t}' stream ${o} transport.`),b.open(),C=!0),nt(Xe,`RPC '${t}' stream ${o} sending:`,G),b.send(G))},Zo:()=>b.close()}),$=(G,rt,et)=>{G.listen(rt,(it=>{try{et(it)}catch(Et){setTimeout((()=>{throw Et}),0)}}))};return $(b,Hl.EventType.OPEN,(()=>{P||(nt(Xe,`RPC '${t}' stream ${o} transport opened.`),Q.o_())})),$(b,Hl.EventType.CLOSE,(()=>{P||(P=!0,nt(Xe,`RPC '${t}' stream ${o} transport closed`),Q.a_(),this.E_(b))})),$(b,Hl.EventType.ERROR,(G=>{P||(P=!0,Ys(Xe,`RPC '${t}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),Q.a_(new ht(W.UNAVAILABLE,"The operation could not be completed")))})),$(b,Hl.EventType.MESSAGE,(G=>{if(!P){const rt=G.data[0];mt(!!rt,16349);const et=rt,it=et?.error||et[0]?.error;if(it){nt(Xe,`RPC '${t}' stream ${o} received error:`,it);const Et=it.status;let at=(function(A){const R=Ae[A];if(R!==void 0)return kv(R)})(Et),vt=it.message;at===void 0&&(at=W.INTERNAL,vt="Unknown error status: "+Et+" with message "+it.message),P=!0,Q.a_(new ht(at,vt)),b.close()}else nt(Xe,`RPC '${t}' stream ${o} received:`,rt),Q.u_(rt)}})),$(m,G_.STAT_EVENT,(G=>{G.stat===k1.PROXY?nt(Xe,`RPC '${t}' stream ${o} detected buffering proxy`):G.stat===k1.NOPROXY&&nt(Xe,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Q.__()}),0),Q}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(){return typeof window<"u"?window:null}function ph(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(s){return new yb(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(t,n,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&nt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2="PersistentStream";class EE{constructor(t,n,r,o,u,h,m,g){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vE(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(rn(n.toString()),rn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{t((()=>{const o=new ht(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return nt(j2,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(nt(j2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _S extends EE{constructor(t,n,r,o,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,h),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=Tb(this.serializer,t),r=(function(u){if(!("targetChange"in u))return _t.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?_t.min():h.readTime?sn(h.readTime):_t.min()})(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=tm(this.serializer),n.addTarget=(function(u,h){let m;const g=h.target;if(m=Vh(g)?{documents:Qv(u,g)}:{query:Yv(u,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=_b(u,h.resumeToken);const p=J1(u,h.expectedCount);p!==null&&(m.expectedCount=p)}else if(h.snapshotVersion.compareTo(_t.min())>0){m.readTime=Nh(u,h.snapshotVersion.toTimestamp());const p=J1(u,h.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,t);const r=Sb(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=tm(this.serializer),n.removeTarget=t,this.q_(n)}}class vS extends EE{constructor(t,n,r,o,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return mt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,mt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){mt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=bb(t.writeResults,t.commitTime),r=sn(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=tm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>Ph(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{}class TS extends ES{constructor(t,n,r,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ht(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(t,W1(n,r),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ht(W.UNKNOWN,u.toString())}))}Ho(t,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(t,W1(n,r),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ht(W.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class bS{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rn(n),this.aa=!1):nt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="RemoteStore";class SS{constructor(t,n,r,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{r.enqueueAndForget((async()=>{na(this)&&(nt(ta,"Restarting streams for network reachability change."),await(async function(g){const p=wt(g);p.Ea.add(4),await xu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await uf(p)})(this))}))})),this.Ra=new bS(r,o)}}async function uf(s){if(na(s))for(const t of s.da)await t(!0)}async function xu(s){for(const t of s.da)await t(!1)}function TE(s,t){const n=wt(s);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Hm(n)?qm(n):Io(n).O_()&&jm(n,t))}function zm(s,t){const n=wt(s),r=Io(n);n.Ia.delete(t),r.O_()&&bE(n,t),n.Ia.size===0&&(r.O_()?r.L_():na(n)&&n.Ra.set("Unknown"))}function jm(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Io(s).Y_(t)}function bE(s,t){s.Va.Ue(t),Io(s).Z_(t)}function qm(s){s.Va=new db({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),Io(s).start(),s.Ra.ua()}function Hm(s){return na(s)&&!Io(s).x_()&&s.Ia.size>0}function na(s){return wt(s).Ea.size===0}function SE(s){s.Va=void 0}async function AS(s){s.Ra.set("Online")}async function CS(s){s.Ia.forEach(((t,n)=>{jm(s,t)}))}async function RS(s,t){SE(s),Hm(s)?(s.Ra.ha(t),qm(s)):s.Ra.set("Unknown")}async function wS(s,t,n){if(s.Ra.set("Online"),t instanceof jv&&t.state===2&&t.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(s,t)}catch(r){nt(ta,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await zh(s,r)}else if(t instanceof mh?s.Va.Ze(t):t instanceof zv?s.Va.st(t):s.Va.tt(t),!n.isEqual(_t.min()))try{const r=await pE(s.localStore);n.compareTo(r)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(p);E&&u.Ia.set(p,E.withResumeToken(g.resumeToken,h))}})),m.targetMismatches.forEach(((g,p)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Re.EMPTY_BYTE_STRING,E.snapshotVersion)),bE(u,g);const b=new Hi(E.target,g,p,E.sequenceNumber);jm(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(r){nt(ta,"Failed to raise snapshot:",r),await zh(s,r)}}async function zh(s,t,n){if(!Xr(t))throw t;s.Ea.add(1),await xu(s),s.Ra.set("Offline"),n||(n=()=>pE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{nt(ta,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await uf(s)}))}function AE(s,t){return t().catch((n=>zh(s,n,t)))}async function cf(s){const t=wt(s),n=Qr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Hs;for(;IS(t);)try{const o=await uS(t.localStore,r);if(o===null){t.Ta.length===0&&n.L_();break}r=o.batchId,xS(t,o)}catch(o){await zh(t,o)}CE(t)&&RE(t)}function IS(s){return na(s)&&s.Ta.length<10}function xS(s,t){s.Ta.push(t);const n=Qr(s);n.O_()&&n.X_&&n.ea(t.mutations)}function CE(s){return na(s)&&!Qr(s).x_()&&s.Ta.length>0}function RE(s){Qr(s).start()}async function DS(s){Qr(s).ra()}async function VS(s){const t=Qr(s);for(const n of s.Ta)t.ea(n.mutations)}async function MS(s,t,n){const r=s.Ta.shift(),o=Dm.from(r,t,n);await AE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await cf(s)}async function NS(s,t){t&&Qr(s).X_&&await(async function(r,o){if((function(h){return cb(h)&&h!==W.ABORTED})(o.code)){const u=r.Ta.shift();Qr(r).B_(),await AE(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await cf(r)}})(s,t),CE(s)&&RE(s)}async function q2(s,t){const n=wt(s);n.asyncQueue.verifyOperationInProgress(),nt(ta,"RemoteStore received new credentials");const r=na(n);n.Ea.add(3),await xu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await uf(n)}async function OS(s,t){const n=wt(s);t?(n.Ea.delete(2),await uf(n)):t||(n.Ea.add(2),await xu(n),n.Ra.set("Unknown"))}function Io(s){return s.ma||(s.ma=(function(n,r,o){const u=wt(n);return u.sa(),new _S(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:AS.bind(null,s),t_:CS.bind(null,s),r_:RS.bind(null,s),H_:wS.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),Hm(s)?qm(s):s.Ra.set("Unknown")):(await s.ma.stop(),SE(s))}))),s.ma}function Qr(s){return s.fa||(s.fa=(function(n,r,o){const u=wt(n);return u.sa(),new vS(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:DS.bind(null,s),r_:NS.bind(null,s),ta:VS.bind(null,s),na:MS.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await cf(s)):(await s.fa.stop(),s.Ta.length>0&&(nt(ta,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(t,n,r,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,o,u){const h=Date.now()+r,m=new Fm(t,n,h,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wE(s,t){if(rn("AsyncQueue",`${t}: ${s}`),Xr(s))return new ht(W.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{static emptySet(t){return new oo(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||ut.comparator(n.key,r.key):(n,r)=>ut.comparator(n.key,r.key),this.keyedMap=Fl(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof oo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new oo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this.ga=new ce(ut.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):dt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class bo{constructor(t,n,r,o,u,h,m,g,p){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(t,n,r,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new bo(t,n,oo.emptySet(n),h,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ef(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class LS{constructor(){this.queries=F2(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=wt(n),u=o.queries;o.queries=F2(),u.forEach(((h,m)=>{for(const g of m.Sa)g.onError(r)}))})(this,new ht(W.ABORTED,"Firestore shutting down"))}}function F2(){return new Zi((s=>xv(s)),ef)}async function BS(s,t){const n=wt(s);let r=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new PS,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=wE(h,`Initialization of query '${no(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Gm(n)}async function US(s,t){const n=wt(s),r=t.query;let o=3;const u=n.queries.get(r);if(u){const h=u.Sa.indexOf(t);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function kS(s,t){const n=wt(s);let r=!1;for(const o of t){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(r=!0);h.wa=o}}r&&Gm(n)}function zS(s,t,n){const r=wt(s),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(t)}function Gm(s){s.Ca.forEach((t=>{t.next()}))}var om,G2;(G2=om||(om={})).Ma="default",G2.Cache="cache";class jS{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new bo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=bo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==om.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(t){this.key=t}}class xE{constructor(t){this.key=t}}class qS{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Nt(),this.mutatedKeys=Nt(),this.eu=Dv(t),this.tu=new oo(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new H2,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,b)=>{const C=o.get(E),P=Ru(this.query,b)?b:null,Q=!!C&&this.mutatedKeys.has(C.key),$=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let G=!1;C&&P?C.data.isEqual(P.data)?Q!==$&&(r.track({type:3,doc:P}),G=!0):this.su(C,P)||(r.track({type:2,doc:P}),G=!0,(g&&this.eu(P,g)>0||p&&this.eu(P,p)<0)&&(m=!0)):!C&&P?(r.track({type:0,doc:P}),G=!0):C&&!P&&(r.track({type:1,doc:C}),G=!0,(g||p)&&(m=!0)),G&&(P?(h=h.add(P),u=$?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{tu:h,iu:r,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const h=t.iu.ya();h.sort(((E,b)=>(function(P,Q){const $=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Rt:G})}};return $(P)-$(Q)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,p=g!==this.Za;return this.Za=g,h.length!==0||p?{snapshot:new bo(this.query,t.tu,u,h,t.mutatedKeys,g===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new H2,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Nt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return t.forEach((r=>{this.Xa.has(r)||n.push(new xE(r))})),this.Xa.forEach((r=>{t.has(r)||n.push(new IE(r))})),n}cu(t){this.Ya=t.Qs,this.Xa=Nt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return bo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Km="SyncEngine";class HS{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class FS{constructor(t){this.key=t,this.hu=!1}}class GS{constructor(t,n,r,o,u,h){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Zi((m=>xv(m)),ef),this.Iu=new Map,this.Eu=new Set,this.du=new ce(ut.comparator),this.Au=new Map,this.Ru=new Pm,this.Vu={},this.mu=new Map,this.fu=Ws.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function KS(s,t,n=!0){const r=PE(s);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await DE(r,t,n,!0),o}async function QS(s,t){const n=PE(s);await DE(n,t,!0,!1)}async function DE(s,t,n,r){const o=await cS(s.localStore,Ln(t)),u=o.targetId,h=s.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await YS(s,t,u,h==="current",o.resumeToken)),s.isPrimaryClient&&n&&TE(s.remoteStore,o),m}async function YS(s,t,n,r,o){s.pu=(b,C,P)=>(async function($,G,rt,et){let it=G.view.ru(rt);it.Cs&&(it=await B2($.localStore,G.query,!1).then((({documents:x})=>G.view.ru(x,it))));const Et=et&&et.targetChanges.get(G.targetId),at=et&&et.targetMismatches.get(G.targetId)!=null,vt=G.view.applyChanges(it,$.isPrimaryClient,Et,at);return Q2($,G.targetId,vt.au),vt.snapshot})(s,b,C,P);const u=await B2(s.localStore,t,!0),h=new qS(t,u.Qs),m=h.ru(u.documents),g=Iu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),p=h.applyChanges(m,s.isPrimaryClient,g);Q2(s,n,p.au);const E=new HS(t,n,h);return s.Tu.set(t,E),s.Iu.has(n)?s.Iu.get(n).push(t):s.Iu.set(n,[t]),p.snapshot}async function XS(s,t,n){const r=wt(s),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((h=>!ef(h,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await sm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&zm(r.remoteStore,o.targetId),lm(r,o.targetId)})).catch(ea)):(lm(r,o.targetId),await sm(r.localStore,o.targetId,!0))}async function ZS(s,t){const n=wt(s),r=n.Tu.get(t),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zm(n.remoteStore,r.targetId))}async function VE(s,t){const n=wt(s);try{const r=await oS(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(mt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?mt(h.hu,14607):o.removedDocuments.size>0&&(mt(h.hu,42227),h.hu=!1))})),await hf(n,r,t)}catch(r){await ea(r)}}function K2(s,t,n){const r=wt(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,h)=>{const m=h.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const g=wt(h);g.onlineState=m;let p=!1;g.queries.forEach(((E,b)=>{for(const C of b.Sa)C.va(m)&&(p=!0)})),p&&Gm(g)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function $S(s,t,n){const r=wt(s);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Au.get(t),u=o&&o.key;if(u){let h=new ce(ut.comparator);h=h.insert(u,me.newNoDocument(u,_t.min()));const m=Nt().add(u),g=new sf(_t.min(),new Map,new ce(Rt),h,m);await VE(r,g),r.du=r.du.remove(u),r.Au.delete(t),Qm(r)}else await sm(r.localStore,t,!1).then((()=>lm(r,t,n))).catch(ea)}async function JS(s,t){const n=wt(s),r=t.batch.batchId;try{const o=await aS(n.localStore,t);NE(n,r,null),ME(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await hf(n,o)}catch(o){await ea(o)}}async function WS(s,t,n){const r=wt(s);try{const o=await(function(h,m){const g=wt(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return g.mutationQueue.lookupMutationBatch(p,m).next((b=>(mt(b!==null,37113),E=b.keys(),g.mutationQueue.removeMutationBatch(p,b)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>g.localDocuments.getDocuments(p,E)))}))})(r.localStore,t);NE(r,t,n),ME(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await hf(r,o)}catch(o){await ea(o)}}function ME(s,t){(s.mu.get(t)||[]).forEach((n=>{n.resolve()})),s.mu.delete(t)}function NE(s,t,n){const r=wt(s);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function lm(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||OE(s,r)}))}function OE(s,t){s.Eu.delete(t.path.canonicalString());const n=s.du.get(t);n!==null&&(zm(s.remoteStore,n),s.du=s.du.remove(t),s.Au.delete(n),Qm(s))}function Q2(s,t,n){for(const r of n)r instanceof IE?(s.Ru.addReference(r.key,t),tA(s,r)):r instanceof xE?(nt(Km,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||OE(s,r.key)):dt(19791,{wu:r})}function tA(s,t){const n=t.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(nt(Km,"New document in limbo: "+n),s.Eu.add(r),Qm(s))}function Qm(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const n=new ut($t.fromString(t)),r=s.fu.next();s.Au.set(r,new FS(n)),s.du=s.du.insert(n,r),TE(s.remoteStore,new Hi(Ln(tf(n.path)),r,"TargetPurposeLimboResolution",On.ce))}}async function hf(s,t,n){const r=wt(s),o=[],u=[],h=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,g)=>{h.push(r.pu(g,t,n).then((p=>{if((p||n)&&r.isPrimaryClient){const E=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(p){o.push(p);const E=Um.As(g.targetId,p);u.push(E)}})))})),await Promise.all(h),r.Pu.H_(o),await(async function(g,p){const E=wt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>B.forEach(p,(C=>B.forEach(C.Es,(P=>E.persistence.referenceDelegate.addReference(b,C.targetId,P))).next((()=>B.forEach(C.ds,(P=>E.persistence.referenceDelegate.removeReference(b,C.targetId,P)))))))))}catch(b){if(!Xr(b))throw b;nt(km,"Failed to update sequence numbers: "+b)}for(const b of p){const C=b.targetId;if(!b.fromCache){const P=E.Ms.get(C),Q=P.snapshotVersion,$=P.withLastLimboFreeSnapshotVersion(Q);E.Ms=E.Ms.insert(C,$)}}})(r.localStore,u))}async function eA(s,t){const n=wt(s);if(!n.currentUser.isEqual(t)){nt(Km,"User change. New user:",t.toKey());const r=await gE(n.localStore,t);n.currentUser=t,(function(u,h){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new ht(W.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await hf(n,r.Ls)}}function nA(s,t){const n=wt(s),r=n.Au.get(t);if(r&&r.hu)return Nt().add(r.key);{let o=Nt();const u=n.Iu.get(t);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function PE(s){const t=wt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=VE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=nA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$S.bind(null,t),t.Pu.H_=kS.bind(null,t.eventManager),t.Pu.yu=zS.bind(null,t.eventManager),t}function iA(s){const t=wt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=JS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=WS.bind(null,t),t}class _u{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=_E(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return mE(this.persistence,new dE,t.initialUser,this.serializer)}Cu(t){return new Lm(lf.mi,this.serializer)}Du(t){return new yE}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_u.provider={build:()=>new _u};class rA extends _u{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){mt(this.persistence.referenceDelegate instanceof kh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new lE(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Ze.withCacheSize(this.cacheSizeBytes):Ze.DEFAULT;return new Lm((r=>kh.mi(r,n)),this.serializer)}}class sA extends _u{constructor(t,n,r){super(),this.xu=t,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.xu.initialize(this,t),await iA(this.xu.syncEngine),await cf(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(t){return mE(this.persistence,new dE,t.initialUser,this.serializer)}Fu(t,n){const r=this.persistence.referenceDelegate.garbageCollector;return new lE(r,t.asyncQueue,n)}Mu(t,n){const r=new i3(n,this.persistence);return new n3(t.asyncQueue,r)}Cu(t){const n=nS(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Ze.withCacheSize(this.cacheSizeBytes):Ze.DEFAULT;return new Bm(this.synchronizeTabs,n,t.clientId,r,t.asyncQueue,yS(),ph(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(t){return new yE}}class jh{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>K2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=eA.bind(null,this.syncEngine),await OS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new LS})()}createDatastore(t){const n=_E(t.databaseInfo.databaseId),r=(function(u){return new pS(u)})(t.databaseInfo);return(function(u,h,m,g){return new TS(u,h,m,g)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,o,u,h,m){return new SS(r,o,u,h,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>K2(this.syncEngine,n,0)),(function(){return z2.v()?new z2:new fS})())}createSyncEngine(t,n){return(function(o,u,h,m,g,p,E){const b=new GS(o,u,h,m,g,p);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=wt(n);nt(ta,"RemoteStore shutting down."),r.Ea.add(5),await xu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}jh.provider={build:()=>new jh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):rn("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="FirestoreClient";class oA{constructor(t,n,r,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=He.UNAUTHENTICATED,this.clientId=Z_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async h=>{nt(Yr,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(r,(h=>(nt(Yr,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=wE(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function V1(s,t){s.asyncQueue.verifyOperationInProgress(),nt(Yr,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await gE(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Y2(s,t){s.asyncQueue.verifyOperationInProgress();const n=await lA(s);nt(Yr,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener((r=>q2(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>q2(t.remoteStore,o))),s._onlineComponents=t}async function lA(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){nt(Yr,"Using user provided OfflineComponentProvider");try{await V1(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Ys("Error using user provided cache. Falling back to memory cache: "+n),await V1(s,new _u)}}else nt(Yr,"Using default OfflineComponentProvider"),await V1(s,new rA(void 0));return s._offlineComponents}async function uA(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(nt(Yr,"Using user provided OnlineComponentProvider"),await Y2(s,s._uninitializedComponentsProvider._online)):(nt(Yr,"Using default OnlineComponentProvider"),await Y2(s,new jh))),s._onlineComponents}async function X2(s){const t=await uA(s),n=t.eventManager;return n.onListen=KS.bind(null,t.syncEngine),n.onUnlisten=XS.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=QS.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=ZS.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="firestore.googleapis.com",$2=!0;class J2{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BE,this.ssl=$2}else this.host=t.host,this.ssl=t.ssl??$2;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=rE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<kb)throw new ht(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Z9("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LE(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ht(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ht(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ht(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ym{constructor(t,n,r,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new J2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new J2(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new z9;switch(r.type){case"firstParty":return new F9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ht(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Z2.get(n);r&&(nt("ComponentProvider","Removing Datastore"),Z2.delete(n),r.terminate())})(this),Promise.resolve()}}function cA(s,t,n,r={}){s=Xl(s,Ym);const o=pm(t),u=s._getSettings(),h={...u,emulatorOptions:s._getEmulatorOptions()},m=`${t}:${n}`;o&&(E6(`https://${m}`),A6("Firestore",!0)),u.host!==BE&&u.host!==m&&Ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:r};if(!Th(g,h)&&(s._setSettings(g),r.mockUserToken)){let p,E;if(typeof r.mockUserToken=="string")p=r.mockUserToken,E=He.MOCK_USER;else{p=T6(r.mockUserToken,s._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new ht(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new He(b)}s._authCredentials=new j9(new X_(p,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ff(this.firestore,t,this._query)}}class vn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new vn(this.firestore,t,this._key)}toJSON(){return{type:vn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(bu(n,vn._jsonSchema))return new vn(t,r||null,new ut($t.fromString(n.referencePath)))}}vn._jsonSchemaVersion="firestore/documentReference/1.0",vn._jsonSchema={type:Ce("string",vn._jsonSchemaVersion),referencePath:Ce("string")};class lo extends ff{constructor(t,n,r){super(t,n,tf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new vn(this.firestore,null,new ut(t))}withConverter(t){return new lo(this.firestore,t,this._path)}}function hA(s,t,...n){if(s=O_(s),s instanceof Ym){const r=$t.fromString(t,...n);return j0(r),new lo(s,null,r)}{if(!(s instanceof vn||s instanceof lo))throw new ht(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child($t.fromString(t,...n));return j0(r),new lo(s.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="AsyncQueue";class t_{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vE(this,"async_queue_retry"),this._c=()=>{const r=ph();r&&nt(W2,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=ph();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=ph();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new qs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Xr(t))throw t;nt(W2,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,rn("INTERNAL UNHANDLED ERROR: ",e_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Fm.createAndSchedule(this,t,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&dt(47125,{Pc:e_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function e_(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(s,["next","error","complete"])}class qh extends Ym{constructor(t,n,r,o){super(t,n,r,o),this.type="firestore",this._queue=new t_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new t_(t),this._firestoreClient=void 0,await t}}}function fA(s,t){const n=typeof s=="object"?s:k_(),r=typeof s=="string"?s:xh,o=C9(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=_6("firestore");u&&cA(o,...u)}return o}function dA(s){if(s._terminated)throw new ht(W.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||UE(s),s._firestoreClient}function UE(s){const t=s._freezeSettings(),n=(function(o,u,h,m){return new M3(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,LE(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new oA(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}function mA(s,t){Ys("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=s._freezeSettings();return gA(s,jh.provider,{build:r=>new sA(r,n.cacheSizeBytes,t?.forceOwnership)}),Promise.resolve()}function gA(s,t,n){if((s=Xl(s,qh))._firestoreClient||s._terminated)throw new ht(W.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(s._componentsProvider||s._getSettings().localCache)throw new ht(W.FAILED_PRECONDITION,"SDK cache is already specified.");s._componentsProvider={_online:t,_offline:n},UE(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new fi(Re.fromBase64String(t))}catch(n){throw new ht(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new fi(Re.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:fi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(bu(t,fi._jsonSchema))return fi.fromBase64String(t.bytes)}}fi._jsonSchemaVersion="firestore/bytes/1.0",fi._jsonSchema={type:Ce("string",fi._jsonSchemaVersion),bytes:Ce("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ht(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Te(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ht(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ht(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Rt(this._lat,t._lat)||Rt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hr._jsonSchemaVersion}}static fromJSON(t){if(bu(t,Hr._jsonSchema))return new Hr(t.latitude,t.longitude)}}Hr._jsonSchemaVersion="firestore/geoPoint/1.0",Hr._jsonSchema={type:Ce("string",Hr._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Fr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(bu(t,Fr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Fr(t.vectorValues);throw new ht(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fr._jsonSchemaVersion="firestore/vectorValue/1.0",Fr._jsonSchema={type:Ce("string",Fr._jsonSchemaVersion),vectorValues:Ce("object")};const pA=new RegExp("[~\\*/\\[\\]]");function yA(s,t,n){if(t.search(pA)>=0)throw i_(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s);try{return new kE(...t.split("."))._internalPath}catch{throw i_(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s)}}function i_(s,t,n,r,o){let u=`Function ${t}() called with invalid data`;u+=". ";let h="";return new ht(W.INVALID_ARGUMENT,u+s+h)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(t,n,r,o,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new _A(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(jE("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _A extends zE{data(){return super.data()}}function jE(s,t){return typeof t=="string"?yA(s,t):t instanceof kE?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ht(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class EA{convertValue(t,n="none"){switch(Gr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return se(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Yi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw dt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Au(t,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(t){const n=t.fields?.[du].arrayValue?.values?.map((r=>se(r.doubleValue)));return new Fr(n)}convertGeoPoint(t){return new Hr(se(t.latitude),se(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=$h(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fu(t));default:return null}}convertTimestamp(t){const n=Qi(t);return new ae(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=$t.fromString(t);mt(Jv(r),9688,{name:t});const o=new Xs(r.get(1),r.get(3)),u=new ut(r.popFirst(5));return o.isEqual(n)||rn(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class Ql{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ks extends zE{constructor(t,n,r,o,u,h){super(t,n,r,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(jE("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ks._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ks._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ks._jsonSchema={type:Ce("string",Ks._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class yh extends Ks{data(t={}){return super.data(t)}}class uo{constructor(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ql(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new yh(this._firestore,this._userDataWriter,r.key,r,new Ql(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ht(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const g=new yh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new yh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:TA(m.type),doc:g,oldIndex:p,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=uo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Z_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function TA(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:s})}}uo._jsonSchemaVersion="firestore/querySnapshot/1.0",uo._jsonSchema={type:Ce("string",uo._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class qE extends EA{constructor(t){super(),this.firestore=t}convertBytes(t){return new fi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function bA(s,...t){s=O_(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||n_(t[r])||(n=t[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(n_(t[r])){const g=t[r];t[r]=g.next?.bind(g),t[r+1]=g.error?.bind(g),t[r+2]=g.complete?.bind(g)}let u,h,m;if(s instanceof vn)h=Xl(s.firestore,qh),m=tf(s._key.path),u={next:g=>{t[r]&&t[r](SA(h,s,g))},error:t[r+1],complete:t[r+2]};else{const g=Xl(s,ff);h=Xl(g.firestore,qh),m=g._query;const p=new qE(h);u={next:E=>{t[r]&&t[r](new uo(h,p,g,E))},error:t[r+1],complete:t[r+2]},vA(s._query)}return(function(p,E,b,C){const P=new aA(C),Q=new jS(E,P,b);return p.asyncQueue.enqueueAndForget((async()=>BS(await X2(p),Q))),()=>{P.Nu(),p.asyncQueue.enqueueAndForget((async()=>US(await X2(p),Q)))}})(dA(h),m,o,u)}function SA(s,t,n){const r=n.docs.get(t._key),o=new qE(s);return new Ks(s,o,t._key,r,new Ql(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){Ro=o})(x9),Sh(new su("firestore",((r,{instanceIdentifier:o,options:u})=>{const h=r.getProvider("app").getImmediate(),m=new qh(new q9(r.getProvider("auth-internal")),new G9(h,r.getProvider("app-check-internal")),(function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ht(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xs(p.options.projectId,E)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ao(B0,U0,t),ao(B0,U0,"esm2020")})();var AA="firebase",CA="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ao(AA,CA,"app");const RA={apiKey:"AIzaSyBMEsh1ku_xkdxnFZEDqepAyH3OS2nY7ao",authDomain:"mawari-225.firebaseapp.com",projectId:"mawari-225",storageBucket:"mawari-225.firebasestorage.app",messagingSenderId:"514079917966",appId:"1:514079917966:web:cc7aa1b87174a661f8c6df"},wA=U_(RA),HE=fA(wA);console.log("projectId:",k_().options.projectId);mA(HE).catch(()=>{});const IA=()=>{const[s,t]=K.useState([]),[n,r]=K.useState(!0);return K.useEffect(()=>{const o=hA(HE,"products");return bA(o,h=>{const m=h.docs.map(g=>({id:g.id,...g.data()}));t(m),r(!1)},()=>r(!1))},[]),{products:s,isLoading:n}},r_=[{id:"gym",label:"Гимнастика",icon:"gymnastics"},{id:"dance",label:"Танцы",icon:"dance"},{id:"ballet",label:"Балет",icon:"ballet"},{id:"volley",label:"Волейбол",icon:"volleyball"},{id:"tennis",label:"Теннис",icon:"tennis"},{id:"football",label:"Футбол",icon:"football"},{id:"hockey",label:"Хоккей",icon:"hockey"},{id:"run",label:"Бег",icon:"run"}],xA=new Intl.NumberFormat("ru-RU",{style:"currency",currency:"KZT",maximumFractionDigits:0}),DA=()=>{const[s,t]=K.useState([]),[n,r]=K.useState(""),{products:o,isLoading:u}=IA(),h=K.useMemo(()=>o.map((p,E)=>({id:p.id,image:p.image??`https://picsum.photos/600?${E+1}`,category:p.category??"",title:p.name??"",price:xA.format(Number(p.price)||0)})),[o]),m=K.useMemo(()=>new Set(s.map(p=>r_.find(E=>E.id===p)?.label).filter(Boolean)),[s]),g=K.useMemo(()=>{const p=n.trim().toLowerCase();return h.filter(E=>{const b=m.size===0||m.has(E.category),C=p.length===0||E.title.toLowerCase().includes(p)||E.category.toLowerCase().includes(p);return b&&C})},[h,m,n]);return j.jsxs("section",{style:{position:"fixed",left:0,right:0},children:[j.jsx(S_,{searchValue:n,onSearchChange:r}),j.jsxs("div",{style:{padding:16,display:"flex",flexDirection:"column",gap:16,height:"calc(100vh - 136px - 64px)",overflowY:"auto"},children:[j.jsx(a6,{categories:r_,selectedIds:s,onChange:t,multi:!0,onOpenFilter:()=>console.log("open filter modal")}),u?j.jsx("div",{style:{padding:16},children:"Загрузка…"}):j.jsx(A_,{products:g})]})]})},VA=({onGoBack:s})=>{const t=vi(),n=Zn[t];return j.jsxs("div",{style:{paddingRight:56,paddingBottom:8,height:48,display:"flex",flex:1,alignItems:"center",borderBottomStyle:"solid",borderBottomWidth:1,borderBottomColor:n.surfaceColor},children:[j.jsx("div",{style:{paddingTop:0,width:56,height:40,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},onClick:s,children:j.jsx(co,{name:"arrow-left",size:24,color:n.primary})}),j.jsx("div",{style:{position:"relative",height:56,display:"flex",flex:1,alignItems:"center"},children:"ВЕРНУТЬСЯ НАЗАД"})]})},MA=()=>{const{id:s}=n5(),t=Fh(),n=vi(),r=Zn[n],o=()=>{t(-1)},u={image:`https://picsum.photos/600?${s||"1"}`,category:"Спорт/Гимнастика",title:"Костюм размер 23",price:"32 000 ₸",description:"Костюм для гимнастики, размер 23. Отличное состояние, подходит для тренировок и выступлений."};return j.jsxs("section",{style:{position:"fixed",left:0,right:0},children:[j.jsx(VA,{onGoBack:o}),j.jsxs("div",{style:{padding:16,display:"flex",flexDirection:"column",gap:8,height:"calc(100vh - 90px)",overflowY:"auto",boxSizing:"border-box"},children:[j.jsx("div",{style:{},children:j.jsx("img",{src:u.image,alt:u.title,style:{width:"100%",aspectRatio:"1 / 1",objectFit:"cover",borderRadius:"12px",border:`1px solid ${r.border}`}})}),j.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4},children:[j.jsx("div",{style:{fontSize:14,color:r.lightText},children:u.category}),j.jsx("h2",{style:{margin:0,fontSize:16,fontWeight:600,color:r.text},children:u.title}),j.jsx("div",{style:{fontSize:16,fontWeight:600,color:r.primary},children:u.price}),j.jsx("div",{style:{fontSize:16,lineHeight:"1.5",color:r.text,marginTop:16},children:u.description})]}),j.jsxs("div",{style:{display:"flex",gap:8,marginTop:16,paddingBottom:48},children:[j.jsx("button",{style:{flex:1,padding:"16px",backgroundColor:r.primary,color:r.lighter,border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:600,cursor:"pointer"},children:"Связаться с продавцом"}),j.jsx("button",{style:{padding:"16px",backgroundColor:r.controlColor,color:r.text,border:"none",borderRadius:"12px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:j.jsx(co,{name:"search",size:20,color:r.text})})]})]})]})},NA=[{id:"1",image:"https://picsum.photos/600?1",category:"Спорт/Гимнастика",title:"Костюм размер 23",price:"32 000 ₸"},{id:"2",image:"https://picsum.photos/600?2",category:"Спорт/Гимнастика",title:"Костюм",price:"13 000 ₸"},{id:"3",image:"https://picsum.photos/600?3",category:"Спорт/Теннис",title:"Ракетка Wilson",price:"25 000 ₸"},{id:"4",image:"https://picsum.photos/600?4",category:"Спорт/Футбол",title:"Бутсы Nike",price:"18 500 ₸"},{id:"5",image:"https://picsum.photos/600?5",category:"Спорт/Плавание",title:"Очки для плавания",price:"7 200 ₸"},{id:"6",image:"https://picsum.photos/600?6",category:"Спорт/Бокс",title:"Перчатки",price:"15 000 ₸"}],OA=()=>{const[s,t]=K.useState(""),n=r=>{t(r)};return j.jsxs("section",{style:{position:"fixed",left:0,right:0},children:[j.jsx(S_,{searchValue:s,onSearchChange:n}),j.jsx("div",{style:{padding:16,display:"flex",flexDirection:"column",gap:16,height:"calc(100vh - 136px - 64px)",overflowY:"auto"},children:j.jsx(A_,{products:NA})})]})},PA=()=>{const s=vi(),t=Zn[s];return j.jsxs("section",{style:{minHeight:"100vh",backgroundColor:t.background,color:t.text,padding:"16px",paddingBottom:"80px"},children:[j.jsx("h1",{style:{margin:"0 0 24px 0",fontSize:"24px",fontWeight:600,color:t.text},children:"Корзина"}),j.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"300px",color:t.lightText},children:j.jsx("p",{children:"Ваша корзина пуста"})})]})},LA=()=>{const s=vi(),t=Zn[s];return j.jsxs("section",{style:{minHeight:"100vh",backgroundColor:t.background,color:t.text,padding:"16px",paddingBottom:"80px"},children:[j.jsx("h1",{style:{margin:"0 0 24px 0",fontSize:"24px",fontWeight:600,color:t.text},children:"Мои заказы"}),j.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"300px",color:t.lightText},children:j.jsx("p",{children:"У вас пока нет заказов"})})]})},BA=()=>{const{pathname:s}=Xi(),t=s.replace("/sharity-web/","/"),n=["/store","/favorites","/cart","/orders"].includes(t);return j.jsxs(j.Fragment,{children:[j.jsxs(y5,{children:[j.jsx(ji,{path:"/",element:j.jsx(i6,{})}),j.jsx(ji,{path:"classes",element:j.jsx(r6,{})}),j.jsx(ji,{path:"events",element:j.jsx(s6,{})}),j.jsx(ji,{path:"store",element:j.jsx(DA,{})}),j.jsx(ji,{path:"product/:id",element:j.jsx(MA,{})}),j.jsx(ji,{path:"favorites",element:j.jsx(OA,{})}),j.jsx(ji,{path:"cart",element:j.jsx(PA,{})}),j.jsx(ji,{path:"orders",element:j.jsx(LA,{})})]}),n&&j.jsx(b_,{})]})},UA=()=>(t6(),j.jsx(z5,{basename:"/sharity-web/",children:j.jsx(BA,{})}));RT.createRoot(document.getElementById("root")).render(j.jsx(K.StrictMode,{children:j.jsx(UA,{})}));
